!function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/activity.html",'<dl class="mod_path">\n    <dt>活动管理</dt>\n    <dd>您可以对活动进行管理</dd>\n</dl>\n')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/cate.html",'<div class="mod_text">\n    标签管理<br>\n    您可以对标签进行管理\n</div>\n\n\n<dl class="mod_cate_list">\n    <dt>\n        <div></div>\n        <div><input type="checkbox" /></div>\n        <div>ID</div>\n        <div>标签名称</div>\n        <div>操作</div>\n    </dt>\n    <list class="b_0" ng-repeat="(k, v) in CateList track by $index">\n        <dd>\n            <div ng-class="{sum: v.HasSub && !v.ShowSub, minus: v.ShowSub}" ng-click="showCate({e: $event, id: v.CateId, sub: v.HasSub, key: k})"></div>\n            <div>\n                <input type="checkbox" ng-click="toggle(v.CateId)" ng-if="!v.HasSub" />\n            </div>\n            <div>{{v.CateId}}</div>\n            <div>{{v.CateName}}</div>\n            <div>\n                <i ng-click="modify(v.CateId)">修改</i>\n                <i ng-click="add(v.CateId)">增加子类</i>\n                <i ng-click="delete(v.CateId)" ng-if="!v.HasSub">删除</i>\n            </div>\n        </dd>\n\n        <list class="b_1" ng-repeat="(ik, iv) in CateList[k].Sub track by $index">\n            <dd>\n                <div ng-class="{sum: iv.HasSub && !iv.ShowSub, minus: iv.ShowSub}" ng-click="showCate({e: $event,id: iv.CateId, sub: iv.HasSub, key: ik, pid: v.CateId, pkey: k})"></div>\n                <div><input type="checkbox" ng-click="toggle(iv.CateId)" ng-if="!iv.HasSub" /></div>\n                <div>{{iv.CateId}}</div>\n                <div class="t_1">{{iv.CateName}}</div>\n                <div>\n                    <i ng-click="modify(iv.CateId)">修改</i>\n                    <i ng-click="add(iv.CateId)">增加子类</i>\n                    <i ng-click="del(iv.CateId)" ng-if="!iv.HasSub">删除</i>\n                </div>\n            </dd>\n\n            <list class="b_2" ng-repeat="(jk, jv) in CateList[k].Sub[ik].Sub track by $index">\n                <dd>\n                    <div></div>\n                    <div>\n                        <input type="checkbox" ng-click="toggle(jv.CateId)" ng-if="!jv.HasSub" />\n                    </div>\n                    <div>{{jv.CateId}}</div>\n                    <div class="t_2">{{jv.CateName}}</div>\n                    <div>\n                        <i ng-click="modify(jv.CateId)">修改</i>\n                        <!-- <i>增加子类</i> -->\n                        <i ng-click="del(jv.CateId)" ng-if="!jv.HasSub">删除</i>\n                    </div>\n                </dd>\n            </list>\n        </list>\n    </list>\n</dl>\n\n\n<ul class="mod_btn_list">\n    <li ng-click="test()">批量删除</li>\n</ul>\n\n<!-- <input type="file" ng-model="Deploy.currentImage" accept="image/*" app-filereader /> -->\n')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/club.html",'<dl class="mod_path">\n    <dt>圈子管理</dt>\n    <dd>您可以对圈子进行管理</dd>\n</dl>\n\n<dl class="mod_list mb10">\n    <dt>\n        <div ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}"></div>\n        <div>编号</div>\n        <div>圈子名称</div>\n        <div>圈子简介</div>\n        <div>圈子标签</div>\n        <div>帖子数</div>\n        <div>成员数</div>\n        <div>圈子图片</div>\n        <div>创建时间</div>\n        <div>操作</div>\n    </dt>\n    <dd ng-repeat="(k, v) in DataList.ClubList track by $index">\n        <div ng-click="setSelect($event)" data-id="{{v.ClubId}}" data-key="{{k}}" class="t_checkbox" ng-class="{select: v.Check}"></div>\n        <div>{{v.ClubId}}</div>\n        <div><a ui-sref="mange.club-thread({id: v.ClubId})">{{v.ClubName}}</a></div>\n        <div>{{v.Description}}</div>\n        <div>\n            <span style="padding-right:5px;" ng-repeat="(key, item) in v.CategoryList track by $index">{{item.CateName}}</span>\n        </div>\n        <div>{{v.TotalArticle}}</div>\n        <div>{{v.TotalUser}}</div>\n        <div><img ng-src="{{v.ImageUrl}}" /></div>\n        <div>{{v.CreateTime}}</div>\n        <div>\n            <p>编辑</p>\n            <p ng-click="delClub(v.ClubId)">删除</p>\n        </div>\n    </dd>\n</dl>\n\n<ul class="mod_btn_list mb10">\n    <li ng-click="delClub()">批量删除</li>\n</ul>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/club_add.html",'<dl class="mod_path">\n    <dt>圈子添加</dt>\n    <dd>您可以对圈子进行管理</dd>\n</dl>\n\n<ul class="mod_add mb10">\n    <li>\n        <label>圈子名称</label>\n        <input type="text" />\n    </li>\n    <li>\n        <label>圈子图片</label>\n        <input type="file" />\n    </li>\n    <li>\n        <label>圈子简介</label>\n        <textarea></textarea>\n    </li>\n    <li>\n        <label>圈子标签</label>\n    </li>\n</ul>\n<div class="mod_add_btn">\n    <p>保存</p>\n    <p>取消</p>\n</div>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/club_thread.html",'<dl class="mod_path">\n    <dt>圈子帖子管理</dt>\n    <dd>您可以对圈子进行管理</dd>\n</dl>\n\n<dl class="mod_list">\n    <dt>\n        <div><input type="checkbox" /></div>\n        <div>编号</div>\n        <div>圈子名称</div>\n        <div>圈子简介</div>\n        <div>圈子标签</div>\n        <div>帖子数</div>\n        <div>成员数</div>\n        <div>圈子图片</div>\n        <div>创建时间</div>\n        <div>操作</div>\n    </dt>\n    <dd ng-repeat="(k, v) in DataList.ClubList track by $index">\n        <div></div>\n        <div>{{v.ClubId}}</div>\n        <div><a ui-sref="mange.club-thread({id: v.ClubId})">{{v.ClubName}}</a></div>\n        <div>{{v.Description}}</div>\n        <div>\n            <span style="padding-right:5px;" ng-repeat="(key, item) in v.CategoryList track by $index">{{item.CateName}}</span>\n        </div>\n        <div>{{v.TotalArticle}}</div>\n        <div>{{v.TotalUser}}</div>\n        <div><img ng-src="{{v.ImageUrl}}" /></div>\n        <div>{{v.CreateTime}}</div>\n        <div>\n            <p>编辑</p>\n            <p>删除</p>\n        </div>\n    </dd>\n</dl>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/comment.html",'<dl class="mod_path">\n    <dt>评论管理</dt>\n    <dd>您可以对评论进行删除</dd>\n</dl>\n\n<dl class="mod_list" ng-class="{mb10: DataList.CommentList.length>0}">\n    <dt>\n        <div ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}"></div>\n        <div>编号</div>\n        <div>被评论帖子</div>\n        <div>评论者</div>\n        <div style="width:300px;">评论内容</div>\n        <div>评论时间</div>\n        <div>操作</div>\n    </dt>\n    <dd ng-repeat="(k, v) in DataList.CommentList track by $index" ng-if="DataList.CommentList.length>0">\n        <div ng-click="setSelect($event)" data-id="{{v.CommentId}}" data-key="{{k}}" class="t_checkbox" ng-class="{select: v.Check}"></div>\n        <div>{{v.CommentId}}</div>\n        <div>\n            <a ui-sref="mange.list-detail({id: v.ArticleId})">{{v.Images[0].Description}}</a>\n        </div>\n        <div>{{v.Author.UserName}}</div>\n        <div>{{v.Content}}</div>\n        <div>{{v.UpdateTime}}</div>\n        <div>\n            <p ng-click="delComment(v.CommentId)">删除</p>\n        </div>\n    </dd>\n</dl>\n<div class="mod_nodata" ng-if="!DataList.CommentList || DataList.CommentList.length==0"></div>\n\n<show-page></show-page>\n\n<ul class="mod_btn_list mb10">\n    <li ng-click="delComment()">批量删除</li>\n</ul>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/index.html",'sadfasdfasd\n\n<!-- <input type="file" ng-model="Deploy.currentImage" accept="image/*" app-filereader /> -->\n')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/list.html",'<dl class="mod_path">\n    <dt>标签管理</dt>\n    <dd>您可以对标签进行管理</dd>\n</dl>\n\n<section class="filter_cate" ng-if="CateList.length > 0">\n    <select ng-repeat="(k, v) in CateList track by $index" ng-options="option.CateId as option.CateName for option in v.CategoryList" ng-model="Page.CateId[k]" ng-change="changeCate(k)">\n        <!-- <option ng-repeat="(i, item) in v.CategoryList track by $index" id="{{item.CateId}}">{{item.CateName}}</option> -->\n    </select>\n </section>\n\n<section class="list_article" ng-if="DataList.ArticleList.length > 0">\n    <h3 ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}">\n        全选\n    </h3>\n    <ul>\n        <li ng-repeat="(k, v) in DataList.ArticleList track by $index">\n            <div class="t_img" ui-sref="mange.list-detail({id: v.ArticleId, type: Page.Type})">\n                <img ng-src="{{v.Images[0].ImageUrl}}" />\n            </div>\n            <div class="t_cate">\n                <p ng-click="setSelect($event)" data-id="{{v.ArticleId}}" data-key="{{k}}" ng-class="{select: v.Check}"></p>\n                <i ng-repeat="(i, item) in v.CategoryList track by $index">#{{item.CateName}}</i>\n            </div>\n            <div class="t_time">{{v.CreateTime}}</div>\n            <div class="t_btn">\n                <p data-id="{{v.ArticleId}}" ng-click="setCheck($event, v.ArticleId)" data-type="yCate" ng-if="v.EditState==\'nCate\'">\n                    推荐栏目页\n                </p>\n                <p data-id="{{v.ArticleId}}" ng-click="setCheck($event, v.ArticleId)" data-type="nCate" ng-if="v.EditState==\'yCate\'" class="t_color">\n                    取消栏目页\n                </p>\n                <p data-id="{{v.ArticleId}}" ng-click="setCheck($event, v.ArticleId)" data-type="yHome" ng-if="v.HomeState==\'nHome\'">\n                    推荐首页\n                </p>\n                <p data-id="{{v.ArticleId}}" ng-click="setCheck($event, v.ArticleId)" data-type="nHome" ng-if="v.HomeState==\'yHome\'" class="t_color">\n                    取消首页\n                </p>\n                <p data-id="{{v.ArticleId}}" ng-click="delData($event, v.ArticleId)">删除</p>\n            </div>\n        </li>\n    </ul>\n</section>\n\n\n<div class="mod_nodata" ng-if="DataList.ArticleList.length == 0"></div>\n\n<!-- <ul ngd-click="changePage($event)" selector="li" class="mod_page mb10">\n    <li data-id="1">1</li>\n    <li data-id="2">2</li>\n    <li data-id="3">3</li>\n    <li data-id="4">4</li>\n</ul> -->\n<show-page></show-page>\n\n\n<ul class="mod_btn_list mb10">\n    <li class="t_select">\n        <select>\n            <option>选择栏目</option>\n            <option>1123</option>\n            <option>1123</option>\n            <option>1123</option>\n            <option>1231</option>\n        </select>\n        <select>\n            <option>11232</option>\n            <option>21231</option>\n            <option>31231</option>\n            <option>41231</option>\n        </select>\n        <select>\n            <option>121231231232</option>\n            <option>21</option>\n            <option>31</option>\n            <option>41</option>\n        </select>\n    </li>\n\n    <li ng-click="setCate($event)">批量归类</li>\n    <li ng-click="delData($event)">批量删除</li>\n\n    <li ng-click="setCheck($event)" data-type="yCate">推荐栏目页</li>\n    <li ng-click="setCheck($event)" data-type="nCate">取消推荐栏目页</li>\n    <li ng-click="setCheck($event)" data-type="yHome">推荐首页</li>\n    <li ng-click="setCheck($event)" data-type="nHome">取消推荐首页</li>\n</ul>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/list_detail.html",'<section class="article_detail">\n    <ul class="t_content">\n        <li ng-repeat="(k, v) in DataList.Images track by $index">\n            <img ng-src="{{v.ImageUrl}}" />\n            <div data-ng-bind-html="v.Description">{{v.Description}}</div>\n        </li>\n    </ul>\n\n    <div class="t_author">\n        <img ng-src="{{DataList.Author.ImageUrl}}" />\n        <div>\n            <h4>{{DataList.Author.UserName}}</h4>\n            发布到：<i ng-repeat="(k, v) in DataList.CategoryList track by $index">#{{v.CateName}}</i>\n        </div>\n    </div>\n</section>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/login.html",'\n\n<!-- <input type="file" ng-model="Deploy.currentImage" accept="image/*" app-filereader /> -->\n\n<ul class="mod_login">\n    <li>\n        <label>手机号：</label>\n        <input ng-model="cInput.Phone" type="text" placeholder="手机号" />\n    </li>\n    <li>\n        <label>密码：</label>\n        <input ng-model="cInput.Password" type="password" placeholder="输入用户密码" />\n    </li>\n    <li>\n        <label>验证码：</label>\n        <input ng-model="cInput.Code" type="text" placeholder="验证码" />\n        <div>1234</div>\n    </li>\n    <li ng-click="toLogin()">登录</li>\n</ul>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/main.html",'<header-bar></header-bar>\n\n<section class="mod_wrapper">\n    <menu-bar></menu-bar>\n    <div class="mod_right" ui-view></div>\n</section>\n')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/password.html",'<section class="mod_password">\n    <ul>\n        <li>\n            <label>旧密码：</label>\n            <input type="password" />\n        </li>\n        <li>\n            <label>新密码：</label>\n            <input type="password" />\n        </li>\n        <li>\n            <label>确认新密码：</label>\n            <input type="password" />\n        </li>\n    </ul>\n\n    <button ng-click="setModify()">提交</button>\n</section>\n')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/subject.html",'<dl class="mod_path">\n    <dt>专题管理</dt>\n    <dd>您可以对专题进行管理</dd>\n</dl>\n')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/subject_add.html",'<dl class="mod_path">\n    <dt>专题管理</dt>\n    <dd>您可以对专题进行管理</dd>\n</dl>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/subject_thread.html",'<dl class="mod_path">\n    <dt>专题管理</dt>\n    <dd>您可以对专题进行管理</dd>\n</dl>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/user.html",'sadfasdfasd\n\n<!-- <input type="file" ng-model="Deploy.currentImage" accept="image/*" app-filereader /> -->\n')}])}(),angular.module("Tjoys").controller("tActivity",["$scope","$rootScope","widget",function(t,e,n){e.Menu="club",e.SubMenu="activity"}]),angular.module("Tjoys").controller("tCate",["$scope","$rootScope","widget",function(t,e,n){e.Menu="article",e.SubMenu="cate",t.showCate=function(e){t.getData(e)},t.getData=function(e){return e||(e={}),e.e&&angular.element(e.e.target).attr("data-show")?void(e.pid?(angular.element(e.e.target).attr("data-show",""),t.CateList[e.pkey].Sub[e.key].ShowSub=!1,t.CateList[e.pkey].Sub[e.key].Sub=[]):(angular.element(e.e.target).attr("data-show",""),t.CateList[e.key].ShowSub=!1,t.CateList[e.key].Sub=[])):void n.ajaxRequest({scope:t,url:"getListCategory",data:{CateId:e.id||""},success:function(n){e.id?e.pid?(angular.element(e.e.target).attr("data-show",!0),t.CateList[e.pkey].Sub[e.key].ShowSub=!0,t.CateList[e.pkey].Sub[e.key].Sub=n.CategoryList):(angular.element(e.e.target).attr("data-show",!0),t.CateList[e.key].ShowSub=!0,t.CateList[e.key].Sub=n.CategoryList):t.CateList=n.CategoryList}})},t.getData(),t.cInput=[],t.toggle=function(e){var n,a=!1;angular.forEach(t.cInput,function(t,i){a||t==e&&(n=i,a=!0)}),a?t.cInput.splice(n,n):t.cInput.push(e),console.log(t.cInput)},t.modify=function(t){alert(t)},t["delete"]=function(t){alert(t)},t.add=function(t){alert(t)}}]),angular.module("Tjoys").controller("tClub",["$scope","$rootScope","widget",function(t,e,n){e.Menu="club",e.SubMenu="club",t.Page={isAll:!1,SelectId:[]},t.DataList={},t.loadMore=function(){t.Page.isAll=!1,n.ajaxRequest({scope:t,url:"getClubList",data:{},success:function(e){t.DataList=e},error:function(t){n.msgToast("失败")}})},t.loadMore(),t.setSelect=function(e,n){if(n&&"all"==n)t.Page.isAll?(angular.forEach(t.DataList.ClubList,function(t,e){t.Check=!1}),t.Page.isAll=!1):(angular.forEach(t.DataList.ClubList,function(t,e){t.Check=!0}),t.Page.isAll=!0);else{var a=angular.element(e.target),i=!0,l=a.attr("data-key");a.attr("data-id");t.DataList.ClubList[l].Check&&(t.Page.isAll=!1),t.DataList.ClubList[l].Check=!t.DataList.ClubList[l].Check,angular.forEach(t.DataList.ClubList,function(t,e){t.Check||(i=!1)}),i?t.Page.isAll=!0:t.Page.isAll=!1}},t.getSelect=function(){t.Page.SelectId=[],angular.forEach(t.DataList.ClubList,function(e,n){e.Check&&t.Page.SelectId.push(e.ClubId)})},t.delClub=function(e){return e?t.Page.SelectId=[e]:t.getSelect(),0==t.Page.SelectId.length?void n.msgToast("请选择要删除的圈子"):void n.ajaxRequest({scope:t,url:"delClub",data:{ClubId:t.Page.SelectId},success:function(e){t.loadMore(),n.msgToast("删除圈子成功")},error:function(t){n.msgToast("删除圈子失败")}})}}]),angular.module("Tjoys").controller("tClubAdd",["$scope","$rootScope","widget",function(t,e,n){e.Menu="club",e.SubMenu="club-add"}]),angular.module("Tjoys").controller("tClubThread",["$scope","$rootScope","widget",function(t,e,n){e.Menu="club",e.SubMenu="club",t.DataList={}}]),angular.module("Tjoys").controller("tComment",["$scope","$rootScope","widget",function(t,e,n){e.Menu="article",e.SubMenu="comment",t.Page={SelectId:[],pageIndex:1,pageSize:20},t.DataList={},t.loadMore=function(){n.ajaxRequest({scope:t,url:"getCommentList",data:{PageIndex:t.Page.pageIndex,PageSize:t.Page.pageSize},success:function(e){t.DataList=e},error:function(t){}})},t.loadMore(),t.setSelect=function(e,n){if(n&&"all"==n)t.Page.isAll?(angular.forEach(t.DataList.CommentList,function(t,e){t.Check=!1}),t.Page.isAll=!1):(angular.forEach(t.DataList.CommentList,function(t,e){t.Check=!0}),t.Page.isAll=!0);else{var a=angular.element(e.target),i=!0,l=a.attr("data-key");a.attr("data-id");t.DataList.CommentList[l].Check&&(t.Page.isAll=!1),t.DataList.CommentList[l].Check=!t.DataList.CommentList[l].Check,angular.forEach(t.DataList.CommentList,function(t,e){t.Check||(i=!1)}),i?t.Page.isAll=!0:t.Page.isAll=!1}},t.delComment=function(e){return e&&(t.Page.SelectId=[e]),t.getSelectId(),0==t.Page.SelectId.length?void n.msgToast("请选择要删除的评论"):void n.ajaxRequest({scope:t,url:"delComment",data:{CommentId:t.Page.SelectId},success:function(t){n.msgToast("评论删除成功")},error:function(t){n.msgToast("评论删除失败")}})}}]),angular.module("Tjoys").controller("tIndex",["$scope","$rootScope","widget",function(t,e,n){e.Menu="web",e.SubMenu="web"}]),angular.module("Tjoys").controller("tList",["$state","$scope","$rootScope","$stateParams","widget",function(t,e,n,a,i){switch(n.Menu="article",n.SubMenu=a.type?"list-"+a.type:"list",e.Page={pageIndex:parseInt(a.index,0)||1,pageSize:20,CateId:[],tCateId:"",Type:"",SelectId:[],isAll:!1},e.tmpType=a.type||"",e.tmpType){case"yes":e.Page.Type="yCate";break;case"no":e.Page.Type="nCate";break;case"home":e.Page.Type="yHome";break;default:e.Page.Type=""}e.DataList={},e.loadMore=function(){e.Page.isAll=!1,i.ajaxRequest({scope:e,url:"getArticleList",data:{CateId:parseInt(a.cateid,0)||"",Type:e.Page.Type,PageIndex:e.Page.pageIndex,PageSize:e.Page.pageSize},success:function(t){angular.extend(e.DataList,t)}})},e.loadMore(),e.CateList=[],e.getCate=function(){i.ajaxRequest({scope:e,url:"getListCategory",data:{CateId:e.Page.tCateId},success:function(t){if(t.CategoryList.length>0){var n=e.CateList.length,a=e.Page.CateKey;e.CateList.splice(a+1,n-a+1),e.CateList.push(t)}}})},e.getCate(),e.changeCate=function(t){e.Page.tCateId=e.Page.CateId[t],e.Page.CateKey=t,e.getCate()},e.setCate=function(t){return 0==e.Page.SelectId.length?void i.msgToast("选择归类的图片"):void 0},e.setCheck=function(t,n){var a=angular.element(t.target),l="",d=a.attr("data-type");if(n?e.Page.SelectId=[n]:e.getSelect(),0==e.Page.SelectId.length)return void i.msgToast("选择推荐的图片");switch(d){case"nCate":l="取消栏目推荐";break;case"nHome":l="取消首页推荐";break;case"yCate":l="栏目推荐";break;case"yHome":l="首页推荐"}i.ajaxRequest({scope:e,url:"setArticleCheck",errmsg:l+"失败",data:{ArticleId:e.Page.SelectId,Type:d},success:function(t){i.msgToast(l+"成功"),e.loadMore()},error:function(t){i.msgToast(l+"失败")}})},e.setSelect=function(t,n){if(n&&"all"==n)e.Page.isAll?(angular.forEach(e.DataList.ArticleList,function(t,e){t.Check=!1}),e.Page.isAll=!1):(angular.forEach(e.DataList.ArticleList,function(t,e){t.Check=!0}),e.Page.isAll=!0);else{var a=angular.element(t.target),i=!0,l=a.attr("data-key");a.attr("data-id");e.DataList.ArticleList[l].Check&&(e.Page.isAll=!1),e.DataList.ArticleList[l].Check=!e.DataList.ArticleList[l].Check,angular.forEach(e.DataList.ArticleList,function(t,e){t.Check||(i=!1)}),i?e.Page.isAll=!0:e.Page.isAll=!1}},e.getSelect=function(){e.Page.SelectId=[],angular.forEach(e.DataList.ArticleList,function(t,n){t.Check&&e.Page.SelectId.push(t.ArticleId)})},e.delData=function(t,n){var a=angular.element(t.target);a.attr("data-type");return n?e.Page.SelectId=[n]:e.getSelect(),0==e.Page.SelectId.length?void i.msgToast("选择删除的图片"):void i.ajaxRequest({scope:e,url:"delArticle",data:{ArticleId:e.Page.SelectId},success:function(t){i.msgToast("删除成功"),e.loadMore()},error:function(t){i.msgToast("删除失败")}})}}]),angular.module("Tjoys").controller("tListDetail",["$sce","$scope","$rootScope","$stateParams","widget",function(t,e,n,a,i){n.Menu="article",n.SubMenu=a.type?"list-"+a.type:"list",e.DataList={},i.ajaxRequest({scope:e,url:"getContentArticle",data:{ArticleId:parseInt(a.id,0)},success:function(n){angular.extend(e.DataList,n),angular.forEach(e.DataList.Images,function(e,n){e.Description=t.trustAsHtml(e.Description)}),console.log(e.DataList)}})}]),angular.module("Tjoys").controller("tLogin",["$state","$scope","$rootScope","widget",function(t,e,n,a){n.showHeader=!1,e.cInput={},e.toLogin=function(){return e.cInput.Phone?e.cInput.Password?e.cInput.Code?void a.ajaxRequest({scope:e,url:"getLogin",data:{Phone:e.cInput.Phone,Password:md5(e.cInput.Password)},success:function(e){a.setLogin({UserId:e.UserId,Auth:e.Auth}),t.go("mange.list")},error:function(t){a.msgToast("登录失败")}}):void a.msgToast("请输入验证码!"):void a.msgToast("请输入登录密码!"):void a.msgToast("请输入手机号!")}}]),angular.module("Tjoys").controller("tPassword",["$scope","$rootScope","widget",function(t,e,n){e.Menu="web",e.SubMenu="password"}]),angular.module("Tjoys").controller("tSubject",["$scope","$rootScope","widget",function(t,e,n){e.Menu="club",e.SubMenu="subject"}]),angular.module("Tjoys").controller("tSubjectAdd",["$scope","$rootScope","widget",function(t,e,n){e.Menu="club",e.SubMenu="subject-add"}]),angular.module("Tjoys").controller("tSubjectThread",["$scope","$rootScope","widget",function(t,e,n){e.Menu="club",e.SubMenu="subject"}]),angular.module("Tjoys").controller("tUser",["$scope","$rootScope","widget",function(t,e,n){e.Menu="user",e.SubMenu="user"}]);