!function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("entry/tp/attent_cate.html",'<section ng-if="UserInfo.UserId">\n    <header-bar title="订阅喜爱的栏目" right="下一步|doAttent"></header-bar>\n\n    <ion-view>\n        <ion-content overflow-scroll="true" class="register_layout mod_wrapper">\n\n            <div class="mod_layout">\n                <h3 class="column_title">\n                    <p>勾选感兴趣的栏目，可优先显示</p>\n                    <p ng-class="{hited: cInput.All}" ng-click="itemAll()">全选</p>\n                </h3>\n\n                <ul class="column_list" ngd-click="itemClick($event)" selector="div">\n                    <li ng-repeat="(k, v) in CateList track by $index">\n                        <div ng-class="{selected: v.Selected}" data-k="{{k}}">\n                            <img ng-src="{{v.ImageUrl}}" />\n                        </div>\n                        {{v.CateName}}\n                    </li>\n                </ul>\n            </div>\n\n        </ion-content>\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("entry/tp/entry.html",'<ion-view class="entry">\n    <!--<ion-content>-->\n        <div class=\'t_logo\'><img src="themes/img/login_bg.png" /></div>\n\n        <div class="entry_button">\n            <button page-jump data-router="forum.reg-create" class="register">注册</button>\n            <button page-jump data-router="forum.login" class="login">登录</button>\n        </div>\n        \n        <div class="entry_help">\n            <a page-jump data-router="forum.user-feedback">? 帮助与反馈</a>\n        </div>\n    <!--</ion-content>-->\n</ion-view>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("entry/tp/follow.html",'<section ng-if="UserInfo.UserId">\n    <header-bar title="关注感兴趣的人" right="完成|done"></header-bar>\n\n    <ion-view>\n        <ion-content overflow-scroll="true" class="mod_wrapper">\n\n            <div class="mod_reg_follow">\n                <dl ng-repeat="v in ListJob track by $index">\n                    <dt>\n                        <img ng-if="v.Author.ImageUrl" ng-src="{{v.Author.ImageUrl}}" />\n                        <img ng-if="!v.Author.ImageUrl" ng-src="dUserImageL" />\n                        <div>  \n                            <h3>{{v.Author.UserName}}</h3>\n                            你们都选择了<i>{{UserInfo.JobName}}</i>岗位\n                        </div>\n                        <p></p>\n                    </dt>\n                    <dd>\n                        <ion-scroll direction="x" scrollbar-x="false" locking="false">\n                        <ul>\n                            <li ng-repeat="n in v.ArticleList track by $index">\n                                <img ng-src="{{i.Images[0].ImageUrl}}" />\n                            </li>\n                        </ul>\n                        </ion-scroll>\n                    </dd>\n                </dl>\n\n                <dl ng-repeat="v in ListCity track by $index">\n                    <dt>\n                        <img ng-if="v.Author.ImageUrl" ng-src="{{v.Author.ImageUrl}}" />\n                        <img ng-if="!v.Author.ImageUrl" ng-src="dUserImageL" />\n                        <div>  \n                            <h3>{{v.Author.UserName}}</h3>\n                            你们都选择了<i>{{UserInfo.CityName}}</i>岗位\n                        </div>\n                        <p></p>\n                    </dt>\n                    <dd>\n                        <ion-scroll direction="x" scrollbar-x="false" locking="false">\n                        <ul>\n                            <li ng-repeat="n in v.ArticleList track by $index">\n                                <img ng-src="{{i.Images[0].ImageUrl}}" />\n                            </li>\n                        </ul>\n                        </ion-scroll>\n                    </dd>\n                </dl>\n            </div>\n\n        </ion-content>\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("entry/tp/forget.html",'<header-bar title="找回密码"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="login_layout mod_wrapper">\n        \n        <section ng-if="!isModify">\n            <div class="mod_layout">\n                <ul class="mod_list_default">\n                    <li>\n                        <label>手机号</label>\n                        <input ng-model="cInput.phone" type="tel" placeholder="请输入注册时的手机号码">\n                    </li>\n                    <li>\n                        <label>密码</label>\n                        <input ng-model="cInput.password" type="password" placeholder="6-16位字符，区分大小写" />\n                    </li>\n                    <li>\n                        <label>确认密码</label>\n                        <input ng-model="cInput.passwordCheck" type="password" placeholder="6-16位字符，区分大小写" />\n                    </li>\n                </ul>\n            </div>\n        \n            <div class="mod_phone_code">\n                <button get-vcode data-type="3" ng-class="{disable:vColdDown}">{{vBtnText}}</button>\n                <input ng-model="cInput.vcode" type="text" placeholder="请输入收到的验证码" />\n            </div>\n\n            <button class="unit_btn" ng-click="changePassword()">提交验证</button>\n        </section>\n\n\n        <section ng-if="isModify" class="user_login_forget">\n            <div>密码修改成功</div>\n\n            <ul>\n                <li page-jump data-router="forum.home">去首页</li>\n                <li page-jump data-router="forum.login">去登录</li>\n            </ul>\n        </section>\n\n    </ion-content>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("entry/tp/login.html",'<header-bar title="登录"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="login_layout mod_wrapper">\n\n        <div class="mod_layout">\n            <ul class="mod_list_default">\n                <li class="phone">\n                    <input ng-model="cInput.Phone" type="tel" placeholder="用户名(手机号码)" />\n                </li>\n                <li class="password last_border_line">\n                    <input ng-model="cInput.Password" type="password" placeholder="密码" />\n                </li>\n            </ul>\n            <button ng-click="goLogin()" class="login_button">登录</button>\n            <div class="forget_password">\n                <a page-jump data-router="forum.login-forget">忘记密码？</a>\n            </div>\n        </div>\n\n<!--         <h2 class="mod_layout_title">使用其他方式登录</h2>\n\n        <div class="mod_layout">\n            <ul class="mod_list_default" ngd-click="chooseLoginWay($event)" selector="a">\n                <li class="icon_qq">\n                    <a>QQ账号登录</a>\n                </li>\n                <li class="icon_weixin">\n                    <a>微信账号登录</a>\n                </li>\n                <li class="icon_weibo">\n                    <a>新浪微博账号登录</a>\n                </li>\n            </ul>\n        </div> -->\n\n    </ion-content>\n    \n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("entry/tp/main.html",'<!-- 主头部容器 -->\n<ion-nav-bar class="mod_header" no-tap-scroll="true" align-title="left">\n	<!-- 主头部后退 -->\n	<ion-nav-buttons side="left">\n		<button page-back class="back_button"></button>\n	</ion-nav-buttons>\n</ion-nav-bar>\n\n<!-- 主页面容器 -->\n<ion-nav-view></ion-nav-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("entry/tp/reg_account.html",'<header-bar title="<span>（</span>2<span>/2）</span>设置账号和密码">\n</header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="register_layout mod_wrapper">\n\n		<div class="mod_layout">\n            <ul class="mod_list_default mb10">\n                <li class="phone">\n                    <input ng-model="cInput.Phone" type="tel" placeholder="设置用于登录的手机号" />\n                </li>\n                <li class="password">\n                    <input ng-model="cInput.Password" type="password" placeholder="设置用于登录的密码" />\n                </li>\n            </ul>\n        </div>\n            \n        <div class="mod_phone_code">\n            <button get-vcode ng-class="{disable:vColdDown}">{{vBtnText}}</button>\n            <input ng-model="cInput.vcode" type="text" placeholder="请输入收到的验证码" />\n        </div>\n        \n        <button class="unit_btn" ng-click="submitReg()">提交注册</button>\n\n    </ion-content>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("entry/tp/reg_create.html",'<header-bar title="<span>（</span>1<span>/2）</span>创建个人资料" right="下一步|goNextStep"></header-bar>\n\n<ion-view >\n    <ion-content overflow-scroll="true" class="register_layout mod_wrapper" ng-style="styleScroll">\n        <div class="mod_layout">\n<!--             <ul class="register_data">\n                <li class="nickname">\n                    <label>昵称</label>\n                    <input ng-model="cInput.nickname" type="text" placeholder="用户名支持汉字、字母、数字">\n                </li>\n                <li class="gender">\n                    <span ng-click="cInput.sex = 1">\n                        <input name="sex" ng-checked="cInput.sex == 1" type="radio">\n                        <label>女</label>\n                    </span>\n                    <span ng-click="cInput.sex = 2">\n                        <input name="sex" ng-checked="cInput.sex == 2" type="radio">\n                        <label>男</label>\n                    </span>\n                </li>\n                <li location-popup class="location">{{cInput.city.Name}} {{cInput.village.Name}}</li>\n                <li job-popup class="post">{{cInput.job}}</li>\n            </ul>\n -->\n            <ul class="reg_info">\n                <li class="this_nickname">\n                    <label>昵称</label>\n                    <input ng-model="cInput.UserName" type="text" placeholder="用户名支持汉字、字母、数字、和下划线" />\n                </li>\n                <li class="this_sex">\n                    <label></label>\n                    <span ng-click="cInput.Sex = 1">\n                        <input name="sex" ng-checked="cInput.Sex == 1" type="radio" />\n                        <em>男</em>\n                    </span>\n                    <span ng-click="cInput.Sex = 2">\n                        <input name="sex" ng-checked="cInput.Sex == 2" type="radio" />\n                        <em>女</em>\n                    </span>\n                </li>\n<!-- \n                <li location-popup class="this_locate">\n                    <label>位置</label>\n                    <p>{{cInput.CityName}}</p>\n                </li> -->\n\n                <li ng-click="choiceCity()" class="this_locate">\n                    <label>位置</label>\n                    <p>{{cInput.AreaName}}</p>\n                </li>\n\n                <li job-popup class="this_job">\n                    <label>职业</label>\n                    <p>{{cInput.JobName}}</p>\n                </li>\n            </ul>\n        </div>\n\n    </ion-content>\n</ion-view>\n\n<city-list></city-list>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("entry/tp/reg_done.html",'<section ng-if="UserInfo.UserId && !UserInfo.UserImage">\n	<header-bar title="恭喜你！完成了注册！"></header-bar>\n\n	<ion-view>\n		<ion-content scroll="false" class="mod_wrapper">\n			<div class="reg_complete">\n				<div>\n					<p  ng-class="{t_radius: cInput.UserImage}" >\n						<img ng-src="{{cInput.UserImage || \'themes/img/done.png\'}}" />\n					</p>\n					先设置头像吧,<br>\n					做个有面子的人！\n				</div>\n\n				<ul>\n					<li ng-if="isHybrid">设置头像</li>\n					<li ng-if="!isHybrid"><input type="file" ng-model="cInput.UserImage" accept="image/*" web-userimage /></li>\n					<li>随便逛逛</li>\n				</ul>\n			</div>\n	        \n	        <canvas id="tmp" style="display:none;"></canvas>\n		</ion-content>\n	</ion-view>\n</section>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/activity_detail.html",'<!-- 图片类活动详情 -->\n<ion-view ng-if="Deploy.isType">\n    <header-bar></header-bar>\n\n    <ion-content overflow-scroll="true">\n\n        <div class="mod_description_01" ng-if="DataList.Content.Description">\n            <!-- <h2>{{DataList.Content.ActivityName}}</h2> -->\n            <article>{{DataList.Content.Description}}</article>\n        </div>\n\n        <!--瀑布流-->\n        <falls>\n            <li ng-repeat="(k, v) in DataList.ArticleList track by $index" data-x="{{v.Images[0].Width}}" data-y="{{v.Images[0].Height}}">\n                <a class="this_border" page-jump data-router="forum.detail" data-options=\'{ "id": {{v.ArticleId}} }\'>\n                    <img ng-src="{{v.Images[0].ImageUrl}}" />\n                    <article>\n                        <div class="this_text">{{v.Images[0].Description}}</div>\n                        \n                        <div class="this_star">{{v.TotalCollect}}</div>\n\n                        <div class="this_user">\n                            <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                            <dl>\n                                <dt>{{v.Author.UserName}}</dt>\n                                <dd>\n                                    <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                </dd>\n                            </dl>\n                        </div>\n                    </article>\n                </a>\n            </li>\n        </falls>\n\n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n        </ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n    </ion-content>\n\n    <button class="btn_camera" ng-click="setArticle()"></button>\n</ion-view>\n\n<!-- 文字类活动详情 -->\n<ion-view ng-if="!Deploy.isType" class="ios_status_bar">    <header-opacitydetail></header-opacitydetail>\n\n    <div class="mod_show_layout" ng-if="isShowLayout" ng-click="hideLayout()">\n        <ul ng-if="isOwner">\n            <li page-jump data-router="forum.edit" data-options="{id: Deploy.ArticleId}">编辑</li>\n            <li ng-click="doDelete()">删除</li>\n        </ul>\n        <ul ng-if="!isOwner">\n            <li page-jump data-router="forum.report" data-options="{id: Deploy.ArticleId, title: DataList.Author.UserName}">举报</li>\n            <li ng-click="setCollect()">收藏</li>\n            <!-- <li ng-if="isHybrid">分享</li> -->\n            <!-- <li ng-click="setPraise()">赞</li> -->\n            <!-- <li ng-click="showComment()">点评</li> -->\n        </ul>\n    </div>\n\n\n<!--     <div ng-if="isComment" class="detail_comment">\n        <section>\n            <article>\n                <textarea ng-model="cInput.comment" placeholder="请输入你想说的话"></textarea>\n                <p>\n                    <span ng-click="hideComment()">取消</span>\n                    <span ng-click="setComment()">发表评论</span>\n                </p>\n            </article>\n        </section>\n    </div> -->\n\n\n    <!-- <ion-content overflow-scroll="true" class="isscroll"> -->\n    \n    <ion-content has-bouncing="false" on-scroll="headerScroll()" delegate-handle="mainScroll" class="isscroll">\n\n        <section class="forum_detail">\n            <div class="this_detail_content">\n                <ul class="imgart_content">\n                    <li ng-repeat="(k, v) in DataList.Images track by $index">\n                        <img ng-src="{{v.ImageUrl}}" />\n                        {{v.Description}}\n                    </li>\n                </ul>\n\n                <ul class="this_comment_list">\n                    <li>\n                        <img ng-src="{{DataList.Author.ImageUrl || dUserImageL}}" page-jump data-router="forum.user-other-index" options="{uid: DataList.Author.UserId}" />\n                        <dl>\n                            <dt>\n                                <span>{{DataList.CreatedTime}}</span>\n                                {{DataList.Author.UserName}}\n                                <a ng-if="!UserState.isOwner" page-jump data-router="forum.chat" data-options="{uid: DataList.Author.UserId, name:DataList.Author.UserName}">私聊</a>\n                            </dt>\n                            <dd>\n                                发布到：\n                                <i ng-repeat="(k, v) in DataList.CategoryList track by $index">#{{v.CateName}}</i>\n                            </dd>\n                        </dl>\n                    </li>\n                </ul>\n            </div>\n\n\n            <div class="this_detail_wrapper">\n                <div class="this_text_01">\n                    <span>{{DataList.Total.TotalPraise}}</span>人赞过、\n                    <span>{{DataList.Total.TotalHit}}</span>次浏览\n<!--                     <span>{{DataList.Total.TotalComment}}</span>条评论,\n                    被收藏<span>{{DataList.Total.TotalCollect}}</span>次 -->\n                </div>\n\n                <div class="this_user_images" ng-if="DataList.PraiseUser.length > 0">\n                    <a ng-if="DataList.Total.StatePraise == 1" ng-click="setPraise()"></a>\n                    <a ng-if="DataList.Total.StatePraise == 2" class="hited"></a>\n                    <ion-scroll direction="x" scrollbar-x="false" locking="false">\n                        <ul>\n                            <li ng-repeat="v in DataList.PraiseUser track by $index" page-jump data-router="forum.user-other-index" options="{uid: v.UserId}">\n                                <img ng-src="{{v.ImageUrl || dUserImageL}}" />\n                            </li>\n                        </ul>\n                    </ion-scroll>\n                </div>\n\n                \n                <div class="this_comment_add">\n                    <img ng-src="{{UserInfo.UserImage || dUserImageL}}" />\n                    <div>\n                        <input ng-model="cInput.comment" type="text" placeholder="说说你的评论" />\n                    </div>\n                    <p ng-if="!cInput.comment">提交</p>\n                    <p ng-if="cInput.comment" class="hited" ng-click="setComment()">提交</p>\n                </div>\n                \n\n                <ul ng-if="DataList.CommentList.length > 0" class="this_comment_list">\n                    <li ng-repeat="v in DataList.CommentList track by $index">\n                        <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" page-jump data-router="forum.user-other-index" options="{uid: v.Author.UserId}">\n                        <dl>\n                            <dt>\n                                <span>{{v.UpdateTime}}</span>\n                                {{v.Author.UserName}}\n                            </dt>\n                            <dd>{{v.Content}}</dd>\n                        </dl>\n                    </li>\n                </ul>\n                <a class="this_comment_more" page-jump data-router="forum.comment-list" data-options="{id: Deploy.ArticleId}">\n                    查看更多\n                </a>\n            </div>\n\n            <div class="mod_title_text this_p" ng-if="DataList.ArticleList.length > 0">\n                <div>老师们也在看</div>\n            </div>\n            <div class="mod_list_img" ng-if="DataList.ArticleList.length > 0">\n                <ion-scroll direction="x" scrollbar-x="false" locking="false">\n                    <div class="this_wrapper">\n                        <a ng-repeat="(k, v) in DataList.ArticleList track by $index" page-jump data-router="forum.detail" data-options="{id:v.Deploy.ArticleId}">\n                            <div class="this_img">\n                                <img ng-src="{{v.Images[0].ImageUrl}}" />\n                            </div>\n                            <div class="this_title">\n                                <span ng-repeat="i in v.CategoryList">#{{i.CateName}}</span>\n                            </div>\n                            <div class="this_tx">{{v.TotalHit}}人看过</div>\n                        </a>\n                    </div>\n                </ion-scroll>\n            </div>\n            \n            <div class="mod_login_01" ng-if="!UserInfo.UserId">\n                <h3>想看看同行们发布的？</h3>\n                <a ng-click="showLogin()">马上登录</a>\n            </div>\n        </section>\n    </ion-content>\n</ion-view>\n\n<!-- 显示登录界面 -->\n<user-login></user-login>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/activity_list.html",'<header-bar title="活动列表"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true"  class="mod_wrapper">\n        <div class="forum_activity_list">\n            <a ng-repeat="(k, v) in DataList.ActivityList" page-jump data-router="forum.activity-detail" data-options="{{v.SiteUrl.options}}">\n                <h2>{{v.ActivityName}}</h2>\n                <h3>{{v.Description}}</h3>\n                <img ng-if="k < 2" ng-src="{{v.ImageUrl}}" />\n            </a>\n        </div>\n\n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n        </ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n    </ion-content>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/article_detail.html",'<!-- <header-bar title="详情" right="...|showLayout"></header-bar> -->\n\n<ion-view class="ios_status_bar">\n\n    <header-opacitydetail></header-opacitydetail>\n\n    <div class="mod_show_layout" ng-if="isShowLayout" ng-click="hideLayout()">\n        <ul ng-if="UserState.isOwner">\n            <li ng-click="doEdit()">编辑</li>\n            <li ng-click="doDelete()">删除</li>\n        </ul>\n        <ul ng-if="!UserState.isOwner">\n            <li page-jump data-router="forum.report" data-options="{type: \'article\', id: Deploy.ArticleId, title: DataList.Author.UserName}">举报</li>\n            <li ng-click="setCollect()">收藏</li>\n            <!-- <li ng-if="isHybrid">分享</li> -->\n            <!-- <li ng-click="setPraise()">赞</li> -->\n            <!-- <li ng-click="showComment()">点评</li> -->\n        </ul>\n    </div>\n\n\n<!--     <div ng-if="isComment" class="detail_comment">\n        <section>\n            <article>\n                <textarea ng-model="cInput.comment" placeholder="请输入你想说的话"></textarea>\n                <p>\n                    <span ng-click="hideComment()">取消</span>\n                    <span ng-click="setComment()">发表评论</span>\n                </p>\n            </article>\n        </section>\n    </div> -->\n\n\n    <!-- <ion-content overflow-scroll="true" class="isscroll"> -->\n    \n    <ion-content has-bouncing="false" on-scroll="headerScroll()" delegate-handle="mainScroll" class="isscroll">\n\n        <section class="forum_detail">\n            <div class="this_detail_content">\n                <ul class="imgart_content">\n                    <li ng-repeat="(k, v) in DataList.Images track by $index">\n                        <img ng-src="{{v.ImageUrl}}" />\n                        {{v.Description}}\n                    </li>\n                </ul>\n\n                <ul class="this_comment_list">\n                    <li>\n                        <img ng-src="{{DataList.Author.ImageUrl || dUserImageL}}" page-jump data-router="forum.user-other-index" options="{uid: DataList.Author.UserId}" />\n                        <dl>\n                            <dt>\n                                <span>{{DataList.CreatedTime}}</span>\n                                {{DataList.Author.UserName}}\n                                <a ng-if="!UserState.isOwner" page-jump data-router="forum.chat" data-options="{uid: DataList.Author.UserId, name:DataList.Author.UserName}">私聊</a>\n                            </dt>\n                            <dd>\n                                发布到：\n                                <i ng-repeat="(k, v) in DataList.CategoryList track by $index">#{{v.CateName}}</i>\n                            </dd>\n                        </dl>\n                    </li>\n                </ul>\n            </div>\n\n\n            <div class="this_detail_wrapper">\n                <div class="this_text_01">\n                    <span>{{DataList.Total.TotalPraise}}</span>人赞过、\n                    <span>{{DataList.Total.TotalHit}}</span>次浏览\n<!--                     <span>{{DataList.Total.TotalComment}}</span>条评论,\n                    被收藏<span>{{DataList.Total.TotalCollect}}</span>次 -->\n                </div>\n\n                <div class="this_user_images">\n                    <a ng-if="DataList.Total.StatePraise == 1" ng-click="setPraise($event)" data-id="212321"></a>\n                    <a ng-if="DataList.Total.StatePraise == 2" class="hited" ng-class="{show_love: showLove}"></a>\n                    <ion-scroll direction="x" scrollbar-x="false" locking="false">\n                        <ul ng-if="DataList.PraiseUser.length > 0">\n                            <li ng-repeat="v in DataList.PraiseUser track by $index" page-jump data-router="forum.user-other-index" options="{uid: v.UserId}">\n                                <img ng-if="v.ImageUrl" ng-src="{{v.ImageUrl || dUserImageL}}" />\n                            </li>\n                        </ul>\n                    </ion-scroll>\n                </div>\n\n                \n                <div class="this_comment_add">\n                    <img ng-src="{{UserInfo.UserImage || dUserImageL}}" />\n                    <div>\n                        <input ng-model="cInput.comment" type="text" placeholder="说说你的评论" />\n                    </div>\n                    <p ng-if="!cInput.comment">提交</p>\n                    <p ng-if="cInput.comment" class="hited" ng-click="setComment()">提交</p>\n                </div>\n                \n\n                <ul ng-if="DataList.CommentList.length > 0" class="this_comment_list">\n                    <li ng-repeat="v in DataList.CommentList track by $index">\n                        <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" page-jump data-router="forum.user-other-index" options="{uid: v.Author.UserId}">\n                        <dl>\n                            <dt>\n                                <span>{{v.UpdateTime}}</span>\n                                {{v.Author.UserName}}\n                            </dt>\n                            <dd>{{v.Content}}</dd>\n                        </dl>\n                    </li>\n                </ul>\n                <a class="this_comment_more" page-jump data-router="forum.comment-list" data-options="{id: Deploy.ArticleId}">\n                    查看更多\n                </a>\n            </div>\n\n            <div class="mod_title_text this_p" ng-if="DataList.ArticleList.length > 0">\n                <div>老师们也在看</div>\n            </div>\n            <div class="mod_list_img" ng-if="DataList.ArticleList.length > 0">\n                <ion-scroll direction="x" scrollbar-x="false" locking="false">\n                    <div class="this_wrapper">\n                        <a ng-repeat="(k, v) in DataList.ArticleList track by $index" page-jump data-router="forum.detail" data-options="{id:v.Deploy.ArticleId}">\n                            <div class="this_img">\n                                <img ng-src="{{v.Images[0].ImageUrl}}" />\n                            </div>\n                            <div class="this_title">\n                                <span ng-repeat="i in v.CategoryList">#{{i.CateName}}</span>\n                            </div>\n                            <div class="this_tx">{{v.TotalHit}}人看过</div>\n                        </a>\n                    </div>\n                </ion-scroll>\n            </div>\n            \n            <div class="mod_login_01" ng-if="!UserInfo.UserId">\n                <h3>想看看同行们发布的？</h3>\n                <a ng-click="showLogin()">马上登录</a>\n            </div>\n        </section>\n    </ion-content>\n\n<!-- \n    <footer class="comment_footer">\n        <a class="footer_heart">赞9</a>\n        <a class="footer_comment">评论9</a>\n        <a class="footer_share">分享9</a>\n        <a class="footer_collect">收藏9</a>\n    </footer>  -->\n</ion-view>\n\n<user-login></user-login>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/article_edit.html",'<section ng-if="UserInfo.UserId">\n    <header-bar title="添加图片" right="继续|nextPage"></header-bar>\n\n    <ion-view>\n        <ion-content>\n\n            <section class="unit_photo">\n                <div class="this_edit_title">\n                    <ul>\n                        <li ng-repeat="(k, v) in CameraImages.Images track by $index">\n                            <div ng-click="dataDelete(k)">\n                                <p>\n                                    <img data-ng-src="{{v.ImageUrl}}" />\n                                </p>\n                            </div>\n                            <textarea ng-model="v.Description" placeholder="写下您想说的话（必填）"></textarea>\n                        </li>\n                        <li ng-if="isApp">\n                            <i ng-click="addImage()"></i>\n                        </li>\n                        <li class="this_file" ng-if="!isApp">\n                            <input type="file" ng-model="Deploy.currentImage" accept="image/*" app-filereader />\n                            <!-- <input type="file" ng-model="currentFiles" multiple accept="image/*" app-filereader /> -->\n                        </li>\n                    </ul>\n                </div>\n            </section>\n\n            <canvas id="tmp" style="display:none;"></canvas>\n        </ion-content>\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>\n\n<page-sheet></page-sheet>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/cate_list.html",'<ion-view class="ios_status_bar">\n    <header-opacity></header-opacity>\n    \n    <ion-content has-bouncing="false" ng-model="Deploy.currentTab" ng-init="Deploy.currentTab=1" on-scroll="headerScroll()" delegate-handle="mainScroll">\n\n        <div ng-if="DataList.CategoryList.length > 0" ng-class="Deploy.cateClass">\n<!--             <ul>\n                <li ng-repeat="(k, v) in DataList.CategoryList track by $index" ng-click="refreshView(v.CateId)">\n                    <p>#{{v.CateName}}</p>\n                </li>\n            </ul> -->\n\n\n            <ul>\n                <li ng-repeat="(k, v) in DataList.CategoryList track by $index" page-jump data-router="forum.cate" data-options="{id: {{v.CateId}}}">\n                    <p>#{{v.CateName}}</p>\n                </li>\n            </ul>\n        </div>\n\n        <div ng-if="DataList.CategoryList.length == 0" class="forum_cate_description">\n            <div>\n                <img ng-src="{{DataList.CurrentCate.ImageUrl}}" />\n                <p>\n                    {{DataList.CurrentCate.CateName}}<br>\n                    {{DataList.CurrentCate.Description}}\n                </p>\n            </div>\n        </div>\n\n\n        <ul class="mod_tab_icon">\n            <li ng-click="Deploy.currentTab=1" ng-class="{current : Deploy.currentTab==1}">\n                瀑布流\n            </li>\n            <li ng-click="Deploy.currentTab=2" ng-class="{current : Deploy.currentTab==2}">\n                垂直平铺\n            </li>\n        </ul>\n\n        \n        <!--瀑布流-->\n        <falls ng-show="Deploy.currentTab==1">\n            <li ng-repeat="(k, v) in DataList.ArticleList track by $index" data-x="{{v.Images[0].Width}}" data-y="{{v.Images[0].Height}}" >\n                <a class="this_border" page-jump data-router="forum.detail" data-options=\'{ "id": {{v.ArticleId}} }\'>\n                    <img ng-src="{{v.Images[0].ImageUrl}}" />\n                    <article>\n                        <div class="this_text">{{v.Images[0].Description}}</div>\n                        \n                        <div class="this_star">{{v.TotalCollect}}</div>\n\n                        <div class="this_user">\n                            <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                            <dl>\n                                <dt>{{v.Author.UserName}}</dt>\n                                <dd>\n                                    <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                </dd>\n                            </dl>\n                        </div>\n                    </article>\n                </a>\n            </li>\n        </falls>\n\n        <!--垂直平铺-->\n        <ul ng-show="Deploy.currentTab==2" class="mod_list_img_only">\n            <li ng-repeat="(k, v) in DataList.ArticleList track by $index">\n                <a class="this_border" page-jump data-router="forum.detail" data-options=\'{ "id": {{v.ArticleId}} }\'>\n                    <img ng-src="{{v.Images[0].ImageUrl}}" />\n                    <article>\n                        <div class="this_text">{{v.Images[0].Description}}</div>\n\n                        <div class="this_star">{{v.TotalCollect}}</div>\n\n                        <div class="this_user">\n                            <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                            <dl>\n                                <dt>{{v.Author.UserName}}</dt>\n                                <dd>\n                                    <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                </dd>\n                            </dl>\n                        </div>\n                    </article>\n                </a>\n            </li>\n        </ul>\n        \n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n        </ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n    </ion-content>\n</ion-view>\n');

}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/chat.html",'<section ng-if="UserInfo.UserId">\n    <header-bar title="{{UserState.UserName}}" right="TA的主页|goUserPage"></header-bar>\n\n    <ion-view>\n        <!-- <ion-content overflow-scroll="true"> -->\n        <ion-content>\n            <!--客人左、主人右-->\n            <section class="message_chat">\n\n                <div class="t_block" ng-repeat="(k, v) in DataList.ChatList track by $index">\n                    <h2>{{v.Time}}</h2>\n                    <div ng-repeat="(i, n) in v.List track by $index" class="this_list" ng-class="{this_left: n.Sender != UserInfo.UserId, this_right: n.Sender == UserInfo.UserId}">\n                        <img ng-if="n.Sender == UserInfo.UserId" ng-src="{{UserInfo.UserImage || dUserImageL}}" />\n                        <img ng-if="n.Sender != UserInfo.UserId" ng-src="{{DataList.UserInfo.UserImage || dUserImageL}}" />\n                        <div>\n                            <article>{{n.Message}}</article>\n                        </div>\n                    </div>\n                </div>\n\n            </section>\n        </ion-content>\n\n        <section class="unit_msg_footer">\n            <input ng-model="cInput.Message" type="text" />\n            <button ng-click="sendMsg()">发送</button>\n        </section>\n\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/club_detail.html",'<ion-view class="ios_status_bar">\n    <!-- <header-opacity></header-opacity> -->\n\n    <header-opacitydetail></header-opacitydetail>\n\n    <div class="mod_show_layout" ng-if="isShowLayout" ng-click="hideLayout()">\n        <ul>\n            <li page-jump data-router="forum.report" data-options="{type: \'club\', id: DataList.ClubId, title: DataList.ClubName}">举报</li>\n            <li ng-if="DataList.StateJoin" ng-click="leaveClub()">退出圈子</li>\n        </ul>\n    </div>\n\n    <ion-content has-bouncing="false" on-scroll="headerScroll()" delegate-handle="mainScroll" class="isscroll">\n\n        <div class="forum_cate_description">\n            <div>\n                <img ng-src="{{DataList.ImageUrl}}" />\n                <dl>\n                    <dt>{{DataList.ClubName}}</dt>\n                    <dd>{{DataList.Description}}</dd>\n                </dl>\n            </div>\n        </div>\n\n        <ul class="forum_club_info" style="margin-bottom:0;" ng-if="DataList.StateJoin">\n            <li class="this_reg">\n                <p>签到 <span>{{DataList.TotalSign}}</span> / 连续签到 <span>{{DataList.TotalAlwaysSign}}</span></p>\n                <div ng-if="!DataList.StateSign" ng-click="clubSign()">签到</div>\n                <div ng-if="DataList.StateSign" class="hited">已签到</div>\n            </li>\n            <li class="this_user">\n                <p>圈成员：{{DataList.TotalMember}}</p>\n                <a href="{{redirectUrl.Ranking}}">查看排行榜</a>\n            </li>\n            <li ng-if="DataList.ActivityList.ActivityId" class="this_acti">\n                <a href="{{DataList.ActivityList.SiteUrl}}">\n                    {{DataList.ActivityList.ActivityName}}\n                </a>\n            </li>\n        </ul>\n\n        <ul class="forum_club_info" style="margin-bottom:0;" ng-if="!DataList.StateJoin">\n            <li class="this_user">\n                <p>圈成员：{{DataList.TotalMember}}</p>\n                <div ng-click="clubJoin()">加入圈子</div>\n            </li>\n            <li ng-if="DataList.ActivityList.ActivityId" class="this_acti">\n                <a href="{{DataList.ActivityList.SiteUrl}}">\n                    {{DataList.ActivityList.ActivityName}}\n                </a>\n            </li>\n        </ul>\n\n        <div class="mod_title_text this_p" ng-if="DataList.ArticleTop.length > 0">\n            <div>精选 {{DataList.ArticleTop.length}}</div>\n        </div>\n        <div class="mod_list_img mb0" ng-if="DataList.ArticleTop.length > 0">\n            <ion-scroll direction="x" scrollbar-x="false" locking="false">\n                <div class="this_wrapper">\n                    <a ng-repeat="(k, v) in DataList.ArticleTop track by $index" page-jump data-router="forum.detail" data-options=\'{ "id": {{v.ArticleId}} }\'>\n                        <div class="this_img">\n                            <img ng-src="{{v.Images[0].ImageUrl}}" />\n                        </div>\n                        <div class="this_title">\n                            <span ng-repeat="i in v.CategoryList track by $index">#{{i.CateName}}</span>\n                        </div>\n                    </a>\n                </div>\n            </ion-scroll>\n        </div>\n\n        <!--瀑布流-->\n        <falls>\n            <li ng-repeat="(k, v) in DataList.ArticleList track by $index" data-x="{{v.Images[0].Width}}" data-y="{{v.Images[0].Height}}">\n                <a class="this_border" page-jump data-router="forum.detail" data-options=\'{ "id": {{v.ArticleId}} }\'>\n                    <img ng-src="{{v.Images[0].ImageUrl}}" />\n                    <article>\n                        <div class="this_text">{{v.Images[0].Description}}</div>\n                        \n                        <div class="this_star">{{v.TotalCollect}}</div>\n\n                        <div class="this_user">\n                            <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                            <dl>\n                                <dt>{{v.Author.UserName}}</dt>\n                                <dd>\n                                    <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                </dd>\n                            </dl>\n                        </div>\n                    </article>\n                </a>\n            </li>\n        </falls>\n        \n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n        </ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n\n    </ion-content>\n\n    <button class="btn_camera" ng-if="DataList.StateJoin" ng-click="setArticle()"></button>\n</ion-view>\n\n<user-login></user-login>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/club_hot.html",'<header-bar title="圈子HOT" right="全部圈子|goNext"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="mod_wrapper">\n        <!--只显示HOT 6个-->\n        <div class="forum_club_hot_list">\n            <a ng-repeat="(k, v) in DataList.ClubList track by $index" page-jump data-router="forum.club-detail" data-options=\'{ "id": {{v.ClubId}} }\'>\n                <img ng-src="{{v.ImageUrl}}" />\n                <div>\n                    <i>{{k + 1}}</i>\n                    <h2>{{v.ClubName}}</h2>\n                    <span ng-repeat="i in v.CategoryList">{{i.CateName}} </span><br>\n                    成员：{{v.TotalUser}}\n                </div>\n            </a>\n        </ul>\n    </ion-content>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/club_list.html",'<header-bar title="全部圈子"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="mod_wrapper">\n        <dl ng-repeat="(k, v) in DataList.ClubList track by $index" class="forum_club_list">\n            <dt>{{v.Letter}}</dt>\n            <dd ng-repeat="(i, j) in v.List track by $index">\n                <a page-jump data-router="forum.club-detail" data-options=\'{ "id": {{j.ClubId}} }\'>\n                    <img ng-src="{{j.ImageUrl}}" />\n                    <article>\n                        <p>{{j.ClubName}}</p>\n                        <!-- 玩教具  手工 -->\n                        <br>成员：{{j.TotalUser}}\n                    </article>\n                </a>\n            </dd>\n        </dl>\n        \n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n    </ion-content>\n\n    <section class="forum_club_letter" ng-if="DataList.ClubList && DataList.ClubList.length > 0 && DataList.ClubList[0].Letter">\n        <ul>\n            <li ng-repeat="(k, v) in DataList.ClubList track by $index">{{v.Letter}}</li>\n        </ul>\n    </section>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/club_ranking.html",'<header-bar title="成员排行榜"></header-bar>\n\n<!-- 共显示20个用户 -->\n<ion-view>\n    <ion-content overflow-scroll="true" class="mod_wrapper">\n        <div class="forum_club_ranking">\n            <a ng-repeat="(k, v) in DataList.UserList track by $index" page-jump data-router="member">\n                <i>{{k+1}}</i>\n                <img ng-src="{{v.ImageUrl}}" />\n                <p>{{v.UserName}}</p>\n            </a>\n        </div>\n    </ion-content>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/comment_add.html",'<header-bar back title="评论" right="提交|addComment"></header-bar>\n\n<section class="mod_wrapper">\n    <div class="unit_comment_textarea">\n        <textarea class="js_textarea" placeholder="说点儿什么……"></textarea>\n    </div>\n\n    <!-- <div page-jump="addComment" class="unit_comment_btn">提交评论</div> -->\n</section>\n\n<div ng-show="showMask" class="mod_mask"></div>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/comment_list.html",'<header-bar title="评论列表"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="mod_wrapper">\n        <ul class="forum_comment_list">\n            <li ng-repeat="(k, v) in DataList.CommentList track by $index">\n                <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" page-jump data-router="forum.user-other-index" options="{uid: v.Author.UserId}" />\n                <dl>\n                    <dt>\n                        {{v.Author.UserName}} <i>{{v.UpdateTime}}</i>\n                    </dt>\n                    <dd>{{v.Content}}</dd>\n                </dl>\n            </li>\n        </ul>\n\n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore"></ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有更多评论了！</div>\n\n    </ion-content>\n</ion-view>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/find.html",'<ion-view class="ios_status_bar">\n    <ion-content overflow-scroll="true" ng-style="styleScroll">\n        <search-header class="search_find"></search-header>\n\n        <div class="forum_find_menu">\n            <a page-jump data-router="forum.like">猜你喜欢</a>\n            <a page-jump data-router="forum.club-hot">圈子</a>\n            <a page-jump data-router="forum.activity-list">活动</a>\n        </div>\n\n        <div class="mod_title_text this_p" ng-if="DataList.SubjectList.length > 0">\n            <div>专题集锦</div>\n            <a page-jump data-router="forum.subject-list">更多</a>\n        </div>\n        <div class="mod_list_img mb0 border_bottom_half" ng-if="DataList.SubjectList.length > 0">\n            <ion-scroll direction="x" scrollbar-x="false" locking="false">\n                <div class="this_wrapper">\n                    <a ng-repeat="(k, v) in DataList.SubjectList track by $index" page-jump data-router="forum.subject-detail" data-options=\'{ "id": {{v.SubjectId}} }\'>\n                        <div class="this_img">\n                            <img ng-src="{{v.ImageUrl}}" />\n                        </div>\n                        <div class="this_title">{{v.LongName}}</div>\n                    </a>\n\n                    <a class="this_more" ui-sref="forum.subject-list">更多</a>\n                </div>\n            </ion-scroll>\n        </div>\n\n        <ul class="find_cate_list" ng-if="CateList.length > 0">\n            <li ng-repeat="(k, v) in CateList track by $index" page-jump data-router="forum.cate" data-options="{id: v.CateId}">\n                <div>\n                    <h4>{{v.CateName}}</h4>\n                    <p>{{v.Description}}</p>\n                </div>\n            </li>\n        </ul>\n\n<!--         <div class="forum_find_cate" ng-if="DataList.CateList.length > 0">\n            <div>\n                <p ng-repeat="(k, v) in DataList.CateList track by $index">\n                    <a ng-repeat="(i, j) in v" page-jump data-router="forum.cate" data-options=\'{ "id": {{j.CateId}} }\'>\n                        {{j.CateName}}\n                    </a>\n                </p>\n            </div>\n        </div>  -->\n    </ion-content>\n</ion-view>\n    \n<footer-bar></footer-bar>\n\n<user-login></user-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/like.html",'<header-bar title="猜你喜欢"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true">\n\n        <ion-slide-box auto-play="true" does-continue="true" ng-if="DataList.PhotoList.length > 0">\n            <ion-slide ng-repeat="(k, v) in DataList.PhotoList track by $index">\n                <div class="mod_slide_tab">\n                    <img ng-src="{{v.ImageUrl}}" />\n                    <p>{{v.Title}}</p>\n                </div>\n            </ion-slide>\n        </ion-slide-box>\n\n        <falls>\n            <li ng-repeat="(k, v) in DataList.ArticleList track by $index" data-y="{{v.Images[0].Height}}" >\n                <a class="this_border" page-jump data-router="forum.detail" data-options="{id:v.ArticleId}">\n                    <img ng-src="{{v.Images[0].ImageUrl}}">\n                    <article>\n                        <div class="this_text">{{v.Images[0].Description}}</div>\n                        \n                        <div class="this_star">{{v.TotalCollect}}</div>\n\n                        <div class="this_user">\n                            <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                            <dl>\n                                <dt>{{v.Author.UserName}}</dt>\n                                <dd>\n                                    <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                </dd>\n                            </dl>\n                        </div>\n                    </article>\n                </a>\n            </li>\n        </falls>\n\n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore"></ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n\n    </ion-content>\n</ion-view>\n\n<user-login></user-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/photo.html",'<section ng-if="UserInfo.UserId"> \n    <header-bar title="编辑照片" right="继续|nextPage"></header-bar>\n\n    <ion-view>\n        <ion-content>\n            <section class="unit_photo">\n                <div class="this_photo">\n                    <img id="img" ng-src="{{ImageData.imageUrl}}" />\n                    <canvas id="canvas"></canvas>\n                </div>\n\n                <div class="this_tmp_canvas"><canvas id="tmp"></canvas></div>\n\n                <ul class="this_tab">\n                    <li ng-class="{current: currentTab}" ng-click="changeTab()">水印</li>\n                    <li ng-class="{current: !currentTab}" ng-click="changeTab()">滤镜</li>\n                    <li>|</li>\n                </ul>\n\n                <div ng-show="currentTab">\n                    <div class="this_scroll" id="wrapper1" ng-iscroll="eventScroll" ng-iscroll-delay=\'50\'>\n                        <ul>\n                            <li class="current">\n                                <img src="../themes/temp/7.jpg" />\n                                原图\n                            </li>\n                            <li>\n                                <img src="../themes/temp/7.jpg" />\n                                原图\n                            </li>\n                            <li>\n                                <img src="../themes/temp/7.jpg" />\n                                原图\n                            </li>\n                            <li>\n                                <img src="../themes/temp/7.jpg" />\n                                原图\n                            </li>\n                            <li>\n                                <img src="../themes/temp/7.jpg" />\n                                原图\n                            </li>\n                            <li>\n                                <img src="../themes/temp/7.jpg" />\n                                原图\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n\n                <div ng-show="!currentTab">\n                    <div class="this_scroll" id="wrapper2" ng-iscroll="eventScroll" ng-iscroll-delay=\'50\'>\n                        <ul>\n                            <li class="current">\n                                <img src="../themes/temp/7.jpg" />\n                                原图\n                            </li>\n                            <li>\n                                <img src="../themes/temp/7.jpg" />\n                                原图\n                            </li>\n                            <li>\n                                <img src="../themes/temp/7.jpg" />\n                                原图\n                            </li>\n                            <li>\n                                <img src="../themes/temp/7.jpg" />\n                                原图\n                            </li>\n                            <li>\n                                <img src="../themes/temp/7.jpg" />\n                                原图\n                            </li>\n                            <li>\n                                <img src="../themes/temp/7.jpg" />\n                                原图\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </section>\n        </ion-content>\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/photo_cate.html",'<section ng-if="UserInfo.UserId">\n    <header-bar title="选择标签"></header-bar>\n\n    <ion-view>\n        <ion-content>\n            <section class="unit_photo">\n\n                <div class="this_list_cate">\n                    <ul ngd-click="toSelect($event)" selector="li">\n                        <li ng-repeat="(k, v) in DataList.CateList track by $index" ng-class="{next: v.HasSub, current: DataList.currentId=={{v.CateId}}}" data-id="{{v.CateId}}" data-name="{{v.CateName}}">\n                            {{v.CateName}}\n                        </li>\n                    </ul>\n                </div>\n\n            </section>\n        </ion-content>\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/photo_title.html",'<section ng-if="UserInfo.UserId">\n    <header-bar title="添加图片"></header-bar>\n\n    <ion-view>\n        <ion-content>\n\n            <section class="unit_photo">\n                <div class="this_edit_title">\n                    <ul>\n                        <li ng-repeat="(k, v) in CameraImages.Images track by $index">\n                            <div ng-click="dataDelete(k)">\n                                <p>\n                                    <img data-ng-src="{{v.ImageUrl}}" />\n                                </p>\n                            </div>\n                            <textarea ng-if="k == 0" ng-model="v.Description" placeholder="写下您想说的话(必填)"></textarea>\n                            <textarea ng-if="k > 0" ng-model="v.Description" placeholder="写下您想说的话(选填)"></textarea>\n                        </li>\n                        <li ng-if="Deploy.isUpload"><em><ion-spinner icon="dots"></ion-spinner></em></li>\n                        <li ng-if="isHybrid && !Deploy.isUpload">\n                            <i add-image></i>\n                        </li>\n                        <li class="this_file" ng-if="!isHybrid && !Deploy.isUpload">\n                            <input type="file" ng-model="Deploy.currentImage" accept="image/*" app-filereader />\n                            <!-- <input type="file" ng-model="currentFiles" multiple accept="image/*" app-filereader /> -->\n                        </li>\n                    </ul>\n                </div>\n            </section>\n\n            <canvas id="tmp" style="display:none;"></canvas>\n        </ion-content>\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>\n\n<page-sheet></page-sheet>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/report.html",'<header-bar title="举报"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="mod_wrapper">\n        <ul class="comment_report">\n            <li class="this_no">\n                您将举报“<em>{{cInput.title}}</em>”{{cInput.text}}\n            </li>\n            <li>\n                <input ng-model="cInput.contact" type="text" placeholder="您的联系方式" value="" />\n            </li>\n            <li>\n                <textarea ng-model="cInput.content" placeholder="举报理由"></textarea>\n            </li>\n        </ul>\n\n        <!-- <div page-jump="addReport" class="unit_comment_btn">确定</div> -->\n    </ion-content>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/search-result.html",'<header-bar title="搜索<span class=\'color_green\'>{{keyword}}</span>的结果"></header-bar>\n\n<ion-view class="ios_status_bar">\n    \n    <ul class="mod_tab_4 tab_search_result">\n        <li ng-click="Deploy.currentTab=1" ng-class="{current:Deploy.currentTab==1}">内容</li>\n        <li ng-click="Deploy.currentTab=2" ng-class="{current:Deploy.currentTab==2}">标签</li>\n        <li ng-click="Deploy.currentTab=3" ng-class="{current:Deploy.currentTab==3}">圈子</li>\n        <li ng-click="Deploy.currentTab=4" ng-class="{current:Deploy.currentTab==4}">用户</li>\n        <i class="line"></i>\n    </ul>\n\n    <ion-content overflow-scroll="true">\n        <section ng-if="Deploy.currentTab==1" style="padding-top:40px;">\n            <!--搜索-搜索内容-->\n            <falls id="ArticleList">\n                <li ng-repeat="(k, v) in DataList.ArticleList track by $index" data-x="{{v.Images[0].Width}}" data-y="{{v.Images[0].Height}}" >\n                    <a class="this_border" page-jump data-router="forum.detail" data-options="{id:v.ArticleId}">\n                        <img ng-src="{{v.Images[0].ImageUrl}}" />\n                        <article>\n                            <div class="this_text">{{v.Images[0].Description}}</div>\n                            \n                            <div class="this_star">{{v.TotalCollect}}</div>\n\n                            <div class="this_user">\n                                <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                                <dl>\n                                    <dt>{{v.Author.UserName}}</dt>\n                                    <dd>\n                                        <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                    </dd>\n                                </dl>\n                            </div>\n                        </article>\n                    </a>\n                </li>\n            </falls>\n        </section>\n\n        <section ng-if="Deploy.currentTab==2" style="padding-top:40px;">\n            <!--搜索-搜索标签-->\n            <falls id="CategoryList">\n                <li ng-repeat="(k, v) in DataList.CategoryList track by $index" data-x="{{v.Images[0].Width}}" data-y="{{v.Images[0].Height}}">\n                    <a class="this_border" page-jump data-router="forum.detail" data-options="{id:v.ArticleId}">\n                        <img ng-src="{{v.Images[0].ImageUrl}}">\n                        <article>\n                            <div class="this_text">{{v.Images[0].Description}}</div>\n                            \n                            <div class="this_star">{{v.TotalCollect}}</div>\n\n                            <div class="this_user">\n                                <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                                <dl>\n                                    <dt>{{v.Author.UserName}}</dt>\n                                    <dd>\n                                        <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                    </dd>\n                                </dl>\n                            </div>\n                        </article>\n                    </a>\n                </li>\n            </falls>\n        </section>\n        \n        <section ng-if="Deploy.currentTab==3" style="padding:40px 10px 5px;">\n            <!--搜索-搜索圈子-->\n            <ul ng-if="DataList.ClubList.length > 0" class="unit_keyword_club" style="margin-top:10px;">\n                <li ng-repeat="(k, v) in DataList.ClubList track by $index" page-jump data-router="" data-options="{{v.ClubId}}">\n                    <div>\n                        <img ng-src="{{v.ImageUrl}}">\n                        <article>\n                            <p>{{v.ClubName}}</p>\n                            <span ng-repeat="(m, n) in v.Category track by $index">{{n.CateName}}</span>\n                            <br>成员：{{v.TotalUser}}</article>\n                    </div>\n                </li>\n            </ul>\n        </section>\n        \n        <section ng-if="Deploy.currentTab==4" style="padding:40px 10px 5px;">\n            <!--搜索-搜索用户-->\n            <ul ng-if="DataList.UserList.length > 0" class="unit_keyword_user" style="margin-top:10px;">\n                <li ng-repeat="(k, v) in DataList.UserList track by $index" page-jump data-router="" data-options="{{v.UserId}}">\n                    <img ng-src="{{v.ImageUrl}}">\n                    <p>{{v.ImageUrl}}</p>\n                    <button ng-if="v.FollowState == 1" class="this_btn current">关注</button>\n                    <button ng-if="v.FollowState == 2" class="this_btn current">互关注</button>\n                    <button ng-if="v.FollowState == 3" class="this_btn">未关注</button>\n                </li>\n            </ul>\n        </section>\n\n        <ion-infinite-scroll on-infinite="loadMore(Deploy.currentTab)" distance="1%" ng-if="Deploy.isMore"></ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有更多数据了！</div>\n\n    </ion-content>\n</ion-view>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/search.html",'<header-bar title="搜索"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true">\n\n        <search-header class="search_home"></search-header>\n\n        <section class="mod_wrapper">\n            <dl class="forum_search_keyword" ng-if="DataList.KeywordList.length > 0">\n                <dt>热门搜索</dt>\n                <dd>\n                    <a ng-repeat="v in DataList.KeywordList track by $index" page-jump data-router="forum.search-result" data-options="{keyword:v.Keyword}">\n                        #{{v.Keyword}}\n                    </a>\n                </dd>\n            </dl>\n\n            <dl class="forum_search_keyword" ng-if="DataList.HistoryKey.length > 0">\n                <dt>\n                    历史搜索\n                    <button ng-click="clearHistory()">清空历史</button>\n                </dt>\n                <dd>\n                    <a ng-repeat="(k, v) in DataList.HistoryKey track by $index" page-jump data-router="forum.search-result" data-options="{keyword:v.Keyword}">\n                        #{{v.Keyword}}\n                    </a>\n                </dd>\n            </dl>\n        </section>\n    </ion-content>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/subject_detail.html",'<ion-view class="ios_status_bar">\n    <header-opacity></header-opacity>\n    \n    <ion-content has-bouncing="false" on-scroll="headerScroll()" delegate-handle="mainScroll">\n        <div class="forum_cate_description">\n            <div>\n                <img ng-src="{{DataList.ImageUrl}}" />\n                <dl>\n                    <dt>{{DataList.LongName}}<dt>\n                    <dd>{{DataList.Description}}</dd>\n                </dl>\n            </div>\n            <p>\n                <a ng-if="redirectUrl.Club" ui-sref="{{redirectUrl.Club}}">加入{{DataList.ClubName}}</a>\n            </p>\n        </div>\n\n        <div class="mod_title_text this_p" ng-if="DataList.CategoryList.length > 0">\n            <div>相关主题</div>\n        </div>\n        <div class="mod_list_img mb0" ng-if="DataList.CategoryList.length > 0">\n            <ion-scroll direction="x" scrollbar-x="false" locking="false">\n                <div class="this_wrapper">\n                    <a ng-repeat="(k, v) in DataList.CategoryList track by $index" page-jump data-router="forum.cate" data-options=\'{ "id": {{v.CateId}} }\'>\n                        <div class="this_img">\n                            <img ng-src="{{v.ImageUrl}}" />\n                        </div>\n                        <div class="this_title">\n                            <span>#{{v.CateName}}</span>\n                        </div>\n                    </a>\n                </div>\n            </ion-scroll>\n        </div>\n     \n\n        <!--瀑布流-->\n        <falls>\n            <li ng-repeat="(k, v) in DataList.ArticleList track by $index" data-x="{{v.Images[0].Width}}" data-y="{{v.Images[0].Height}}">\n                <a class="this_border" page-jump data-router="forum.detail" data-options=\'{ "id": {{v.ArticleId}} }\'>\n                    <img ng-src="{{v.Images[0].ImageUrl}}" />\n                    <article>\n                        <div class="this_text">{{v.Images[0].Description}}</div>\n                        \n                        <div class="this_star">{{v.TotalCollect}}</div>\n\n                        <div class="this_user">\n                            <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                            <dl>\n                                <dt>{{v.Author.UserName}}</dt>\n                                <dd>\n                                    <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                </dd>\n                            </dl>\n                        </div>\n                    </article>\n                </a>\n            </li>\n        </falls>\n\n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n        </ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有更多数据了！</div>\n    </ion-content>\n</ion-view>\n');

}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("forum/tp/subject_list.html",'<header-bar title="专题集锦"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="mod_wrapper">\n        <div class="forum_subject_list">\n            <a ng-repeat="(k, v) in DataList.SubjectList track by $index" ui-sref="forum.subject-detail({id: v.SubjectId})">\n                <div>{{v.ShortName}}</div>\n                <img ng-src="{{v.ImageUrl}}" />\n            </a>\n        </div>\n\n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n        </ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有更多数据了！</div>\n    </ion-content>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("home/tp/index.html",'<ion-view ng-model="Deploy.currentTab" ng-init="Deploy.currentTab=1">\n    <ion-header-bar>\n        <ul class="mod_tab_2">\n            <li ng-click="updateData(1);" ng-class="{current : Deploy.currentTab==1}">\n                精品\n            </li>\n            <li ng-click="updateData(2);" ng-class="{current : Deploy.currentTab==2}">\n                关注\n            </li>\n            <i class="line" ng-class="{tmp: Deploy.currentTab == 2}"></i>\n        </ul>\n    </ion-header-bar>\n\n\n    <ion-content overflow-scroll="true" ng-style="styleScroll">\n    \n        <div ng-if="Deploy.currentTab==1">\n            <ion-slide-box auto-play="true" does-continue="true" ng-if="DataList.ImageList">\n                <ion-slide ng-repeat="(k, v) in DataList.ImageList track by $index">\n                    <div class="mod_slide_tab">\n                        <img ng-src="{{v.ImageUrl}}" />\n                        <p>{{v.Title}}</p>\n                    </div>\n                </ion-slide>\n            </ion-slide-box>\n\n            <!--瀑布流-->\n            <falls>\n                <li ng-repeat="(k, v) in DataList.ListLeft track by $index" data-x="{{v.Images[0].Width}}" data-y="{{v.Images[0].Height}}">\n                    <a class="this_border" page-jump data-router="forum.detail" data-options="{id:v.ArticleId}">\n                        <img ng-src="{{v.Images[0].ImageUrl}}" />\n                        <article>\n                            <div class="this_text">{{v.Images[0].Description}}</div>\n                            \n                            <div class="this_star">{{v.TotalCollect}}</div>\n\n                            <div class="this_user">\n                                <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                                <dl>\n                                    <dt>{{v.Author.UserName}}</dt>\n                                    <dd>\n                                        <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                    </dd>\n                                </dl>\n                            </div>\n                        </article>\n                    </a>\n                </li>\n            </falls>\n        </div>\n\n        <div ng-if="Deploy.currentTab==2">\n            <!--瀑布流-->\n            <falls>\n                <li ng-repeat="(k, v) in DataList.ListRight track by $index" data-x="{{v.Images[0].Width}}" data-y="{{v.Images[0].Height}}" >\n                    <a class="this_border" page-jump data-router="forum.detail" data-options="{id:v.ArticleId}">\n                        <img ng-src="{{v.Images[0].ImageUrl}}" />\n                        <article>\n                            <div class="this_text">{{v.Images[0].Description}}</div>\n                            \n                            <div class="this_star">{{v.TotalCollect}}</div>\n\n                            <div class="this_user">\n                                <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                                <dl>\n                                    <dt>{{v.Author.UserName}}</dt>\n                                    <dd>\n                                        <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                    </dd>\n                                </dl>\n                            </div>\n                        </article>\n                    </a>\n                </li>\n            </falls>\n        </div>\n\n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore"></ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n\n    </ion-content>\n\n\n</ion-view>\n\n<footer-bar></footer-bar>\n\n<user-login></user-login>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("home/tp/main.html",'<!-- 主头部容器 -->\n<ion-nav-bar class="mod_header" no-tap-scroll="true" align-title="left">\n	<!-- 主头部后退 -->\n	<ion-nav-buttons side="left">\n		<button page-back class="back_button"></button>\n	</ion-nav-buttons>\n</ion-nav-bar>\n\n<!-- 主页面容器 -->\n<ion-nav-view></ion-nav-view>\n\n<!-- 注意 如果页面没有头部，可以在ion-view内重写以去除默认头部 -->\n<!-- <ion-header-bar></ion-header-bar>\n<ion-nav-buttons></ion-nav-buttons> -->')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("home/tp/start.html",'<ion-view>\n    <ion-content scroll="false" class="start">\n        <ion-slide-box auto-play="true" does-continue="true" show-pager="false" ng-if="DataList.ImagesList.length > 0">\n            <ion-slide ng-repeat="(k, v) in DataList.ImagesList track by $index">\n                <div class="mod_slide_tab">\n                    <img ng-src="{{v.ImageUrl}}" />\n                    <p>{{v.Title}}</p>\n                </div>\n            </ion-slide>\n        </ion-slide-box>\n\n        <div class="this_btn" ng-click="toEnter()">\n            跳过 <span class="icon_right"></span>\n        </div>\n\n        <footer></footer>\n    </ion-content>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/about.html",'<header-bar title="关于我们"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="mod_wrapper">\n        <div class="unit_about">\n            <p class="this_logo"></p>\n            <p class="this_copy">\n                &copy;2015 tjoys.net<br>\n                版本 {{version}}\n            </p>\n            <p class="this_text">\n                师乐汇是一个以优质资源为主题的图片分享社区。在这里，寻找另一个你。\n            </p>\n        </div>\n    </ion-content>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/article.html",'<header-bar title="<span class=\'color_green\'>{{Deploy.Title}}</span>的发布"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true">\n        <ul class="user_cate_list">\n            <li ng-repeat="(k, v) in DataList.CategoryList track by $index" page-jump data-router="forum.user-article-list" data-options="{uid: UserState.UserId, cate: v.CateId}">\n                <img ng-src="{{v.ImageUrl || thumbGreen}}" />\n                <div>\n                    <h3><span ng-repeat="n in v.CateList track by $index">#{{n.CateName}}</span></h3>\n                    <p>\n                        <i>{{v.TotalArticle}}</i>\n                        <i>{{v.TotalPraise}}</i>\n                    </p>\n                </div>\n            </li>\n        </ul>\n        \n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n        </ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n    </ion-content>\n</ion-view>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/article_list.html",'<ion-view class="ios_status_bar">\n    <header-opacity></header-opacity>\n\n    <ion-content has-bouncing="false" ng-model="Deploy.currentTab" ng-init="Deploy.currentTab=1" on-scroll="headerScroll()" delegate-handle="mainScroll">\n        <div class="user_list_top">\n            <h1>{{DataList.CateName}}</h1>\n\n            <ul>\n                <li>{{DataList.Total}}</li>\n                <li>{{DataList.TotalPraise}}</li>\n            </ul>\n\n            <div><img ng-src="{{DataList.UserImage || dUserImageW}}" /></div>\n\n            <h2>{{DataList.UserName}}</h2>\n        </div>\n\n        <ul class="mod_tab_icon">\n            <li ng-click="Deploy.currentTab=1" ng-class="{current : Deploy.currentTab==1}">\n                瀑布流\n            </li>\n            <li ng-click="Deploy.currentTab=2" ng-class="{current : Deploy.currentTab==2}">\n                垂直平铺\n            </li>\n        </ul>\n\n        \n        <!--瀑布流-->\n        <falls ng-show="Deploy.currentTab==1">\n            <li ng-repeat="(k, v) in DataList.ArticleList track by $index" data-x="{{v.Images[0].Width}}" data-y="{{v.Images[0].Height}}" >\n                <a class="this_border" page-jump data-router="forum.detail" data-options=\'{ "id": {{v.ArticleId}} }\'>\n                    <img ng-src="{{v.Images[0].ImageUrl || thumbArt}}" />\n                    <article>\n                        <div class="this_text">{{v.Images[0].Description}}</div>\n                        \n                        <div class="this_star">{{v.TotalCollect}}</div>\n\n                        <div class="this_user">\n                            <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                            <dl>\n                                <dt>{{v.Author.UserName}}</dt>\n                                <dd>\n                                    <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                </dd>\n                            </dl>\n                        </div>\n                    </article>\n                </a>\n            </li>\n        </falls>\n\n        <!--垂直平铺-->\n        <ul ng-show="Deploy.currentTab==2" class="mod_list_img_only">\n            <li ng-repeat="(k, v) in DataList.ArticleList track by $index">\n                <a class="this_border" page-jump data-router="forum.detail" data-options=\'{ "id": {{v.ArticleId}} }\'>\n                    <img ng-src="{{v.Images[0].ImageUrl || thumbArt}}" />\n                    <article>\n                        <div class="this_text">{{v.Images[0].Description}}</div>\n\n                        <div class="this_star">{{v.TotalCollect}}</div>\n\n                        <div class="this_user">\n                            <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                            <dl>\n                                <dt>{{v.Author.UserName}}</dt>\n                                <dd>\n                                    <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                </dd>\n                            </dl>\n                        </div>\n                    </article>\n                </a>\n            </li>\n        </ul>\n        \n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n        </ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n    </ion-content>\n</ion-view>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/attention.html",'<header-bar title="<span class=\'color_green\'>{{Deploy.Title}}</span>关注"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="mod_wrapper">\n\n        <ul ng-if="DataList.FollowList.length > 0" class="unit_list_user" style="margin-bottom:5px;">\n            <li ng-repeat="(k, v) in DataList.FollowList track by $index">\n                <img ng-src="{{v.UserImage || dUserImageL}}" page-jump data-router="forum.user-other-index" data-options="{uid: v.UserId}">\n                <p>{{v.UserName}}</p>\n\n\n                <button ng-if="!v.State" class="this_btn current">未关注</button>\n                <button ng-if="v.State == 1" class="this_btn">已关注</button>\n\n                <!-- <button ng-if="v.State == 2" class="this_btn current">互关注</button> -->\n            </li>\n        </ul>\n        \n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore"></ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有更多数据了！</div>\n\n    </ion-content>\n</ion-view>\n\n<user-login></user-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/cate.html",'<header-bar title="<span class=\'color_green\'>{{UserState.UserName}}</span>的发布"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true">\n        <!--瀑布流-->\n        <falls>\n            <li ng-repeat="(k, v) in DataList.CategoryList track by $index" data-y="{{v.Images[0].Height}}" >\n                <a class="this_border" page-jump data-router="forum.cate" data-options=\'{ "id": {{v.CateId}} }\'>\n                    <img ng-src="{{v.Images[0].ImageUrl}}" />\n                    <article>\n                        <div class="this_cate">#玩教具</div>\n                    </article>\n                </a>\n            </li>\n        </falls>\n\n\n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n        </ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n    </ion-content>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/club.html",'<header-bar title="<span class=\'color_green\'>{{Deploy.Title}}</span>的圈子"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="mod_wrapper">\n        <dl ng-repeat="(k, v) in DataList.ClubList track by $index" class="forum_club_list">\n            <dt>{{v.Letter}}</dt>\n            <dd ng-repeat="(i, j) in v.List track by $index">\n                <a page-jump data-router="forum.club-detail" data-options=\'{ "id": {{j.ClubId}} }\'>\n                    <img ng-src="{{j.ImageUrl}}" />\n                    <article>\n                        <p>{{j.ClubName}}</p>\n                        <!-- 玩教具  手工 -->\n                        <br>成员：{{j.TotalUser}}\n                    </article>\n                </a>\n            </dd>\n        </dl>\n        \n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n    </ion-content>\n\n    <section class="forum_club_letter" ng-if="DataList.ClubList && DataList.ClubList.length > 0 && DataList.ClubList.Letter">\n        <ul><li ng-repeat="(k, v) in DataList.ClubList">{{v.Letter}}</li></ul>\n    </section>\n</ion-view>\n\n<user-login></user-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/collect.html",'<header-bar title="<span class=\'color_green\'>{{Deploy.Title}}</span>的收藏"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true">\n        <ul class="user_cate_list">\n            <li ng-repeat="(k, v) in DataList.CategoryList track by $index" page-jump data-router="forum.user-article-list" data-options="{uid: UserState.UserId, cate: v.CateId}">\n                <img ng-src="{{v.ImageUrl}}" />\n                <div>\n                    <span ng-repeat="n in v.CateList track by $index">{{n.CateName}}</span>\n                    <p>\n                        <i>{{v.TotalArticle}}</i>\n                        <i>{{v.TotalPraise}}</i>\n                    </p>\n                </div>\n            </li>\n        </ul>\n        \n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n        </ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n    </ion-content>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/collect_list.html",'<ion-view class="ios_status_bar">\n    <header-opacity></header-opacity>\n\n    <ion-content has-bouncing="false" ng-model="Deploy.currentTab" ng-init="Deploy.currentTab=1" on-scroll="headerScroll()" delegate-handle="mainScroll">\n        <div class="user_list_top">\n            <h1>{{DataList.CateName}}</h1>\n\n            <ul>\n                <li>{{DataList.Total}}</li>\n                <li>{{DataList.TotalPraise}}</li>\n            </ul>\n\n            <div><img ng-src="{{DataList.UserImage || dUserImageW}}" /></div>\n\n            <h2>{{DataList.UserName}}</h2>\n        </div>\n\n        <ul class="mod_tab_icon">\n            <li ng-click="Deploy.currentTab=1" ng-class="{current : Deploy.currentTab==1}">\n                瀑布流\n            </li>\n            <li ng-click="Deploy.currentTab=2" ng-class="{current : Deploy.currentTab==2}">\n                垂直平铺\n            </li>\n        </ul>\n\n        \n        <!--瀑布流-->\n        <falls ng-show="Deploy.currentTab==1">\n            <li ng-repeat="(k, v) in DataList.ArticleList track by $index" data-x="{{v.Images[0].Width}}" data-y="{{v.Images[0].Height}}" >\n                <a class="this_border" page-jump data-router="forum.detail" data-options=\'{ "id": {{v.ArticleId}} }\'>\n                    <img ng-src="{{v.Images[0].ImageUrl}}" />\n                    <article>\n                        <div class="this_text">{{v.Images[0].Description}}</div>\n                        \n                        <div class="this_star">{{v.TotalCollect}}</div>\n\n                        <div class="this_user">\n                            <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                            <dl>\n                                <dt>{{v.Author.UserName}}</dt>\n                                <dd>\n                                    <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                </dd>\n                            </dl>\n                        </div>\n                    </article>\n                </a>\n            </li>\n        </falls>\n\n        <!--垂直平铺-->\n        <ul ng-show="Deploy.currentTab==2" class="mod_list_img_only">\n            <li ng-repeat="(k, v) in DataList.ArticleList track by $index">\n                <a class="this_border" page-jump data-router="forum.detail" data-options=\'{ "id": {{v.ArticleId}} }\'>\n                    <img ng-src="{{v.Images[0].ImageUrl}}" />\n                    <article>\n                        <div class="this_text">{{v.Images[0].Description}}</div>\n\n                        <div class="this_star">{{v.TotalCollect}}</div>\n\n                        <div class="this_user">\n                            <img ng-src="{{v.Author.ImageUrl || dUserImageL}}" />\n                            <dl>\n                                <dt>{{v.Author.UserName}}</dt>\n                                <dd>\n                                    <span ng-repeat="x in v.CategoryList">#{{x.CateName}}</span>\n                                </dd>\n                            </dl>\n                        </div>\n                    </article>\n                </a>\n            </li>\n        </ul>\n        \n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n        </ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n    </ion-content>\n</ion-view>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/fans.html",'<header-bar title="<span class=\'color_green\'>{{Deploy.Title}}</span>粉丝"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="mod_wrapper">\n\n        <ul ng-if="DataList.FansList.length > 0" class="unit_list_user" style="margin-bottom:5px;">\n            <li ng-repeat="(k, v) in DataList.FansList track by $index">\n                <img ng-src="{{v.UserImage || dUserImageL}}" page-jump data-router="forum.user-other-index" data-options="{uid: v.UserId}">\n                <p>{{v.UserName}}</p>\n                <!-- <button ng-if="v.State == 2" class="this_btn current">互关注</button> -->\n                <button ng-if="!v.State" class="this_btn current">未关注</button>\n                <button ng-if="v.State == 1" class="this_btn">已关注</button>\n            </li>\n        </ul>\n        \n        <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore"></ion-infinite-scroll>\n\n        <div class="mod_no_more" ng-if="!Deploy.isMore">没有更多数据了！</div>\n        \n    </ion-content>\n</ion-view>\n\n<user-login></user-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/feedback.html",'<header-bar title="意见反馈" right="发布|submitData"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="mod_wrapper">\n        <div class="unit_set_textarea">\n            <textarea placeholder="请您在这里填写对师乐汇的意见，我们将不断改进，感谢支持。" ng-model="cInput.content">\n            </textarea>\n            <div class="this_input">\n                <label>联系方式：</label>\n                <input type="tel" placeholder="手机号码或QQ（选填）" ng-model="cInput.phone" />\n            </div>\n            <div class="this_text">\n                <span class="color_green">小贴士：</span><br>\n                您可以加入师乐汇反馈QQ群：111111111\n            </div>\n        </div>\n\n        <!-- <button class="unit_btn" ng-click="submitData()">发布</button> -->\n    </ion-content>\n</ion-view>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/index.html",'<ion-view class="ios_status_bar">\n    <header-opacityuser></header-opacityuser>\n\n    <ion-content has-bouncing="false" on-scroll="headerScroll()" delegate-handle="mainScroll" ng-style="styleScroll">\n        <div class="user_info_top" ng-if="UserInfo.UserId">\n\n            <!-- <div class="this_icon_menu" page-jump="goDataSet"></div> -->\n            <div class="this_img">\n                <img ng-src="{{DataList.UserImage || dUserImageW}}" />\n            </div>\n\n            <h2>{{UserInfo.UserName}}<span>{{DataList.RankName}}</span></h2>\n\n<!--             <div class="this_text">\n                <a>\n                    经验值 {{DataList.UserInfo.Exper}}\n                </a>\n                <a ui-sref="forum.user-index" page-jump="redirectUrl.goLevel">\n                    {{DataList.UserInfo.RankName}}\n                    <span class="this_i"></span>\n                </a>\n            </div>\n            <div class="this_text">\n                <a ui-sref="forum.user-index" page-jump="redirectUrl.goAttention">\n                    关注 {{DataList.UserInfo.TotalFollow}}\n                </a>\n                <a ui-sref="forum.user-index" page-jump="redirectUrl.goFans">\n                    粉丝 {{DataList.UserInfo.TotalFans}}\n                </a>\n            </div>\n        -->\n\n            <!-- <div class="this_btn">加关注</div> -->\n\n\n            <ul class="this_list_tab">\n                <li page-jump data-router="forum.user-level">\n                    <span>{{DataList.Exper || 0}}</span>\n                    经验值\n                </li>\n                <li page-jump data-router="forum.user-attention" data-options="{uid: UserInfo.UserId}">\n                    <span>{{DataList.TotalFollow || 0}}</span>\n                    关注\n                </li>\n                <li page-jump data-router="forum.user-fans" data-options="{uid: UserInfo.UserId}">\n                    <span>{{DataList.TotalFans || 0}}</span>\n                    粉丝\n                </li>\n            </ul>\n        </div>\n\n        <div class="user_info_top" ng-if="!UserInfo.UserId">\n            <div class="this_login" ng-click="showLogin()">点此登录</div>\n        </div>\n\n        <!--\n        <div ng-if="UserInfo.UserId" style="background:#fff;">\n            <div class="mod_title_text this_a" ng-if="DataList.ArticleList.length > 0">\n                <div>我的发布</div>\n                <a>查看所有 &gt;</a>\n            </div>\n            <div class="mod_list_img" ng-if="DataList.ArticleList.length > 0">\n                <ion-scroll direction="x" scrollbar-x="false" locking="false">\n                    <div class="this_wrapper">\n                        <a ng-repeat="(k, v) in DataList.ArticleList track by $index" ui-sref="forum.cate({id: v.CateId})">\n                            <div class="this_img"><img ng-src="{{v.ImageUrl}}" /></div>\n                            <div class="this_title">{{v.CateName}}</div>\n                            <div class="this_tx">今日更新 {{v.TotalArticle}}</div>\n                            <div class="this_tx">赞 {{v.TotalPraise}}</div>\n                        </a>\n                    </div>\n                </ion-scroll>\n            </div>\n        </div>\n\n\n        <div ng-if="UserInfo.UserId" style="background:#fff;">\n            <div class="mod_title_text this_a" ng-if="DataList.CollectList.length > 0">\n                <div>我的收藏</div>\n                <a>查看所有 &gt;</a>\n            </div>\n            <div class="mod_list_img" ng-if="DataList.CollectList.length > 0">\n                <ion-scroll direction="x" scrollbar-x="false" locking="false">\n                    <div class="this_wrapper">\n                        <a ng-repeat="(k, v) in DataList.CollectList track by $index" ui-sref="forum.cate({id: v.CateId})">\n                            <div class="this_img"><img ng-src="{{v.ImageUrl}}" /></div>\n                            <div class="this_title">{{v.CateName}}</div>\n                            <div class="this_tx">今日更新 {{v.TotalArticle}}</div>\n                            <div class="this_tx">赞 {{v.TotalPraise}}</div>\n                        </a>\n                    </div>\n                </ion-scroll>\n            </div>\n        </div>\n\n\n        <div ng-if="UserInfo.UserId" style="background:#fff;">\n            <div class="mod_title_text this_a" ng-if="DataList.ClubList.length > 0">\n                <div>精选圈子</div>\n                <a>查看所有 &gt;</a>\n            </div>\n            <div class="mod_list_img" ng-if="DataList.ClubList.length > 0">\n                <ion-scroll direction="x" scrollbar-x="false" locking="false">\n                    <div class="this_wrapper" style="padding-bottom:10px;">\n                        <a ng-repeat="(k, v) in DataList.ClubList track by $index" ui-sref="forum.club-detail({id: v.ClubId})">\n                            <div class="this_img"><img ng-src="{{v.ImageUrl}}" /></div>\n                            <div class="this_title">{{v.ClubName}}</div>\n                            <div class="this_tx">今日更新 {{v.TodayNews}}</div>\n                            <div class="this_btn">去签到</div>\n                        </a>\n                    </div>\n                </ion-scroll>\n            </div>\n        </div>\n        -->\n\n\n        <ul class="user_menu_list" ng-if="UserInfo.UserId">\n            <li class="icon_post" page-jump data-router="forum.user-article" data-options="{uid: UserInfo.UserId}">\n                <p>我的发布<i>{{DataList.TotalArticle}}</i></p>\n            </li>\n            <li class="icon_fav" page-jump data-router="forum.user-collect" data-options="{uid: UserInfo.UserId}">\n                <p>我的收藏<i>{{DataList.TotalCollect}}</i></p>\n            </li>\n            <li class="icon_club" page-jump data-router="forum.user-club" data-options="{uid: UserInfo.UserId}">\n                <p>我的圈子<i>{{DataList.TotalClub}}</i></p>\n            </li>\n        </ul>\n\n        <ul class="user_menu_list" ng-if="!UserInfo.UserId">\n            <li class="icon_post" ng-click="showLogin()"><p>我的发布</p></li>\n            <li class="icon_fav" ng-click="showLogin()"><p>我的收藏</p></li>\n            <li class="icon_club" ng-click="showLogin()"><p>我的圈子</p></li>\n        </ul>\n\n        <ul class="user_menu_list">\n            <li class="icon_suggest" page-jump data-router="forum.user-feedback"><p>意见反馈</p></li>\n        </ul>\n        \n        <ul class="user_menu_list">\n            <li class="icon_level" page-jump data-router="forum.user-level"><p>会员等级说明</p></li>\n            <li class="icon_about" page-jump data-router="forum.user-about"><p>关于师乐汇</p></li>\n        </ul>\n        <div class="user_bottom_logo"></div>\n    </ion-content>\n\n</ion-view>\n\n<footer-bar></footer-bar>\n\n<user-login></user-login>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/level.html",'<header-bar title="用户等级"></header-bar>\n\n<ion-view>\n    <ion-content overflow-scroll="true" class="mod_wrapper">\n        <dl class="unit_user_grade">\n            <dt>1、增加经验值：</dt>\n            <dd>\n                用户注册成功，\n                <span class="color_green">+5</span>\n                <br>\n                每天登录，\n                <span class="color_green">+1</span>\n                <br>\n                每天签到，\n                <span class="color_green">+1</span>\n                <br>\n                用户发帖，\n                <span class="color_green">+1</span>\n                <br>\n                帖子被推荐，\n                <span class="color_green">+1</span>\n                <br>\n                帖子被收藏，\n                <span class="color_green">+1</span>\n                <br>\n                帖子被赞，\n                <span class="color_green">+1</span>\n            </dd>\n        </dl>\n\n        <dl class="unit_user_grade">\n            <dt>2、扣除经验值：</dt>\n            <dd>\n                用户自行删除帖子，\n                <span class="color_green">-1</span>\n                <br>\n                帖子被管理员删除，\n                <span class="color_green">-3</span>\n            </dd>\n        </dl>\n\n        <dl class="unit_user_grade">\n            <dt>3、等级详情：</dt>\n            <dd>\n                睡莲种子：经验值\n                <span class="color_green">0-99</span>\n                <br>\n                崭露头角：经验值\n                <span class="color_green">100-499</span>\n                <br>\n                荷叶一色：经验值\n                <span class="color_green">500-1999</span>\n                <br>\n                小荷尖尖：经验值\n                <span class="color_green">2000-1万</span>\n                <br>\n                含苞待放：经验值\n                <span class="color_green">1万-5万</span>\n                <br>\n                荷蕾初绽：经验值\n                <span class="color_green">5万-20万</span>\n                <br>\n                出水芙蓉：经验值\n                <span class="color_green">20万以上</span>\n            </dd>\n        </dl>\n    </ion-content>\n</ion-view>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/set.html",'<section ng-if="UserInfo.UserId">\n    <header-bar title="设置"></header-bar>\n\n    <ion-view>\n        <ion-content overflow-scroll="true">\n\n            <div class="user_info_top" style="height:190px;padding-top:20px;">\n                <div class="this_img">\n                    <img ng-src="{{cInput.UserImage || dUserImageW}}" />\n                </div>\n\n                <ul class="this_modify">\n                    <!-- <li>修改封面</li> -->\n                    <!-- <li page-jump data-router="forum.user-set-photo">修改头像 -->\n                    <li ng-if="isHybrid" app-userimage>修改头像</li>\n                    <li ng-if="!isHybrid">\n                        <input type="file" ng-model="cInput.UserImage" accept="image/*" web-userimage />\n                    </li>\n                </ul>\n\n            </div>\n\n            <div style="padding:10px;">\n                <ul class="unit_owner_set">\n                    <li class="no">\n                        <p>昵称</p>\n                        <p>{{cInput.UserName}}</p>\n                    </li>\n                    <li ng-click="genderSelect()">\n                        <p>性别</p>\n                        <p>{{cInput.SexName}}</p>\n                    </li>\n                    <li job-popup>\n                        <p>岗位</p>\n                        <p>{{cInput.JobName}}</p>\n                    </li>\n                    <!-- <li location-popup> -->\n                    <li ng-click="choiceCity()">\n                        <p>地区</p>\n                        <p>{{cInput.AreaName}}</p>\n                    </li>\n                    <li>\n                        <p>订阅</p>\n                        <p>\n                            <i ng-repeat="v in DataList.AttentCate track by $index">\n                                {{v.CateName}}\n                            </i>\n                        </p>\n                    </li>\n                    <!--\n                        <li>\n                            <p>账号绑定</p>\n                            <p></p>\n                        </li>\n                    -->\n                    <li page-jump data-router="forum.user-set-password">\n                        <p>修改密码</p>\n                        <p></p>\n                    </li>\n                </ul>\n\n                <ul class="unit_owner_push" ng-if="isHybrid">\n                    <li>\n                        <div>保存图片到相册</div>\n                        <a ng-click="changeSetting(\'isPhotoSave\')" ng-class="{close:!SettingData.isPhotoSave,open:SettingData.isPhotoSave}" class="on_off"></a>\n                    </li>\n                    <li>\n                        <div>切割图片</div>\n                        <a ng-click="changeSetting(\'isPhotoEdit\')" ng-class="{close:!SettingData.isPhotoEdit,open:SettingData.isPhotoEdit}" class="on_off"></a>\n                    </li>\n<!--                     <li>\n                        <div>消息推送</div>\n                        <button ng-click="changeSetting(\'isMsgPush\')" ng-class="{close:!userSetData.isMsgPush,open:userSetData.isMsgPush}" class="on_off"></button>\n                    </li>\n                    <li>\n                        <div>只允许我关注的人跟我私聊</div>\n                        <a ng-click="changeSetting(\'isFocusOnly\')" ng-class="{close:!userSetData.isFocusOnly,open:userSetData.isFocusOnly}" class="on_off"></a>\n                    </li>\n                    <li>\n                        <div>允许通过手机通讯录加我好友</div>\n                        <a ng-click="changeSetting(\'isTelAllow\')" ng-class="{close:!userSetData.isTelAllow,open:userSetData.isTelAllow}" class="on_off"></a>\n                    </li>\n                    <li>\n                        <div>清除图片缓存</div>\n                    </li> -->\n                </ul>\n\n                <div class="unit_btn" ng-click="loginOut()">退出登录</div>\n\n                <br><br>\n            </div>\n\n            <canvas id="tmp" style="display:none;"></canvas>\n        </ion-content>\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>\n\n<user-login></user-login>\n\n<city-list></city-list>');

}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/set_bind.html",'<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="utf-8" />\n    <meta name="format-detection" content="telephone=no" />\n    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />\n    <title>APP HTML</title>\n    <link rel="stylesheet" type="text/css" href="../../themes/member.css" />\n</head>\n<body>\n\n    <header class="mod_header">\n        <a class="back_button"></a>\n        <h1 class="title_content">账号绑定</h1>\n    </header>\n\n    <section class="mod_wrapper">\n        <ul class="unit_bind">\n            <li class="this_weibo">\n                <div>新浪微博</div>\n                <button>绑定</button>\n            </li>\n            <li class="this_qq">\n                <div>QQ账号</div>\n                <button>绑定</button>\n            </li>\n            <li class="this_mobile">\n                <div>\n                    手机号\n                    <br>\n                    已绑定\n                    <span class="color_green">137****3123</span>\n                </div>\n                <button class="md">修改</button>\n            </li>\n            <li class="this_weixin">\n                <div>微信账号</div>\n                <p>注册账号不能取消绑定</p>\n            </li>\n        </ul>\n    </section>\n</body>\n</html>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/set_password.html",'<section ng-if="UserInfo.UserId">\n    <header-bar title="修改密码"></header-bar>\n\n    <ion-view>\n        <ion-content overflow-scroll="true" class="mod_wrapper">\n<!--             <ul class="unit_pasword">\n                <li>\n                    <label>旧密码</label>\n                    <input ng-model="inputVal.oldPassword" type="password" placeholder="请输入旧密码">\n                </li>\n                <li>\n                    <label>新密码</label>\n                    <input ng-model="inputVal.password" type="password" placeholder="6-16位字符">\n                </li>\n                <li>\n                    <label>确认新密码</label>\n                    <input ng-model="inputVal.passwordCheck" type="password" placeholder="重复新密码">\n                </li>\n            </ul>\n -->\n\n            <div class="mod_layout">\n                <ul class="mod_list_default">\n                    <li class="last_border_line">\n                        <label>旧密码</label>\n                        <input ng-model="cInput.oldPassword" type="password" placeholder="请输入旧密码">\n                    </li>\n                    <li>\n                        <label>新密码</label>\n                        <input ng-model="cInput.password" type="password" placeholder="6-16位字符，区分大小写" />\n                    </li>\n                    <li>\n                        <label>确认新密码</label>\n                        <input ng-model="cInput.passwordCheck" type="password" placeholder="重复新密码" />\n                    </li>\n                </ul>\n            </div>\n\n            <div class="mod_phone_code">\n                <button get-vcode data-type="2" ng-class="{disable:vColdDown}">{{vBtnText}}</button>\n                <input ng-model="cInput.vcode" "type="text" placeholder="请输入收到的验证码" />\n            </div>\n\n            <button ng-click="submitModify()" class="unit_btn">提交密码修改</button>\n\n        </ion-content>\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("user/tp/user_index.html",'<ion-view class="ios_status_bar">\n    <header-opacity></header-opacity>\n\n    <ion-content has-bouncing="false" on-scroll="headerScroll()" delegate-handle="mainScroll">\n        <div class="user_info_top">\n            <div class="this_img">\n                <img ng-src="{{DataList.UserImage || dUserImageW}}" />\n            </div>\n\n            <h2>{{DataList.UserName}}<span>{{DataList.RankName}}</span></h2>\n\n            <div ng-if="!UserState.isOwner">\n                <div class="this_btn icon_add" ng-if="!DataList.StateFollow" ng-click="addFollow()">加关注</div>\n                <div class="this_btn" ng-if="DataList.StateFollow == 1">已关注</div>\n                <div class="this_btn" ng-if="DataList.StateFollow == 2">互关注</div>\n            </div>\n\n            <ul class="this_list_tab">\n                <li page-jump data-router="forum.user-level">\n                    <span>{{DataList.Exper || 0}}</span>\n                    经验值\n                </li>\n                <li page-jump data-router="forum.user-attention" data-options="{uid: UserState.UserId,name: UserState.UserName}">\n                    <span>{{DataList.TotalFollow || 0}}</span>\n                    关注\n                </li>\n                <li page-jump data-router="forum.user-fans" data-options="{uid: UserState.UserId,name: UserState.UserName}">\n                    <span>{{DataList.TotalFans || 0}}</span>\n                    粉丝\n                </li>\n            </ul>\n        </div>\n\n        <ul class="user_menu_list">\n            <li class="icon_job">\n                <p class="no"><em>岗位:</em>{{DataList.JobName}}</p>\n            </li>\n            <li class="icon_sex_m" ng-if="DataList.Sex == 1">\n                <p class="no"><em>性别:</em>男</p>\n            </li>\n            <li class="icon_sex_w" ng-if="DataList.Sex == 2">\n                <p class="no"><em>性别:</em>女</p>\n            </li>\n            <li class="icon_city">\n                <p class="no"><em>所在城市:</em>{{DataList.AreaName}}</p>\n            </li>\n        </ul>\n\n        <ul class="user_menu_list">\n            <li class="icon_post" page-jump data-router="forum.user-article" data-options="{uid: UserState.UserId, name: UserState.UserName}">\n                <p ng-if="!UserState.isOwner">\n                    <span ng-if="DataList.Sex == 2">她</span><span ng-if="DataList.Sex != 2">他</span>的发布<i>{{DataList.TotalArticle}}</i>\n                </p>\n                <p ng-if="UserState.isOwner">我的发布<i>{{DataList.TotalArticle}}</i></p>\n            </li>\n            <li class="icon_fav" page-jump data-router="forum.user-collect" data-options="{uid: UserState.UserId, name: UserState.UserName}">\n                <p ng-if="!UserState.isOwner">\n                    <span ng-if="DataList.Sex == 2">她</span><span ng-if="DataList.Sex != 2">他</span>的收藏<i>{{DataList.TotalCollect}}</i>\n                </p>\n                <p ng-if="UserState.isOwner">我的收藏<i>{{DataList.TotalCollect}}</i></p>\n            </li>\n            <li class="icon_club" page-jump data-router="forum.user-club" data-options="{uid: UserState.UserId, name: UserState.UserName}">\n                <p ng-if="!UserState.isOwner">\n                    <span ng-if="DataList.Sex == 2">她</span><span ng-if="DataList.Sex != 2">他</span>的圈子<i>{{DataList.TotalClub}}</i>\n                </p>\n                <p ng-if="UserState.isOwner">我的圈子<i>{{DataList.TotalClub}}</i></p>\n            </li>\n        </ul>\n    </ion-content>\n\n</ion-view>\n\n<user-login></user-login>\n')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("msg/tp/comment.html",'<section ng-if="UserInfo.UserId">\n    <header-bar title="评论"></header-bar>\n\n    <ion-view>\n        <ion-content overflow-scroll="true" class="mod_wrapper">\n            <ul class="msg_comment_list">\n                <li ng-repeat="(k, v) in DataList.CommentList track by $index">\n                    <div><img ng-src="{{v.Author.ImageUrl}}" /></div>\n                    <dl>\n                        <dt>{{v.Author.UserName}}</dt>\n                        <dd>\n                            <em>评论了 {{v.Article.Description}}</em>\n                            <p>{{v.Content}}</p>\n                            <i>{{v.UpdateTime}}</i>\n                        </dd>\n                    </dl>\n                    <div><img ng-src="{{v.Article.ImageUrl}}" /></div>\n                </li>\n            </ul>\n\n            <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n            </ion-infinite-scroll>\n\n            <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n        </ion-content>\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("msg/tp/index.html",'<ion-view class="ios_status_bar">\n    <ion-content has-bouncing="false" ng-style="styleScroll">\n<!--\n        <div class="msg_index">\n            <a ng-repeat="(k, v) in DataLink track by $index" class="{{v.ClassName}}" page-jump data-router="{{v.SiteUrl.router}}">\n                <span ng-class="{i_new : v.isNew}">{{v.Title}}</span>\n            </a>\n        </div>\n-->\n\n        <div class="msg_index_top">\n            <img src="themes/img/bg_msg.png" />\n        </div>\n\n        <div class="msg_menu_list" ng-if="UserInfo.UserId">\n            <ul>\n                <li class="icon_hit" ng-class="{new : msgStatus.isPraise}" page-jump data-router="forum.msg-praise">\n                    <p>赞</p>\n                </li>\n                <li class="icon_comment" ng-class="{new : msgStatus.isComment}" page-jump data-router="forum.msg-comment">\n                    <p>评论</p>\n                </li>\n            </ul>\n            <ul>\n                <li class="icon_notice" ng-class="{new : msgStatus.isNotice}" page-jump data-router="forum.msg-notice">\n                    <p>通知</p>\n                </li>\n                <li class="icon_talk" ng-class="{new : msgStatus.isTalk}" page-jump data-router="forum.msg-talk">\n                    <p>私聊</p>\n                </li>\n            </ul>\n        </div>\n\n        <div class="msg_menu_list" ng-if="!UserInfo.UserId">\n            <ul>\n                <li class="icon_hit" ng-click="showLogin()"><p>赞</p></li>\n                <li class="icon_comment" ng-click="showLogin()"><p>评论</p></li>\n            </ul>\n            <ul>\n                <li class="icon_notice" ng-click="showLogin()"><p>通知</p></li>\n                <li class="icon_talk" ng-click="showLogin()"><p>私聊</p></li>\n                <!--\n                <li class="icon_friend"><p>邀请好友</p></li>\n                -->\n            </ul>\n        </div>\n\n    </ion-content>\n</ion-view>\n\n<footer-bar></footer-bar>\n\n<user-login></user-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("msg/tp/notice.html",'<section ng-if="UserInfo.UserId">\n    <header-bar title="通知"></header-bar>\n\n    <ion-view>\n        <ion-content overflow-scroll="true" class="mod_wrapper">\n            <ul class="msg_notice_list" ng-if="DataList.NoticeList.length > 0">\n                <li ng-repeat="(k, v) in DataList.NoticeList track by $index">\n                    <img ng-src="{{v.Author.ImageUrl}}" />\n                    <dl>\n                        <dt>{{v.Author.UserName}}</dt>\n                        <dd>{{v.Content}}</dd>\n                        <dd>{{v.UpdateTime}}</dd>\n                    </dl>\n                </li>\n            </ul>\n\n            <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n            </ion-infinite-scroll>\n\n            <div class="mod_no_more" ng-if="!Deploy.isMore">没有更多数据了！</div>\n        </ion-content>\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("msg/tp/praise.html",'<section ng-if="UserInfo.UserId">\n    <header-bar title="赞"></header-bar>\n\n    <ion-view>\n        <ion-content overflow-scroll="true" class="mod_wrapper">\n\n            <ul class="msg_praise" ng-if="DataList.PraiseList.length > 0">\n                <li ng-repeat="(k, v) in DataList.PraiseList track by $index">\n                    <img ng-src="{{v.Author.ImageUrl}}" />\n                    <dl>\n                        <dt>{{v.Author.UserName}}</dt>\n                        <dd>\n                            <i>赞了</i>\n                            "{{v.Title}}"\n                        </dd>\n                    </dl>\n                    <div><img ng-src="{{v.ImageUrl}}" /></div>\n                </li>\n            </ul>\n\n            <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n            </ion-infinite-scroll>\n\n            <div class="mod_no_more" ng-if="!Deploy.isMore">没有更多数据了！</div>\n\n        </ion-content>\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("msg/tp/search.html",'<section ng-if="UserInfo.UserId">\n    <header-bar title="邀请好友"></header-bar>\n\n    <ion-view>\n        <ion-content overflow-scroll="true">\n            <div class="unit_msg_search_friend">\n                <input placeholder="搜索好友" />\n                <button></button>\n            </div>\n\n            <ul class="unit_msg_list_search">\n                <li class="i_weibo">添加新浪微博好友</li>\n                <li class="i_weixin">添加微信好友</li>\n                <li class="i_qq">添加QQ好友</li>\n                <li class="i_friend">添加通讯录好友</li>\n            </ul>\n        </ion-content>\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>\n\n\n<!-- <header class="mod_header">\n    <a class="back_button"></a>\n    <h1 class="title_content">口哨</h1>\n</header> -->\n\n<!-- <section class="mod_wrapper">\n    <ul class="unit_msg_list_user">\n        <li>\n            <img src="../themes/temp/3.jpg" />\n            <p>吹口哨的柬埔寨girl</p>\n            <div class="this_btn current">关注</div>\n        </li>\n        <li>\n            <img src="../themes/temp/3.jpg" />\n            <p>吹口哨的柬埔寨girl</p>\n            <div class="this_btn">已关注</div>\n        </li>\n        <li>\n            <img src="../themes/temp/3.jpg" />\n            <p>吹口哨的柬埔寨girl</p>\n            <div class="this_btn">互注</div>\n        </li>\n    </ul>\n</section> -->')}])}(),function(n){try{n=angular.module("phoneApp")}catch(e){n=angular.module("phoneApp",[])}n.run(["$templateCache",function(n){n.put("msg/tp/talk.html",'<section ng-if="UserInfo.UserId">\n    <header-bar title="私聊"></header-bar>\n\n    <ion-view>\n        <ion-content overflow-scroll="true" class="mod_wrapper">\n            <ul class="msg_talk_list" ng-if="DataList.TalkList.length > 0">\n                <li ng-repeat="(k, v) in DataList.TalkList track by $index">\n                    <img ng-src="{{v.Author.ImageUrl}}" />\n                    <dl>\n                        <dt>\n                            {{v.Author.UserName}}\n                            <i>{{v.UpdateTime}}</i>\n                        </dd>\n                        <dd>\n                            {{v.Content}}\n                        </dd>\n                    </dl>\n                </li>\n            </ul>\n\n            <ion-infinite-scroll on-infinite="loadMore()" distance="1%" ng-if="Deploy.isMore">\n            </ion-infinite-scroll>\n\n            <div class="mod_no_more" ng-if="!Deploy.isMore">没有数据了！</div>\n        </ion-content>\n    </ion-view>\n</section>\n\n<page-login ng-if="!UserInfo.UserId"></page-login>')}])}(),angular.module("phoneApp").controller("tAttentCate",["$scope","$state","$ionicViewSwitcher","widget",function(n,e,t,a){n.UserInfo.UserId&&(n.cInput={All:!1},a.ajaxRequest({scope:n,url:"getListCategory",data:{CateId:""},success:function(e){n.CateList=e.CategoryList}}),n.doAttent=function(){var i=[];return angular.forEach(n.CateList,function(n,e){n.Selected&&i.push(n.CateId)}),0==i.length?(a.msgToast("你没有订阅任何栏目"),t.nextDirection("forward"),void e.go("forum.reg-follow")):void a.ajaxRequest({scope:n,msgError:"订阅栏目失败",url:"setAttentCate",data:{CatesId:i},success:function(n){a.msgToast("订阅栏目成功！"),t.nextDirection("forward"),e.go("forum.reg-follow")}})},n.itemClick=function(e){var t=e.delegationTarget,a=t.dataset.k;n.cInput.All&&n.CateList[a].Selected&&(n.cInput.All=!1),n.CateList[a].Selected=!n.CateList[a].Selected},n.itemAll=function(){n.cInput.All=!n.cInput.All,n.cInput.All?angular.forEach(n.CateList,function(n,e){n.Selected=!0}):angular.forEach(n.CateList,function(n,e){n.Selected=!1})})}]),angular.module("phoneApp").controller("tEntry",["$scope","$state","$timeout","$ionicPopup",function(n,e,t,a){var i=null;n.registerSelect=function(){i=a.alert({title:"用户注册",okText:"取消",okType:"cancel",scope:n,template:'<div class="choose_register" ngd-click="itemClick($event)" selector="li"><ul class="mod_list_default"><li class="icon_weixin"><a>微信注册</a></li><li class="icon_mobile"><a>手机号注册</a></li><li class="icon_qq"><a>QQ注册</a></li><li class="icon_weibo last_border_line"><a>微博注册</a></li></ul></div>'})},n.itemClick=function(n){var a=angular.element(n.delegationTarget),s=a.attr("class").replace(" last_border_line","");switch(i.close(),s){case"icon_weixin":alert(1);break;case"icon_mobile":t(function(){e.go("forum.registerCreate")},100);break;case"icon_qq":alert(3);break;case"icon_weibo":alert(4)}}}]),angular.module("phoneApp").controller("tFollow",["$scope","$state","$ionicViewSwitcher","widget",function(n,e,t,a){n.UserInfo.UserId&&(a.ajaxRequest({scope:n,url:"getRegFllow",data:{Job:n.UserInfo.Job,Area:n.UserInfo.City},success:function(e){n.ListJob=e.ListJob,n.ListCity=e.ListCity}}),n.itemClick=function(n){n.delegationTarget},n.done=function(){a.ajaxRequest({scope:n,url:"setRegFllow",data:{Fllow:[]},success:function(n){}})})}]),angular.module("phoneApp").controller("tLoginForget",["$scope","$state","$ionicPopup","$ionicViewSwitcher","$timeout","widget",function(n,e,t,a,i,s){n.cInput={},n.changePassword=function(){var e=s.checkPhone(n.cInput.phone);if(!e)return n.cInput.password?n.cInput.passwordCheck?n.cInput.password.length<6||n.cInput.password.length>16?void s.msgToast("密码的长度应该为6-16位"):n.cInput.password!==n.cInput.passwordCheck?void s.msgToast("您两次输入的密码不一致！"):n.cInput.vcode?4!=n.cInput.vcode.length?void s.msgToast("您输入的手机验证码长度不对"):void s.ajaxRequest({url:"setNewPassword",data:{Phone:n.cInput.phone,PhoneCode:n.cInput.vcode,Password:md5(n.cInput.password)},success:function(n){n.isModify||s.msgToast("修改密码错误，请检查您输入的信息！")}}):void s.msgToast("请输入手机验证码！"):void s.msgToast("请输入确认密码！"):void s.msgToast("请输入密码！")}}]),angular.module("phoneApp").controller("tLogin",["$scope","$state","$ionicViewSwitcher","cachePool","widget",function(n,e,t,a,i){function s(){StatusBar.show()}n.isHybrid&&document.addEventListener("deviceready",s,!1),n.cInput={},n.goLogin=function(){return n.cInput.Phone?/^1[3|4|5|7|8][0-9]\d{4,8}$/.test(n.cInput.Phone)?n.cInput.Password?n.cInput.Password.length<=5?void i.msgToast("新密码必须大于或等于6位"):void i.ajaxRequest({scope:n,msgError:"登录失败",url:"getLogin",data:{Phone:n.cInput.Phone,Password:md5(n.cInput.Password)},success:function(n){i.setLogin(n),t.nextDirection("forward"),e.go("forum.home",{},{inherit:!1})}}):void i.msgToast("请输入密码"):void i.msgToast("用户名格式不合法"):void i.msgToast("请输入用户名")},n.chooseLoginWay=function(n){var e=angular.element(n.delegationTarget);console.log(e)}}]),angular.module("phoneApp").controller("tRegAccount",["$scope","$state","$timeout","$ionicViewSwitcher","cachePool","widget",function(n,e,t,a,i,s){var o=s.cacheData("regUserData");return o?(n.cInput=s.cacheData("regUserData"),n.cInput.Password=null,void(n.submitReg=function(){return n.cInput.Phone?n.cInput.Password?n.cInput.Password.length<6||n.cInput.Password.length>16?void s.msgToast("密码必须6到16位之间！"):n.cInput.vcode?void s.ajaxRequest({scope:n,msgError:"注册失败",url:"setRegInfo",data:{Phone:n.cInput.Phone,UserName:n.cInput.UserName,Sex:n.cInput.Sex,Area:n.cInput.Area,Job:n.cInput.Job,Password:md5(n.cInput.Password),PhoneCode:n.cInput.vcode},success:function(t){return t.UserId?(angular.extend(t,{Phone:n.cInput.Phone,UserName:n.cInput.UserName,Sex:n.cInput.Sex,Area:n.cInput.Area,Job:n.cInput.Job}),s.setLogin(t),a.nextDirection("forward"),void e.go("forum.home",{},{inherit:!1})):void s.msgToast("注册失败")}}):void s.msgToast("请输入手机验证码！"):void s.msgToast("请输入密码！"):void s.msgToast("请输入手机号码！")})):(s.msgToast("用户注册信息已过期请重新返回输入！"),void s.toBack())}]),angular.module("phoneApp").controller("tRegCreate",["$scope","$state","$ionicPopup","$ionicViewSwitcher","cachePool","widget",function(n,e,t,a,i,s){n.DataList={},n.cInput=s.cacheData("regUserData")||{UserName:"",Sex:1,Area:0,AreaName:"请选择位置",Job:0,JobName:"请选择岗位"},n.goNextStep=function(){return n.cInput.UserName?n.cInput.Area?n.cInput.Job?(s.cacheData("regUserData",n.cInput),a.nextDirection("forward"),void e.go("forum.reg-account")):void s.msgToast("请选择岗位！"):void s.msgToast("请选择位置！"):void s.msgToast("请输入昵称！")}}]),angular.module("phoneApp").controller("tRegDone",["$scope","$timeout",function(n,e){n.cInput={UserImage:""}}]),angular.module("phoneApp").controller("tActivityDetail",["$scope","$state","$location","$stateParams","$ionicViewSwitcher","widget",function(n,e,t,a,i,s){n.Page={},n.Deploy={isType:"photo"==a.type?!0:!1,pageIndex:0,pageSize:5,isLoading:!1,isMore:!0},n.DataList={ArticleList:[]},"photo"==a.type?(s.ajaxRequest({scope:n,url:"getContentActivity",data:{ActivityId:parseInt(a.id,0)},success:function(e){n.Page.Title=e.Content.ActivityName,angular.extend(n.DataList,e)}}),n.loadMore=function(){s.ajaxRequest({scope:n,showPage:!0,url:"getListArticle",data:{ActivityId:parseInt(a.id,0)},success:function(e){e.ArticleList&&e.ArticleList.length>0&&(n.DataList.ArticleList=n.DataList.ArticleList.concat(e.ArticleList),n.setFalls())}})},n.loadMore()):s.ajaxRequest({scope:n,url:"getContentArticle",data:{ActivityId:parseInt(a.id,0)},success:function(e){n.DataList={},angular.extend(n.DataList,e),n.Deploy.ArticleId=n.DataList.ArticleId}}),n.setArticle=function(){return n.UserInfo.UserId?parseInt(a.id,0)?(i.nextDirection("forward"),void e.go("forum.photo-title",{activity:parseInt(a.id,0)},{inherit:!1})):void s.msgToast("网络错误，请稍后重试！"):void n.showLogin()}}]),angular.module("phoneApp").controller("tActivityList",["$scope","$state","$stateParams","$location","widget",function(n,e,t,a,i){n.Deploy={pageIndex:0,pageSize:10,isLoading:!1,isMore:!0},n.DataList={ActivityList:[]},n.loadMore=function(){i.ajaxRequest({scope:n,showPage:!0,url:"getListActivity",data:{ActivityType:0},success:function(e){e.ActivityList&&e.ActivityList.length>0?(n.Deploy.pageTotal=e.Total||0,angular.forEach(e.ActivityList,function(n,e){var t=1==n.ActivityType?"article":"photo";n.SiteUrl={options:{type:t,id:n.ActivityId}}}),n.DataList.ActivityList=n.DataList.ActivityList.concat(e.ActivityList),n.Deploy.isLoading=!1,n.$broadcast("scroll.infiniteScrollComplete")):(n.Deploy.isMore=!1,n.Deploy.isLoading=!0)}})},n.loadMore()}]),angular.module("phoneApp").controller("tArticleDetail",["$scope","$state","$window","$location","$stateParams","$ionicHistory","$cordovaKeyboard","$ionicViewSwitcher","cachePool","widget",function(n,e,t,a,i,s,o,r,l,c){return n.Deploy={ArticleId:parseInt(i.id,0)},n.Deploy.ArticleId?(n.UserState={isOwner:!1},n.DataList={},n.cInput={comment:""},n.PageTitle="详情",n.isHeaderMenu=!0,c.ajaxRequest({scope:n,url:"getContentArticle",data:{ArticleId:n.Deploy.ArticleId},success:function(e){angular.extend(n.DataList,e),n.UserInfo&&n.DataList.Author.UserId==n.UserInfo.UserId&&(n.UserState.isOwner=!0)}}),n.setPraise=function(e){return n.UserInfo.UserId?(n.showLove=!0,n.DataList.Total.StatePraise=2,n.DataList.Total.TotalPraise=n.DataList.Total.TotalPraise+1,void c.ajaxRequest({scope:n,isAckError:!1,url:"setArticlePraise",data:{ArticleId:n.Deploy.ArticleId},success:function(n){return n.Response.State?void 0:(c.msgToast("您的登录有问题，请重新登录吧！"),void c.toLogin())}})):void n.showLogin()},n.setDelete=function(){return n.UserInfo.UserId?void c.ajaxRequest({scope:n,msgError:"删除失败",url:"setArticleDel",data:{ArticleId:n.Deploy.ArticleId},success:function(n){c.msgToast("删除成功"),r.nextDirection("back"),s.goBack()}}):void n.showLogin()},n.showComment=function(){return n.UserInfo.UserId?(n.isComment=!n.isComment,void(n.isComment?n.hideScroll():n.showScroll())):void n.showLogin()},n.hideComment=function(){n.isComment=!1,n.showScroll()},n.setComment=function(){return n.UserInfo.UserId?n.cInput.comment.length<3?void c.msgToast("请多说点内容吧！"):void c.ajaxRequest({scope:n,msgError:"评论发表失败",url:"setArticleComment",data:{ArticleId:n.Deploy.ArticleId,Content:n.cInput.comment},success:function(e){n.isComment=!1,n.cInput.comment="",c.msgToast("评论发表成功")}}):void n.showLogin()},n.setCollect=function(){return n.UserInfo.UserId?void c.ajaxRequest({scope:n,msgError:"帖子收藏失败",url:"setArticleCollect",data:{ArticleId:n.Deploy.ArticleId},success:function(n){c.msgToast("帖子收藏成功")}}):void n.showLogin()},void(n.doEdit=function(){})):void c.toBack()}]),angular.module("phoneApp").controller("tPhotoTitle",["$scope","$state","$timeout","$location","$rootScope","$stateParams","$ionicLoading","$ionicActionSheet","$ionicViewSwitcher","widget","ENV",function(n,e,t,a,i,s,o,r,l,c,d){angular.extend(n.Deploy,{currentImage:!1}),n.isApp=!1,d.isHybrid&&(n.isApp=!0),n.CameraImages=c.cacheData("CameraImages")||{Images:[]},s.type&&"other"==s.type&&t(function(){var e=decodeURIComponent(sessionStorage.getItem("imageData"))||"";if(e){var t=angular.element(document.querySelector("#tmp"))[0],a=t.getContext("2d"),i=new Image;i.onload=function(){EXIF.getData(i,function(){var e=EXIF.pretty(this),s=e?e.Orientation:1;a.drawImage(i,0,0);var o=new MegaPixImage(i);o.render(t,{maxWidth:640,orientation:s},function(){var e=t.toDataURL("image/jpeg");n.Deploy.currentImage=e})})},i.src=e}},0),n.$watch("Deploy.currentImage",function(){n.Deploy.currentImage&&(n.CameraImages.Images.push({ImageUrl:n.Deploy.currentImage}),c.cacheData("CameraImages",n.CameraImages))}),n.nextPage=function(){if(0==n.CameraImages.Images.length)return void c.msgToast("哎哟，你总得发表点内容吧！");var t=!1;angular.forEach(n.CameraImages.Images,function(n,e){return n.Description?void 0:void(t=!0)}),t?c.msgToast("写点你想说的话吧！"):(c.cacheData("CameraImages",n.CameraImages),l.nextDirection("forward"),e.go("forum.photo-cate"))},n.dataDelete=function(e){n.CameraImages.Images.splice(e,1),c.cacheData("CameraImages",n.CameraImages)},n.addImage=function(){n.showSheet()}}]),angular.module("phoneApp").controller("tCateList",["$scope","$stateParams","$ionicNavBarDelegate","$ionicScrollDelegate","widget",function(n,e,t,a,i){n.Page={Title:""},n.Deploy={cateId:e.id,currentTab:1,pageIndex:0,pageSize:5,isLoading:!1,isMore:!0,cateClass:"forum_cate_two_list"},n.DataList={ArticleList:[]},n.$watch("Deploy.currentTab",function(){1==n.Deploy.currentTab&&n.setFalls()}),n.loadCate=function(e){i.ajaxRequest({scope:n,url:"getListCategory",data:{CateId:n.Deploy.cateId},success:function(e){e.CategoryList.length%3==0&&(n.Deploy.cateClass="forum_cate_three_list"),n.DataList.CurrentCate=e.CurrentCate||{},n.DataList.CategoryList=e.CategoryList,n.Page.Title=e.CurrentCate.CateName}})},n.loadMore=function(e){i.ajaxRequest({scope:n,showPage:!0,url:"getListArticle",data:{CateId:n.Deploy.cateId},success:function(e){e.ArticleList&&e.ArticleList.length>0&&(n.DataList.ArticleList=n.DataList.ArticleList.concat(e.ArticleList),1==n.Deploy.currentTab&&n.setFalls())}})},n.loadCate(),n.loadMore()}]),angular.module("phoneApp").controller("tMsgChat",["$scope","$state","$location","$stateParams","$ionicViewSwitcher","widget",function(n,e,t,a,i,s){function o(n){}function r(n){}window.addEventListener("native.keyboardshow",o),window.addEventListener("native.keyboardhide",r),n.Deploy={isMore:!0,pageSize:10,pageIndex:0,isLoading:!1},n.cInput={Message:""};return n.UserInfo.UserId&&parseInt(a.uid,0)&&a.name?(n.UserState={UserId:parseInt(a.uid,0),UserName:a.name},n.DataList={ChatList:[]},s.ajaxRequest({scope:n,url:"getListChat",data:{UserId:n.UserState.UserId,FromId:0,ToId:0,Pull:!0},success:function(e){if(n.DataList.UserInfo||(n.DataList.UserInfo=e.UserInfo,n.DataList.UserInfo.UserImage||(n.DataList.UserInfo.UserImage=n.dUserImageL)),e.ChatList&&e.ChatList.length>0){var t=[{Time:"",List:[]}],a=0;angular.forEach(e.ChatList,function(n,e){t[a].Time?t[a].Time==n.UpdateTime?t[a].List.push(n):(a++,t[a]={Time:"",List:[]},t[a].Time=n.UpdateTime,t[a].List.push(n)):(t[a].Time=n.UpdateTime,t[a].List=[],t[a].List.push(n))}),n.DataList.ChatList=n.DataList.ChatList.concat(t)}}}),n.goUserPage=function(){i.nextDirection("forward"),e.go("forum.user-other-index",{uid:a.uid},{inherit:!1})},void(n.sendMsg=function(){return n.cInput.Message?void s.ajaxRequest({scope:n,url:"setListChat",data:{UserId:n.UserState.UserId,Message:n.cInput.Message},success:function(e){{var t=n.DataList.ChatList.length;n.DataList.ChatList[t-1].Time}n.DataList.ChatList.push({Time:"2015-09-23 23:22",List:[{ChatId:10,UpdateTime:"2015-08-12 10:49",Message:n.cInput.Message,Sender:22}]}),n.DataList.ChatList=n.DataList.ChatList.concat(arr)}}):void s.msgToast("不能发空消息哦！")})):void s.toBack()}]),angular.module("phoneApp").controller("tClubDetail",["$scope","$state","$window","$location","$stateParams","$ionicViewSwitcher","$ionicHistory","widget",function(n,e,t,a,i,s,o,r){n.Deploy={pageIndex:0,pageSize:5,isLoading:!1,isMore:!0,ClubId:parseInt(i.id,0)},n.Deploy.ClubId||r.toBack(),n.redirectUrl={Ranking:"#/forum/club/ranking-"+n.Deploy.ClubId+".htm"},n.DataList={ArticleList:[]},n.$watch("DataList.StateJoin",function(){n.DataList.StateJoin&&(n.isHeaderMenu=!0)}),n.isHeaderMenu=!0,n.$watch("UserInfo.UserId",function(){r.ajaxRequest({scope:n,url:"getContentClub",data:{ClubId:n.Deploy.ClubId},success:function(e){if(e.ActivityList&&e.ActivityList.ActivityId){var t=e.ActivityList.ActivityId,a=1==e.ActivityList.ActivityType?"article":"photo";e.ActivityList.SiteUrl="#/forum/activity/detail-"+a+"-"+t+".htm"}angular.extend(n.DataList,e)}})}),n.loadMore=function(){r.ajaxRequest({scope:n,showPage:!0,url:"getListArticle",data:{ClubId:n.Deploy.ClubId},success:function(e){e.ArticleList&&e.ArticleList.length>0&&(n.DataList.ArticleList=n.DataList.ArticleList.concat(e.ArticleList),n.setFalls())}})},n.loadMore(),n.clubJoin=function(){return n.UserInfo.UserId?void r.ajaxRequest({scope:n,url:"setJoinClub",data:{ClubId:n.Deploy.ClubId},success:function(e){e.Response.State&&(r.msgToast("欢迎您加入圈子!"),n.DataList.StateJoin=!0,n.DataList.TotalMember||(n.DataList.TotalMember=0),n.DataList.TotalMember++)}}):void n.showLogin()},n.clubSign=function(){return n.UserInfo.UserId?void r.ajaxRequest({scope:n,url:"setSignClub",data:{ClubId:n.Deploy.ClubId},success:function(e){r.msgToast("圈子签到成功!"),n.DataList.StateSign=!0,n.DataList.TotalSign||(n.DataList.TotalSign=0),n.DataList.TotalSign++}}):void n.showLogin()},n.setArticle=function(){s.nextDirection("forward"),e.go("forum.photo-title",{club:i.id},{inherit:!1})},n.leaveClub=function(){r.ajaxRequest({scope:n,url:"setLeaveClub",data:{ClubId:n.Deploy.ClubId},success:function(e){n.DataList.StateJoin=!1,n.DataList.TotalMember&&n.DataList.TotalMember--}})}}]),angular.module("phoneApp").controller("tClubHot",["$state","$scope","widget",function(n,e,t){e.goNext=function(){n.go("forum.club-list")},e.Deploy={isMore:!0},e.DataList={},t.ajaxRequest({scope:e,url:"getHotListClub",data:{ShowNum:10},success:function(n){n.ClubList&&n.ClubList.length>0?angular.extend(e.DataList,n):e.Deploy.isMore=!1}})}]),angular.module("phoneApp").controller("tClubList",["$scope","widget",function(n,e){n.Deploy={isMore:!0},n.DataList={},e.ajaxRequest({scope:n,url:"getListClub",data:{SortType:1},success:function(e){if(e.ClubList&&e.ClubList.length>0){var t={ClubList:[]};angular.forEach(e.ClubList,function(n,e){if(0==t.ClubList.length)t.ClubList.push({
Letter:n.Letter,List:[n]});else{var a=t.ClubList.length;t.ClubList[a-1].Letter==n.Letter?t.ClubList[a-1].List.push(n):t.ClubList.push({Letter:n.Letter,List:[n]})}}),angular.extend(n.DataList,t)}else n.Deploy.isMore=!1}})}]),angular.module("phoneApp").controller("tClubRanking",["$scope","$state","$stateParams","widget",function(n,e,t,a){n.Deploy={isMore:!0},n.DataList={},a.ajaxRequest({scope:n,url:"getClubHotUser",data:{ClubId:t.id},success:function(e){e.UserList&&e.UserList.length>0?angular.extend(n.DataList,e):n.Deploy.isMore=!1}})}]),angular.module("phoneApp").controller("tCommentAdd",["$scope","$state","$stateParams","$location","widget",function(n,e,t,a,i){n.backParam={url:[]},n.addComment=function(){var e=angular.element(document.querySelector(".js_textarea")).val();e&&i.ajaxRequest({scope:n,noMask:!0,url:"$local/Tools/setArticleComment",data:{ArticleId:t.id,Content:e},success:function(n){alert(n)}})}}]),angular.module("phoneApp").controller("tCommentList",["$scope","$stateParams","$location","widget",function(n,e,t,a){n.Deploy={pageIndex:0,pageSize:15,isLoading:!1,isMore:!0},n.DataList={CommentList:[]},n.loadMore=function(){a.ajaxRequest({scope:n,showPage:!0,url:"getListComment",data:{SortType:1,ArticleId:e.id},success:function(e){e.CommentList&&e.CommentList.length>0?(n.Deploy.pageTotal=e.Total||0,n.DataList.CommentList=n.DataList.CommentList.concat(e.CommentList),n.Deploy.isLoading=!1,n.$broadcast("scroll.infiniteScrollComplete")):(n.Deploy.isLoading=!0,n.Deploy.isMore=!1)}})},n.loadMore()}]),angular.module("phoneApp").controller("tFindIndex",["$scope","$state","$stateParams","$location","widget",function(n,e,t,a,i){n.footerTab=2,n.DataList={},i.ajaxRequest({scope:n,url:"getFindHome",data:{},success:function(e){var t=0,a=e;a.CateList=[],angular.forEach(a.CategoryList,function(n,e){a.CateList[t]?a.CateList[t].push(n):(a.CateList[t]=[],a.CateList[t].push(n)),(e+1)%6==0&&t++}),n.DataList=a}}),i.ajaxRequest({scope:n,url:"getListCategory",data:{CateId:""},success:function(e){n.CateList=e.CategoryList}})}]),angular.module("phoneApp").controller("tFindLike",["$scope","widget",function(n,e){n.Deploy={pageIndex:0,pageSize:5,isLoading:!1,isMore:!0},n.DataList={PhotoList:[],ArticleList:[]},n.loadMore=function(){e.ajaxRequest({scope:n,showPage:!0,url:"getFindLike",data:{},success:function(e){n.DataList.PhotoList=e.PhotoList||[],e.ArticleList&&e.ArticleList.length>0&&(angular.forEach(e.ArticleList,function(e,t){n.DataList.ArticleList.push(e)}),n.setFalls())}})},n.UserInfo.UserId&&n.loadMore()}]),angular.module("phoneApp").controller("tPhotoEdit",["$rootScope","$scope","$state","$stateParams","$location","$timeout","$ionicViewSwitcher","widget",function(n,e,t,a,i,s,o,r){var l=decodeURIComponent(sessionStorage.getItem("imageData"))||"";e.ImageData={imageUrl:l},e.CameraImages=r.cacheData("CameraImages")||{Images:[]};var c=angular.element(document.querySelector("#canvas"))[0],d=new Image;d.onload=function(){angular.extend(e.ImageData,{nw:d.naturalWidth,nh:d.naturalHeight,bw:document.querySelector(".this_photo").offsetWidth,bh:document.querySelector(".this_photo").offsetHeight}),c.width=e.ImageData.bw,c.height=e.ImageData.bh;var n=c.getContext("2d"),t=angular.element(document.querySelector("#tmp"))[0],a=t.getContext("2d");EXIF.getData(d,function(){var i=EXIF.pretty(this),s=i?i.Orientation:1;a.drawImage(d,0,0);var o=new MegaPixImage(d);o.render(t,{maxWidth:640,orientation:s},function(){var a=t.toDataURL("image/jpeg");if(a){var i=new Image;i.onload=function(){n.drawImage(i,0,0,e.ImageData.bw,e.ImageData.bh),angular.element(document.querySelector(".this_photo")).append(c)},i.src=a}})})},d.src=e.ImageData.imageUrl,e.nextPage=function(){if(e.cvsImageData=c.toDataURL("image/jpeg"),e.cvsImageData){var n=angular.element(document.querySelector("#tmp"))[0],a=n.getContext("2d"),i=new Image;i.onload=function(){a.drawImage(i,0,0);var s=new MegaPixImage(i);s.render(n,{maxWidth:640,orientation:1},function(){var a=n.toDataURL("image/jpeg"),i=!1;angular.forEach(e.CameraImages.Images,function(n,e){return n.ImageUrl==a?void(i=!0):void 0}),i||(e.CameraImages.Images.push({ImageUrl:a,Content:""}),r.cacheData("CameraImages",e.CameraImages)),o.nextDirection("forward"),t.go("forum.photo-title")})},i.src=e.cvsImageData}},e.currentTab=!0,e.myScrollOptions={wrapper1:{},wrapper2:{}},e.changeTab=function(){e.currentTab=!e.currentTab,e.eventScroll=e.currentTab?"wrapper1":"wrapper2"}}]),angular.module("phoneApp").controller("tPhotoCate",["$scope","$state","$window","$location","$ionicPopup","$stateParams","$ionicHistory","$ionicViewSwitcher","widget",function(n,e,t,a,i,s,o,r,l){return n.CameraImages=l.cacheData("CameraImages")||{},n.Page={RightText:!1,RightFun:function(){return n.DataList.currentId?(n.CameraImages&&n.CameraImages.Images&&0!=n.CameraImages.Images.length&&n.CameraImages.Images[0].ImageUrl&&n.CameraImages.Images[0].Description||(n.isNone=!0),n.isNone?void i.confirm({title:"错误提示",cancelText:"取消",cancelType:"cancel",okText:"确定",okType:"confirm",scope:n,template:'<div style="padding:20px 0;line-height:20px;text-align:center;">您提交的信息不完整请返回修改！</div>'}).then(function(n){n&&(r.nextDirection("back"),o.goBack())}):(n.CameraImages.CateId=n.DataList.currentId,void l.ajaxRequest({scope:n,url:"setArticlePost",data:n.CameraImages,success:function(e){l.msgToast("内容发布成功"),n.CameraImages={},l.cacheData("CameraImages",n.CameraImages),r.nextDirection("back"),o.goBack(-4)}}))):void l.msgToast("请选择标签吧！")}},n.CameraImages&&n.CameraImages.Images&&0!=n.CameraImages.Images.length?(n.DataList={CateList:[],currentId:n.CameraImages.CateId||""},l.ajaxRequest({scope:n,url:"getListCategory",data:{CateId:s.id||""},success:function(e){n.DataList.CateList=e.CategoryList}}),n.toSelect=function(t){var a=angular.element(t.delegationTarget),i=a.attr("data-id");a.hasClass("next")?(r.nextDirection("forward"),e.go("forum.photo-cate",{id:i})):n.DataList.currentId=i},void n.$watch("DataList.currentId",function(){n.Page.RightText=n.DataList.currentId?"完成":!1})):(r.nextDirection("back"),void o.goBack())}]),angular.module("phoneApp").controller("tPhotoTitle",["$scope","$state","$timeout","$location","$rootScope","$stateParams","$ionicLoading","$ionicHistory","$ionicActionSheet","$ionicViewSwitcher","widget","ENV",function(n,e,t,a,i,s,o,r,l,c,d,u){n.Deploy={},angular.extend(n.Deploy,{currentImage:!1,isUpload:!1}),n.CameraImages=d.cacheData("CameraImages")||{},n.CameraImages.Images||(n.CameraImages.Images=[]),s.activity||n.CameraImages.ActivityId&&(n.CameraImages.ActivityId="",n.CameraImages.CateId=""),s.club||(n.CameraImages.ClubId=""),n.Page={RightText:s.activity?"提交":"继续",RightFun:function(){if(!n.CameraImages.Images||0==n.CameraImages.Images.length)return void d.msgToast("哎哟，你总得发表点内容吧！");var t=!1;if(angular.forEach(n.CameraImages.Images,function(n,e){return 0!=e||n.Description?void 0:void(t=!0)}),t)d.msgToast("写点你想说的话吧！");else{if(parseInt(s.activity,0))return angular.extend(n.CameraImages,{ActivityId:parseInt(s.activity,0)}),void d.ajaxRequest({scope:n,url:"setArticlePost",data:n.CameraImages,success:function(e){d.msgToast("活动发布成功"),n.CameraImages={},d.cacheData("CameraImages",n.CameraImages),d.toBack()}});s.club&&(n.CameraImages.ClubId=s.club),d.cacheData("CameraImages",n.CameraImages),c.nextDirection("forward"),e.go("forum.photo-cate")}}},s.type&&"other"==s.type&&t(function(){var e=decodeURIComponent(sessionStorage.getItem("imageData"))||"";if(e){var t=angular.element(document.querySelector("#tmp"))[0],a=t.getContext("2d"),i=new Image;i.onload=function(){EXIF.getData(i,function(){var e=EXIF.pretty(this),s=e?e.Orientation:1;a.drawImage(i,0,0);var o=new MegaPixImage(i);o.render(t,{maxWidth:1e3,quality:1,orientation:s},function(){var e=t.toDataURL("image/jpeg");n.Deploy.currentImage=e})})},i.src=e}},0),n.$watch("Deploy.currentImage",function(){n.Deploy.currentImage&&(n.CameraImages.Images.push({ImageUrl:n.Deploy.currentImage}),d.cacheData("CameraImages",n.CameraImages))}),n.dataDelete=function(e){n.CameraImages.Images.splice(e,1),d.cacheData("CameraImages",n.CameraImages)}}]),angular.module("phoneApp").controller("tReport",["$scope","$state","$location","$stateParams","widget",function(n,e,t,a,i){n.cInput={id:parseInt(a.id,0),title:a.title,type:"club"==a.type?"club":"thread",text:"club"==a.type?"圈子":"发布的内容"},n.Page={RightText:!1,RightFun:function(){return n.cInput.contact?n.cInput.content?void i.ajaxRequest({scope:n,noMask:!0,url:"setReportArticle",data:{ArticleId:a.id,Contact:n.cInput.contact,ReportReason:n.cInput.content},success:function(n){i.msgToast("感谢您的举报！"),i.toBack()}}):void i.msgToast("请填上举报理由！"):void i.msgToast("请填您的联系方式！")}},n.$watch("cInput.contact",function(){n.Page.RightText=n.cInput.contact&&n.cInput.content?"提交":!1}),n.$watch("cInput.content",function(){n.Page.RightText=n.cInput.contact&&n.cInput.content?"提交":!1})}]),angular.module("phoneApp").controller("tSearchResult",["$scope","$state","$stateParams","$location","widget",function(n,e,t,a,i){function s(e,t){1==n.Deploy.pageIndex&&(n.DataList[t]=[]),e&&e.length>0?(angular.forEach(e,function(e,a){n.DataList[t].push(e)}),n.Deploy.isLoading=!1,n.$broadcast("scroll.infiniteScrollComplete")):(n.Deploy.isLoading=!0,n.Deploy.isMore=!1)}n.Deploy={currentTab:1,pageIndex:0,pageSize:5,isLoading:!1,isMore:!0},n.DataList={ArticleList:[],CategoryList:[],ClubList:[],UserList:[]},n.keyword=decodeURIComponent(a.$$search.keyword)||"",n.loadMore=function(e){n.Deploy.pageSize=1===e||2===e?5:15,i.ajaxRequest({scope:n,showPage:!0,url:"getSearchContent",data:{Type:e,Keyword:t.keyword},success:function(t){switch(n.Deploy.pageTotal=t.Total||0,e){case 1:s(t.ArticleList,"ArticleList"),n.setFalls("ArticleList");break;case 2:s(t.CategoryList,"CategoryList"),n.setFalls("CategoryList");break;case 3:s(t.ClubList,"ClubList");break;case 4:s(t.UserList,"UserList")}}})},n.$watch("Deploy.currentTab",function(){n.Deploy.isLoading=!1,n.Deploy.isMore=!0,n.Deploy.pageIndex=0,n.loadMore(n.Deploy.currentTab)})}]),angular.module("phoneApp").controller("tSearchIndex",["$scope","cachePool","widget",function(n,e,t){var a=e.pull("Keyword")||[];n.DataList={HistoryKey:[]},angular.forEach(a,function(e,t){n.DataList.HistoryKey.push({Keyword:e})}),n.clearHistory=function(){e.remove("Keyword"),n.DataList.HistoryKey=[]},t.ajaxRequest({scope:n,noMask:!0,url:"getSearch",data:{},success:function(e){angular.extend(n.DataList,e)},error:function(n){}})}]),angular.module("phoneApp").controller("tSubjectDetail",["$scope","$state","$stateParams","$location","widget",function(n,e,t,a,i){n.Deploy={currentTab:1,pageIndex:0,pageSize:5,isLoading:!1,isMore:!0},n.DataList={ArticleList:[]},n.redirectUrl={},i.ajaxRequest({scope:n,url:"getContentSubject",data:{SubjectId:t.id},success:function(e){e.ClubId&&(n.redirectUrl.Club="forum.club-detail({id: "+e.ClubId+"})"),angular.extend(n.DataList,e)}}),n.loadMore=function(){i.ajaxRequest({scope:n,showPage:!0,url:"getListArticle",data:{CateId:t.id},success:function(e){e.ArticleList&&e.ArticleList.length>0&&(n.DataList.ArticleList=n.DataList.ArticleList.concat(e.ArticleList),n.setFalls())}})},n.loadMore()}]),angular.module("phoneApp").controller("tSubjectList",["$scope","$state","$stateParams","$location","widget",function(n,e,t,a,i){n.Deploy={pageIndex:0,pageSize:15,isLoading:!1,isMore:!0},n.DataList={SubjectList:[]},n.loadMore=function(){i.ajaxRequest({scope:n,showPage:!0,url:"getListSubject",data:{SortType:1},success:function(e){e.SubjectList&&e.SubjectList.length>0?(n.Deploy.pageTotal=e.Total||0,n.DataList.SubjectList=n.DataList.SubjectList.concat(e.SubjectList),n.Deploy.isLoading=!1,n.$broadcast("scroll.infiniteScrollComplete")):(n.Deploy.isLoading=!0,n.Deploy.isMore=!1)}})},n.loadMore()}]),angular.module("phoneApp").controller("tDefault",["$scope","$rootScope","$state","$ionicBackdrop","$ionicHistory","cachePool","widget",function(n,e,t,a,i,s,o){o.clearHistory(),o.showStatusBar();var r={init:function(){var e=this;n.footerTab=1,n.DataList={},n.Deploy={currentTab:1},e.deploy()},deploy:function(){angular.extend(n.Deploy,{pageIndex:0,pageSize:5,isMore:!0,isLoading:!1}),n.DataList.ListLeft=[],n.DataList.ListRight=[]}};r.init(),o.ajaxRequest({scope:n,url:"getHomeImage",success:function(e){angular.extend(n.DataList,e)}}),n.updateData=function(e){if(2==e){if(!n.UserInfo.UserId)return void n.showLogin();n.Deploy.currentTab=2}else n.Deploy.currentTab=1;r.deploy(),n.loadMore()},n.loadMore=function(){o.ajaxRequest(1==n.Deploy.currentTab?{scope:n,showPage:!0,url:"getHomeArticle",data:{},success:function(e){e.ArticleList&&e.ArticleList.length>0&&(n.DataList.ListLeft=n.DataList.ListLeft.concat(e.ArticleList),n.setFalls())}}:{scope:n,showPage:!0,url:"getHomeFollow",data:{},success:function(e){e.ArticleList&&e.ArticleList.length>0&&(n.DataList.ListRight=n.DataList.ListRight.concat(e.ArticleList),n.setFalls())}})},n.loadMore()}]),angular.module("phoneApp").controller("tStart",["$scope","$state","$timeout","$rootScope","$ionicViewSwitcher","cachePool","widget",function(n,e,t,a,i,s,o){localStorage.setItem("PHONEAPP_START",!0),n.eventSlide=!0,n.DataList={},n.DataList.ImagesList=[{ImageUrl:"themes/temp/start_1.jpg"},{ImageUrl:"themes/temp/start_2.jpg"}],n.toEnter=function(){return i.nextDirection("forward"),n.UserInfo.UserId?void e.go("forum.home",{},{inherit:!1}):void e.go("forum.entry",{},{inherit:!1})}}]),angular.module("phoneApp").controller("tMsgComment",["$scope","$state","$location","$stateParams","widget",function(n,e,t,a,i){n.Deploy={pageIndex:0,pageSize:15,isLoading:!1,isMore:!0},n.DataList={CommentList:[]},n.loadMore=function(){n.UserInfo.UserId&&i.ajaxRequest({scope:n,showPage:!0,url:"getMsgComment",data:{},success:function(e){e.CommentList&&e.CommentList.length>0&&(n.DataList.CommentList=n.DataList.CommentList.concat(e.CommentList))}})},n.UserInfo.UserId&&n.loadMore()}]),angular.module("phoneApp").controller("tMsgIndex",["$scope","$timeout","widget",function(n,e,t){n.footerTab=4}]),angular.module("phoneApp").controller("tMsgNotice",["$scope","$state","widget",function(n,e,t){n.Deploy={pageIndex:0,pageSize:15,isLoading:!1,isMore:!0},n.DataList={NoticeList:[]},n.loadMore=function(){n.UserInfo.UserId&&t.ajaxRequest({scope:n,showPage:!0,url:"getMsgNotice",data:{},success:function(e){e.NoticeList&&e.NoticeList.length>0&&(n.DataList.NoticeList=n.DataList.NoticeList.concat(e.NoticeList))}})},n.UserInfo.UserId&&n.loadMore()}]),angular.module("phoneApp").controller("tMsgPraise",["$scope","$state","$ionicNavBarDelegate","$ionicHistory","widget",function(n,e,t,a,i){n.Deploy={pageIndex:0,pageSize:15,isLoading:!1,isMore:!0},n.DataList={PraiseList:[]},n.loadMore=function(){n.UserInfo.UserId&&i.ajaxRequest({scope:n,showPage:!0,url:"getMsgPraise",data:{},success:function(e){e.PraiseList&&e.PraiseList.length>0&&(n.DataList.PraiseList=n.DataList.PraiseList.concat(e.PraiseList))}})},n.UserInfo.UserId&&n.loadMore()}]),angular.module("phoneApp").controller("tMsgSearch",["$scope","$state",function(n,e){}]),angular.module("phoneApp").controller("tMsgTalk",["$scope","$state","$location","$stateParams","widget",function(n,e,t,a,i){n.Deploy={pageIndex:0,pageSize:15,isLoading:!1,isMore:!0},n.DataList={TalkList:[]},n.loadMore=function(){n.UserInfo.UserId&&i.ajaxRequest({scope:n,showPage:!0,url:"getMsgTalk",data:{},success:function(e){e.TalkList&&e.TalkList.length>0&&(n.DataList.TalkList=n.DataList.TalkList.concat(e.TalkList))}})},n.UserInfo.UserId&&n.loadMore()}]),angular.module("phoneApp").controller("tUserAbout",["$scope","ENV",function(n,e){n.version=e.appVersion}]),angular.module("phoneApp").controller("tUserArticle",["$scope","$stateParams","widget",function(n,e,t){n.Deploy={pageIndex:0,pageSize:5,isMore:!0,isLoading:!1},n.UserState={UserId:parseInt(e.uid,0),isOwner:!1},n.UserInfo&&n.UserInfo.UserId==n.UserState.UserId&&(n.UserState.isOwner=!0),n.Deploy.Title=e.name?decodeURIComponent(e.name):n.UserState.isOwner?"我":"他",n.DataList={CategoryList:[]},n.$watch("UserInfo.UserId",function(){n.UserInfo.UserId?n.loadMore():n.Deploy.isMore=!1}),n.loadMore=function(){t.ajaxRequest({scope:n,isLogin:!0,showPage:!0,url:"getUserArticleCate",data:{UserId:n.UserState.UserId},success:function(e){e.CategoryList&&e.CategoryList.length>0&&(angular.forEach(e.CategoryList,function(n,e){var t=n.CateList.length;t>0&&(n.CateId=n.CateList[t-1].CateId)}),n.DataList.CategoryList=n.DataList.CategoryList.concat(e.CategoryList))}})}}]),angular.module("phoneApp").controller("tUserArticleList",["$scope","$stateParams","widget",function(n,e,t){n.Deploy={CateId:parseInt(e.cate,0),currentTab:1,pageIndex:0,pageSize:5,isLoading:!1,isMore:!0},n.UserState={UserId:parseInt(e.uid,0),isOwner:!1},n.UserInfo&&n.UserInfo.UserId==n.UserState.UserId&&(n.UserState.isOwner=!0),n.DataList={ArticleList:[]},n.$watch("UserInfo.UserId",function(){n.UserInfo.UserId&&n.Deploy.CateId?n.loadMore():n.Deploy.isMore=!1}),n.loadMore=function(){t.ajaxRequest({scope:n,showPage:!0,isLogin:!0,url:"getUserArticle",data:{UserId:n.UserState.UserId,CateId:n.Deploy.CateId},success:function(e){n.DataList.UserName||(angular.extend(n.DataList,e),n.DataList.ArticleList=[]),e.ArticleList&&e.ArticleList.length>0&&(n.DataList.ArticleList=n.DataList.ArticleList.concat(e.ArticleList),n.setFalls())}})}}]),angular.module("phoneApp").controller("tUserAttention",["$scope","$stateParams","widget",function(n,e,t){n.Deploy={pageIndex:0,pageSize:15,isLoading:!1,isMore:!0},n.UserState={UserId:parseInt(e.uid,0),isOwner:!1},n.UserInfo&&n.UserInfo.UserId==n.UserState.UserId&&(n.UserState.isOwner=!0),n.Deploy.Title=e.name?decodeURIComponent(e.name)+"的":n.UserState.isOwner?"我的":"",n.DataList={FollowList:[]},n.$watch("UserInfo.UserId",function(){n.UserInfo.UserId?n.loadMore():n.Deploy.isMore=!1}),n.loadMore=function(){t.ajaxRequest({scope:n,showPage:!0,isLogin:!0,url:"getUserFollow",data:{UserId:n.UserState.UserId},success:function(e){e.FollowList&&e.FollowList.length>0&&(n.DataList.FollowList=n.DataList.FollowList.concat(e.FollowList))}})}}]),angular.module("phoneApp").controller("tUserCate",["$scope","$stateParams","widget",function(n,e,t){n.Deploy={pageIndex:0,pageSize:5,isMore:!0,isLoading:!1},n.UserState={UserId:parseInt(e.uid,0),CateId:parseInt(e.cate,0)},n.loadMore=function(){t.ajaxRequest({scope:n,showPage:!0,url:"getUserArticle",data:{UserId:n.UserState.UserId,CateId:n.UserState.CateId},success:function(e){e.ArticleList&&e.ArticleList.length>0&&(n.DataList.ArticleList=n.DataList.ArticleList.concat(e.ArticleList),n.setFalls())}})},n.loadMore()}]),angular.module("phoneApp").controller("tUserClub",["$scope","$stateParams","widget",function(n,e,t){n.Deploy={pageIndex:0,pageSize:15,isLoading:!1,isMore:!0},n.UserState={UserId:parseInt(e.uid,0),isOwner:!1},n.UserInfo&&n.UserInfo.UserId==n.UserState.UserId&&(n.UserState.isOwner=!0),n.Deploy.Title=e.name?decodeURIComponent(e.name):n.UserState.isOwner?"我":"他",n.DataList={ClubList:[]},n.$watch("UserInfo.UserId",function(){n.UserInfo.UserId?n.loadMore():n.Deploy.isMore=!1}),n.loadMore=function(){t.ajaxRequest({scope:n,showPage:!0,isLogin:!0,url:"getUserClub",data:{UserId:n.UserState.UserId},success:function(e){if(e.ClubList&&e.ClubList.length>0){var t={ClubList:[]};angular.forEach(e.ClubList,function(n,e){if(0==t.ClubList.length)t.ClubList.push({Letter:n.Letter,List:[n]});else{var a=t.ClubList.length;t.ClubList[a-1].Letter==n.Letter?t.ClubList[a-1].List.push(n):t.ClubList.push({Letter:n.Letter,List:[n]})}}),angular.extend(n.DataList,t)}else n.Deploy.isMore=!1}})}}]),angular.module("phoneApp").controller("tUserCollect",["$scope","$stateParams","widget",function(n,e,t){n.Deploy={pageIndex:0,pageSize:5,isMore:!0,isLoading:!1},n.UserState={UserId:parseInt(e.uid,0),isOwner:!1},n.UserInfo&&n.UserInfo.UserId==n.UserState.UserId&&(n.UserState.isOwner=!0),n.Deploy.Title=e.name?decodeURIComponent(e.name):n.UserState.isOwner?"我":"他",n.DataList={CategoryList:[]},n.$watch("UserInfo.UserId",function(){n.UserInfo.UserId?n.loadMore():n.Deploy.isMore=!1}),n.loadMore=function(){t.ajaxRequest({scope:n,showPage:!0,isLogin:!0,url:"getUserCollectCate",data:{UserId:n.UserState.UserId},success:function(e){e.CategoryList&&e.CategoryList.length>0&&(angular.forEach(e.CategoryList,function(n,e){var t=n.CateList.length;n.CateId=n.CateList[t-1].CateId}),n.DataList.CategoryList=n.DataList.CategoryList.concat(e.CategoryList))}})}}]),angular.module("phoneApp").controller("tUserCollectList",["$scope","$stateParams","widget",function(n,e,t){n.Deploy={CateId:parseInt(e.cate,0),currentTab:1,pageIndex:0,pageSize:5,isLoading:!1,isMore:!0},n.UserState={UserId:parseInt(e.uid,0),isOwner:!1},n.UserInfo&&n.UserInfo.UserId==n.UserState.UserId&&(n.UserState.isOwner=!0),n.DataList={ArticleList:[]},n.$watch("UserInfo.UserId",function(){n.UserInfo.UserId&&n.Deploy.CateId?n.loadMore():n.Deploy.isMore=!1}),n.loadMore=function(){t.ajaxRequest({scope:n,showPage:!0,isLogin:!0,url:"getUserCollect",data:{UserId:n.UserState.UserId,CateId:n.Deploy.CateId},success:function(e){n.DataList.UserName||(angular.extend(n.DataList,e),n.DataList.ArticleList=[]),e.ArticleList&&e.ArticleList.length>0&&(n.DataList.ArticleList=n.DataList.ArticleList.concat(e.ArticleList),n.setFalls())}})}}]),angular.module("phoneApp").controller("tUserFans",["$scope","$stateParams","widget",function(n,e,t){n.Deploy={pageIndex:0,pageSize:15,isLoading:!1,isMore:!0},n.UserState={UserId:parseInt(e.uid,0),isOwner:!1},n.UserInfo&&n.UserInfo.UserId==n.UserState.UserId&&(n.UserState.isOwner=!0),n.Deploy.Title=e.name?decodeURIComponent(e.name)+"的":n.UserState.isOwner?"我的":"",n.DataList={FansList:[]},n.$watch("UserInfo.UserId",function(){n.UserInfo.UserId?n.loadMore():n.Deploy.isMore=!1}),n.loadMore=function(){t.ajaxRequest({scope:n,showPage:!0,isLogin:!0,url:"getUserFans",data:{UserId:n.UserState.UserId},success:function(e){e.FansList&&e.FansList.length>0&&(n.DataList.FansList=n.DataList.FansList.concat(e.FansList))}})}}]),angular.module("phoneApp").controller("tUserFeedback",["$scope","$state","widget",function(n,e,t){n.cInput={},n.submitData=function(){return n.cInput.content?n.cInput.phone?void t.ajaxRequest({scope:n,url:"setFeedback",data:{Content:n.cInput.content,Contact:n.cInput.contact},success:function(n){n.Response&&"success"==n.Response.Ack&&t.msgToast("请输入您的联系方式！")}}):void t.msgToast("请输入您的联系方式！"):void t.msgToast("请输入您需要反馈的信息！")}}]),angular.module("phoneApp").controller("tUserIndex",["$scope","$state","$stateParams","$ionicPopover","$ionicViewSwitcher","$timeout","cachePool","widget",function(n,e,t,a,i,s,o,r){n.UserState={UserId:n.UserInfo.UserId?n.UserInfo.UserId:0},n.footerTab=5,n.DataList={},n.$watch("UserInfo.UserId",function(){n.UserInfo.UserId&&r.ajaxRequest({scope:n,url:"getUserInfo",isLogin:!0,data:{UserId:n.UserInfo.UserId},success:function(e){angular.extend(n.DataList,e)},error:function(n){r.cleanLogin()}})}),n.toMail=function(){n.UserInfo.UserId?(i.nextDirection("forward"),e.go("forum.msg-talk")):n.showLogin()}}]),angular.module("phoneApp").controller("tUserLevel",["$scope","$stateParams",function(n,e){}]),angular.module("phoneApp").controller("tUserSet",["$scope","$rootScope","$ionicPopup","$timeout","cachePool","widget",function(n,e,t,a,i,s){n.cInput={},n.DataList={},n.$watch("UserInfo.UserId",function(){n.UserInfo.UserId&&s.ajaxRequest({scope:n,url:"getUserInfo",isLogin:!0,data:{UserId:n.UserInfo.UserId},success:function(e){angular.extend(n.DataList,e),s.modifyLogin({UserImage:n.DataList.UserImage,UserName:n.DataList.UserName,Sex:n.DataList.Sex,Job:n.DataList.Job,Area:n.DataList.Area}),n.cInput={UserName:n.UserInfo.UserName,UserImage:n.UserInfo.UserImage,Sex:n.UserInfo.Sex,SexName:n.UserInfo.SexName,Job:n.UserInfo.Job,JobName:n.UserInfo.JobName,Area:n.UserInfo.Area,AreaName:n.UserInfo.AreaName}}})}),n.Page={isModify:!1,RightText:!1,RightFun:function(){return n.UserInfo.UserId?void s.ajaxRequest({scope:n,url:"setUserInfo",data:{UserInfo:{Sex:parseInt(n.cInput.Sex,0),Job:parseInt(n.cInput.Job,0),Area:parseInt(n.cInput.Area,0)}},success:function(e){s.modifyLogin({Sex:n.cInput.Sex,Job:n.cInput.Job,Area:n.cInput.Area}),s.msgToast("信息修改成功！"),n.Page.isModify=!1}}):void n.showLogin()}},n.$watch("Page.isModify",function(){n.Page.RightText=n.Page.isModify?"完成":!1}),n.$watch("cInput.Sex",function(){n.cInput.SexName=2==n.cInput.Sex?"女":"男",n.tmpSex=n.cInput.Sex}),n.genderSelect=function(){t.confirm({title:"选择性别",cancelText:"取消",cancelType:"cancel",okText:"确定",okType:"confirm",scope:n,template:'<div class="choose_gender" ngd-click="chooseSex($event)" selector="span"><span><input name="sex" ng-checked="tmpSex == 2" type="radio"><label data-sex="2">女</label></span><span><input name="sex" ng-checked="tmpSex == 1" type="radio"><label data-sex="1">男</label></span></div>'}).then(function(e){e?(n.chooseSex(!1),n.Page.isModify=!0):n.tmpSex=n.cInput.Sex})},n.chooseSex=function(e){var t=angular.element(e.delegationTarget);t.length>0?n.tmpSex=t.find("label").attr("data-sex"):n.cInput.Sex=n.tmpSex},n.SettingData=s.getSetting(),n.changeSetting=function(e){n.SettingData[e]=!n.SettingData[e],i.push("SettingData",n.SettingData)},n.loginOut=function(){s.cleanLogin(n)}}]),angular.module("phoneApp").controller("tUserSetBind",["$scope","widget",function(n,e){}]),angular.module("phoneApp").controller("tUserSetPassword",["$scope","$timeout","$stateParams","$ionicHistory","$ionicViewSwitcher","widget",function(n,e,t,a,i,s){console.log(n.UserInfo.Phone),n.cInput={Phone:n.UserInfo.Phone||0},n.submitModify=function(){return n.cInput.oldPassword?n.cInput.password?n.cInput.password.length<6||n.cInput.password.length>16?void s.msgToast("密码的长度应该为6-16位"):n.cInput.passwordCheck?n.cInput.passwordCheck!==n.cInput.password?void s.msgToast("两次输入不相符，请重新输入"):n.cInput.vcode?4!=n.cInput.vcode.length?void s.msgToast("您输入的手机验证码长度不对"):void s.ajaxRequest({scope:n,msgError:"密码修改失败！",url:"setModifyPassword",data:{OldPassword:n.cInput.oldPassword,Password:n.cInput.password,PhoneCode:n.cInput.vcode},success:function(n){s.msgToast("密码修改成功！"),s.toBack()}}):void s.msgToast("请输入手机验证码！"):void s.msgToast("请输入确认密码"):void s.msgToast("请输入新密码"):void s.msgToast("请输入旧密码")}}]),angular.module("phoneApp").controller("tUserOtherIndex",["$q","$http","$scope","$state","$stateParams","$ionicPopover","$ionicViewSwitcher","$timeout","cachePool","widget",function(n,e,t,a,i,s,o,r,l,c){i.uid||c.toBack(),t.UserState={UserId:parseInt(i.uid,0),isOwner:!1},t.UserInfo&&t.UserInfo.UserId==t.UserState.UserId&&(t.UserState.isOwner=!0),t.DataList={},t.$watch("UserInfo.UserId",function(){t.UserInfo.UserId&&c.ajaxRequest({scope:t,url:"getUserInfo",isLogin:!0,data:{UserId:t.UserState.UserId},success:function(n){angular.extend(t.DataList,n),t.UserState.UserName=encodeURIComponent(t.DataList.UserName),c.getJobName(t.DataList.Job).then(function(n){t.DataList.JobName=n}),c.getCityName(t.DataList.Area).then(function(n){t.DataList.AreaName=n})},error:function(n){c.cleanLogin()}})}),t.addFollow=function(){return t.UserInfo.UserId?void c.ajaxRequest({scope:t,isLogin:!0,msgError:"关注失败，重新登录一下吧！",url:"setUserFollow",data:{UserId:t.UserState.UserId},success:function(n){t.DataList.StateFollow=1}}):void t.showLogin()}}]);