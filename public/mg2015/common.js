angular.module("Tjoys",["ui.router","ui.router.router","DelegateEvents"]).run(["$rootScope","$state","cachePool",function(t,e,n){t.Thumb="themes/img/thumb.jpg",t.UserInfo=function(){var t=n.pull("UserInfo");return t||(t={UserId:0}),t}(),t.$on("$stateChangeStart",function(n,a,r,o,i){return"mange.login"==a.name?void(t.showHeader=!1):void(t.UserInfo&&t.UserInfo.Auth?t.showHeader=!0:(t.showHeader=!1,n.preventDefault(),e.go("mange.login",{from:o.name,w:"notLogin"})))})}]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("mange",{"abstract":!0,url:"/mange",templateUrl:"code/tp/main.html"}).state("mange.login",{url:"/login.htm",templateUrl:"code/tp/login.html",controller:"tLogin"}).state("mange.password",{url:"/password.htm",templateUrl:"code/tp/password.html",controller:"tPassword"}).state("mange.index",{url:"/index.htm",templateUrl:"code/tp/index.html",controller:"tIndex"}).state("mange.banner",{url:"/banner.htm",templateUrl:"code/tp/banner.html",controller:"tBanner"}).state("mange.banner-add",{url:"/banner/add.htm",templateUrl:"code/tp/banner_add.html",controller:"tBannerAdd"}).state("mange.feedback",{url:"/feedback.htm",templateUrl:"code/tp/feedback.html",controller:"tFeedback"}).state("mange.report",{url:"/report.htm",templateUrl:"code/tp/report.html",controller:"tReport"}).state("mange.cate",{url:"/cate.htm",templateUrl:"code/tp/cate.html",controller:"tCate"}).state("mange.list",{url:"/list.htm?type&cateid&page",templateUrl:"code/tp/list.html",controller:"tList"}).state("mange.list-detail",{url:"/list/detail/{id}.htm?type&menu&sub",templateUrl:"code/tp/list_detail.html",controller:"tListDetail"}).state("mange.list-type",{url:"/list/{type}/{id}.htm?menu&sub",templateUrl:"code/tp/list_type.html",controller:"tListType"}).state("mange.subject",{url:"/subject.htm",templateUrl:"code/tp/subject.html",controller:"tSubject"}).state("mange.subject-add",{url:"/subject/add.htm",templateUrl:"code/tp/subject_add.html",controller:"tSubjectAdd"}).state("mange.subject-content",{url:"/subject/content/{id}.htm",templateUrl:"code/tp/subject_content.html",controller:"tSubjectContent"}).state("mange.activity",{url:"/activity.htm",templateUrl:"code/tp/activity.html",controller:"tActivity"}).state("mange.activity-add",{url:"/activity/add.htm",templateUrl:"code/tp/activity_add.html",controller:"tActivityAdd"}).state("mange.activity-content",{url:"/activity/content/{id}.htm",templateUrl:"code/tp/activity_content.html",controller:"tActivityContent"}).state("mange.comment",{url:"/comment.htm",templateUrl:"code/tp/comment.html",controller:"tComment"}).state("mange.club",{url:"/club.htm",templateUrl:"code/tp/club.html",controller:"tClub"}).state("mange.club-add",{url:"/club/add.htm",templateUrl:"code/tp/club_add.html",controller:"tClubAdd"}).state("mange.club-content",{url:"/club/content/{id}.htm",templateUrl:"code/tp/club_content.html",controller:"tClubContent"}).state("mange.user",{url:"/user.htm",templateUrl:"code/tp/user.html",controller:"tUser"}).state("mange.role",{url:"/role.htm",templateUrl:"code/tp/role.html",controller:"tRole"}).state("mange.role-add",{url:"/role/add.htm",templateUrl:"code/tp/role_add.html",controller:"tRoleAdd"}),e.otherwise("/mange/login.htm")}]),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("common/directives/city_list.html",'<section class="mod_city_list" ngd-click="toggleCity($event)" selector="dt">\n    <ul>\n        <li ng-click="cancleCity()">取消</li>\n        <li>{{City.tmpName}}</li>\n        <li ng-click="submitCity()">确定</li>\n    </ul>\n\n    <div ngd-click="selectCity($event)" selector="p">\n        <dl ng-repeat="(k, v) in CityList track by $index" ng-class="{open: v.id == City.tmpMid}">\n            <dt data-mid="{{v.id}}" data-mkey="{{k}}" data-name="{{v.name}}">{{v.name}}</dt>\n            <dd>\n                <p ng-repeat="(i, n) in v.sub track by $index" ng-class="{current: n.id == City.tmpSid}" data-sid="{{n.id}}" data-skey="{{k}}" data-name="{{n.name}}">\n                    {{n.name}}\n                </p>\n            </dd>\n        </dl>\n    </div>\n</section>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("common/directives/menu_bar.html",'<header ng-if="showHeader" class="mod_header">\n    <ul ngd-click="showMenu($event)" selector="li">\n        <li>\n            师乐汇\n        </li>\n        <li ng-class="{show: Menu == \'web\'}" ng-click="showSubmenu(\'web\')">\n            网站管理\n        </li>\n        <li ng-class="{show: Menu == \'article\'}" ng-click="showSubmenu(\'article\')">\n            内容管理\n        </li>\n        <li ng-class="{show: Menu == \'club\'}" ng-click="showSubmenu(\'club\')">\n            社区管理\n        </li>\n        <li ng-class="{show: Menu == \'user\'}" ng-click="showSubmenu(\'user\')">\n            用户管理\n        </li>\n<!--         <li ng-class="{show: Menu == \'mange\'}" ng-click="showSubmenu(\'mange\')">\n            客服管理\n        </li> -->\n    </ul>\n</header>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("common/directives/menu_sub_bar.html",'<div ng-if="showHeader" class="mod_menu">\n    <ul>\n        <li ng-class="{show: Menu == \'web\'}">\n            <dl>\n                <dt>营销管理</dd>\n                <dd><a ng-class="{current: SubMenu==\'banner\'}" ui-sref="mange.banner">广告管理</a></dd>\n                <!-- <dd><a ui-sref="mange.welcome">欢迎页管理</a></dd> -->\n                <dd><a ng-class="{current: SubMenu==\'msg\'}" ui-sref="mange.msg">消息群发</a></dd>\n                \n         <!--        <dt>个人设置</dd>\n                <dd><a ng-class="{current: SubMenu==\'password\'}" ui-sref="mange.password">修改密码</a></dd> -->\n                <dt>客服管理</dt>\n                <dd><a ng-class="{current: SubMenu==\'feedback\'}" ui-sref="mange.feedback">意见反馈</a></dd>\n                <!-- <dd><a ng-class="{current: SubMenu==\'report\'}" ui-sref="mange.report">举报管理</a></dd> -->\n            </dl>\n        </li>\n        <li ng-class="{show: Menu==\'article\'}">\n            <dl>\n                <dt>图片管理</dt>\n                <dd>\n                    <a ng-class="{current: SubMenu==\'list\'}" ui-sref="mange.list" ui-sref-opts="{inherit: false}">\n                        图片列表\n                    </a>\n                </dd>\n                <dd>\n                    <a ng-class="{current: SubMenu==\'list-no\'}" ui-sref="mange.list({type: \'no\'})" ui-sref-opts="{inherit: false}">\n                        未推荐\n                    </a>\n                </dd>\n                <dd>\n                    <a ng-class="{current: SubMenu==\'list-yes\'}" ui-sref="mange.list({type: \'yes\'})" ui-sref-opts="{inherit: false}">\n                        已推荐\n                    </a>\n                </dd>\n                <dd>\n                    <a ng-class="{current: SubMenu==\'list-home\'}" ui-sref="mange.list({type: \'home\'})" ui-sref-opts="{inherit: false}">\n                        首页图片\n                    </a>\n                </dd>\n\n                <dt>评论管理</dt>\n                <dd><a ng-class="{current: SubMenu==\'comment\'}" ui-sref="mange.comment">全部评论</a></dd>\n\n                <dt>其他管理</dt>\n                <dd><a ng-class="{current: SubMenu==\'cate\'}" ui-sref="mange.cate">标签管理</a></dd>\n            </dl>\n        </li>\n        <li ng-class="{show: Menu == \'club\'}">\n            <dl>\n                <dt>圈子管理</dt>\n                <dd><a ng-class="{current: SubMenu==\'club\'}" ui-sref="mange.club">圈子列表</a></dd>\n                <dd><a ng-class="{current: SubMenu==\'club-add\'}" ui-sref="mange.club-add">添加圈子</a></dd>\n                <dt>专题管理</dt>\n                <dd><a ng-class="{current: SubMenu==\'subject\'}" ui-sref="mange.subject">专题列表</a></dd>\n                <dd><a ng-class="{current: SubMenu==\'subject-add\'}" ui-sref="mange.subject-add">新建专题</a></dd>\n                <dt>活动管理</dt>\n                <dd><a ng-class="{current: SubMenu==\'activity\'}" ui-sref="mange.activity">活动列表</a></dd>\n                <dd><a ng-class="{current: SubMenu==\'activity-add\'}" ui-sref="mange.activity-add">创建活动</a></dd>\n            </dl>\n        </li>\n        <li ng-class="{show: Menu == \'user\'}">\n            <dl>\n                <dt>用户管理</dt>\n                <dd><a ng-class="{current: SubMenu==\'user\'}" ui-sref="mange.user">用户列表</a></dd>\n                <!-- <dd><a ui-sref="mange.login">等级列表</a></dd> -->\n\n                <dt>管理员管理</dt>\n                <dd><a ng-class="{current: SubMenu==\'role\'}" ui-sref="mange.role">管理员列表</a></dd>\n                <dd><a ng-class="{current: SubMenu==\'role-add\'}" ui-sref="mange.role-add">新增管理员</a></dd>\n            </dl>\n    </ul>\n</div>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("common/directives/select_cate.html",'<div class="filter_cate" style="margin-bottom:0;">\n    <select ng-repeat="(k, v) in CateList track by $index" ng-options="option.CateId as option.CateName for option in v.CategoryList" ng-model="Child.CateId[k]" ng-change="changeCate(k)">\n        <!-- <option ng-repeat="(i, item) in v.CategoryList track by $index" id="{{item.CateId}}">{{item.CateName}}</option> -->\n    </select>\n</div>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("common/directives/show_confirm.html",'<section class="mod_confirm">\n    \n</section>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("common/directives/show_page.html",'<ul ngd-click="changePage($event)" selector="li" class="mod_page mb10">\n    <li ng-repeat="(k, v) in [] | makeArr: PageNum" ng-class="{current: v == Page.pageIndex}">\n        {{v}}\n    </li>\n</ul>')}])}(),angular.module("Tjoys").factory("cachePool",function(){var t=function(t){if(!t)return null;var e,n=localStorage.getItem("tjoysadm"+t);try{e=JSON.parse(n)}catch(a){}return e?e:null},e=864e5,n={push:function(n,a,r){if(n&&a){var o=t(n)||{};o.value=a||void 0,o.expired=r?Date.now()+e*r:void 0,localStorage.setItem("tjoysadm"+n,JSON.stringify(o))}},pull:function(e){var n,a=t(e);return!a||a.expired&&a.expired<=Date.now()?null:n=a.value},remove:function(e,n){if(e){var a=t(e);return a?void(n&&a[n]?(a[n]=void 0,localStorage.setItem("tjoysadm"+e,JSON.stringify(a))):localStorage.removeItem("tjoysadm"+e)):void localStorage.removeItem("tjoysadm"+e)}},modify:function(e,n){if(e){var a,r=t(e);if(!r)return void localStorage.removeItem("tjoysadm"+e);if(n){for(a in r.value)n[a]&&(r.value[a]=n[a]);localStorage.setItem("tjoysadm"+e,JSON.stringify(r))}}}};return n}),angular.module("Tjoys").filter("ellipsis",function(){return function(t,e){return t&&e>0&&t.length>e?t.substring(0,e-2)+"…":t}}),angular.module("Tjoys").filter("specDate",["$filter",function(t){return function(e){var n=Date.now()-e,a="刚刚",r=36e5;return n>24*r?a=t("date")(e,"yyyy/MM/dd"):n>r&&(a=Math.floor(n/r)+"小时前"),a}}]),angular.module("Tjoys").filter("formatScore",function(){return function(t){return 10*Math.floor(t/.5)}}),angular.module("Tjoys").filter("makeArr",function(){return function(t,e,n){n=n||1;for(var a=1;e>=a;a+=n)t.push(a);return t}}),angular.module("Tjoys").config(["$provide","$httpProvider",function(t,e){t.factory("httpInterceptor",["$q",function(t){var e={request:function(e){e.url;return e||t.when(e)},requestError:function(e){return t.reject(e)},response:function(e){return e||t.when(e)},responseError:function(e){return t.reject(e)}};return e}]),e.interceptors.push("httpInterceptor")}]),angular.module("Tjoys").factory("widget",["$q","$http","$state","$compile","$timeout","$location","$rootScope","$cacheFactory","cachePool",function(t,e,n,a,r,o,i,l,c){var u=null,s=l("dataPool"),d={config:function(){var t={apiSocket:"http://m.tjoys.net/mgapi/"};return t},msgToast:function(t,e){var n=angular.element(document.querySelector(".mod_msg"));if(!n.length){var o=a('<div class="mod_msg" ng-click="notification=null" ng-show="notification"><span>{{notification}}</span></div>');angular.element(document.getElementsByTagName("body")[0]).append(o(i))}r(function(){i.notification=t},0),r.cancel(u),u=r(function(){i.notification=""},e||2e3)},cacheData:function(t,e){if(!angular.isString(t))return!1;var n=s.get(t);return e?void s.put(t,e):n?n:!1},safeApply:function(t,e){t&&e&&(t.$$phase||t.$root&&t.$root.$$phase?e():t.$apply(e))},ajaxRequest:function(t){var n=this;if(t){var a=(t.scope||"",t.data||{}),r={Header:{UserId:"",Auth:""}};i.UserInfo&&i.UserInfo.UserId&&(r.Header.UserId=i.UserInfo.UserId,r.Header.Auth=i.UserInfo.Auth),a=angular.extend({},a,r);var o={success:function(){},error:function(){}},l={method:"POST",url:n.config().apiSocket+t.url||"",data:a,timeout:15e3};for(var c in t)o[c]=t[c];i.isLoading=!0,e(l).success(function(t){t.Response.State||n.cleanLogin(),t.Response&&"Success"==t.Response.Ack?("function"==typeof o.success&&o.success(t),i.isLoading=!1):(i.isLoading=!1,o.errmsg&&n.msgToast(o.errmsg))}).error(function(t){i.isLoading=!1,n.msgToast("网络错误，请稍后再试！"),o.error(t)})}},setLogin:function(t){c.push("UserInfo",{UserId:t.UserId,Auth:t.Auth},1),i.UserInfo=c.pull("UserInfo")},cleanLogin:function(){c.remove("UserInfo"),i.UserInfo={UserId:0}},checkPhone:function(t){var e=this,n=!1;return t||(e.msgToast("请输入手机号码"),n=!0),/^1[3|4|5|7|8][0-9]\d{4,8}$/.test(t)||(e.msgToast("手机号码格式不合法"),n=!0),n},getJobList:function(){var n=t.defer();return e({method:"GET",url:"data/getJobList.json",timeout:15e3}).success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},getJobName:function(t){var e=this,n=e.getJobList().then(function(e){var n;return angular.forEach(e.JobList,function(e,a){e.Id==t&&(n=e.Name)}),n},function(t){return null});return n},getCityList:function(){var n=t.defer();return e({method:"GET",url:"data/getCityList.json",timeout:15e3}).success(function(t){n.resolve(t),i.CityList=t}).error(function(t){n.reject(t)}),n.promise},getCityName:function(t){var e,n=this;return i.CityList?angular.forEach(i.CityList,function(n,a){angular.forEach(n.sub,function(a,r){return a.id==t?void(e=n.name+" "+a.name):void 0}),e}):e=n.getCityList().then(function(e){var n;return angular.forEach(e,function(e,a){angular.forEach(e.sub,function(a,r){return a.id==t?void(n=e.name+" "+a.name):void 0}),n}),n},function(t){return null}),e}};return d}]),angular.module("Tjoys").directive("cityList",["$http","$state","$ionicViewSwitcher","$window","cachePool","widget","ENV",function(t,e,n,a,r,o,i){return{restrict:"E",replace:!0,templateUrl:"common/directives/city_list.html",controller:["$scope","$element","$rootScope","$compile","$timeout","widget",function(e,n,a,r,o,i){e.City||(e.City={}),e.City.tmpName||(e.City.tmpName="选择城市"),t({method:"GET",url:"data/getCityList.json",timeout:15e3}).success(function(t){e.CityList=t}),e.toggleCity=function(t){var n=angular.element(t.delegationTarget);return n.parent("dl").hasClass("open")?void(e.City.tmpMid=0):(e.City.tmpMname=n.attr("data-name"),void(e.City.tmpMid=n.attr("data-mid")))},e.selectCity=function(t){var n=angular.element(t.delegationTarget);e.City.tmpName=e.City.tmpMname+" "+n.attr("data-name"),e.City.tmpSid=n.attr("data-sid"),e.City.tmpCityId=e.City.tmpSid},e.cancleCity=function(t){e.City.tmpMid=0,e.City.tmpSid=0,e.City.tmpCityId=0,e.City.tmpName="选择城市",e.styleScroll={"overflow-y":"auto"},e.hideCity()},e.submitCity=function(t){return e.City.tmpCityId?(e.cInput.Area=e.City.tmpCityId,e.cInput.AreaName=e.City.tmpName,e.Page||(e.Page={}),e.Page.isModify=!0,void e.hideCity()):void i.msgToast("请选择您所在的位置！")},e.showCity=function(){n.css("display","block");e.styleScroll={"overflow-y":"hidden"},o(function(){n.addClass("this_show")},50)},e.hideCity=function(){n.removeClass("this_show")},e.choiceCity=function(){return e.CityList&&0!=e.CityList.length?(angular.forEach(e.CityList,function(t,n){angular.forEach(t.sub,function(n,a){n.id==e.cInput.Area&&(e.City.tmpMid=t.id,e.City.tmpMname=t.name)})}),e.City.tmpSid=e.cInput.Area,e.City.tmpCityId=e.cInput.Area,e.City.tmpName=e.cInput.AreaName,void e.showCity()):void i.msgToast("网络错误，请稍后再试！")}}]}}]),function(){var t=document.documentElement,e=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector,n=function(t,n){return e?e.call(t,n):t.tagName.toLowerCase()===n},a=function(e,a,r){for(r||(r=t);e&&e!=r&&r.contains(e);){if(n(e,a))return e;e=e.parentNode}return null},r={};t.contains||(Node.prototype.contains=function(t){return!!(16&this.compareDocumentPosition(t))});var o=/^\s*?{.+}\s*?$/;angular.forEach("Event Click Dblclick Mousedown Mouseup Mouseover Mouseout Mousemove Mouseenter Mouseleave".split(" "),function(t){var e="ngd"+t;r[e]=["$parse",function(n){return function(r,i,l){function c(t,e){var o=n(t);i.on(e,function(t){var n,l=t.target;(n=a(l,"string"==typeof u?u:u[e],i[0]))&&(t.delegationTarget=n,o(angular.element(n).scope(),{$event:t,$params:[].slice.call(arguments,1)}),r.$$phase||r.$apply())})}var u=l.selector,s="Event"==t?l.eventName||"click":t.toLowerCase(),d=l[e];u.match(o)&&(u=r.$eval(u)),d.match(o)?(d=r.$eval(d),angular.forEach(d,c)):c(d,s)}}]}),angular.module("DelegateEvents",[]).directive(r)}(),angular.module("Tjoys").directive("headerBar",["$window","$rootScope",function(t,e){return{restrict:"E",replace:!0,templateUrl:"common/directives/menu_bar.html",controller:["$scope","$element","$attrs",function(t,n,a){e.Header={subMenu:"web"},e.showSubmenu=function(t){e.Menu=t}}]}}]).directive("menuBar",["$window",function(t){return{restrict:"E",replace:!0,templateUrl:"common/directives/menu_sub_bar.html",controller:["$scope","$element","$attrs",function(t,e,n){}]}}]),angular.module("Tjoys").directive("appFilereader",["$q","$parse","widget",function(t,e,n){var a=Array.prototype.slice;return{restrict:"A",require:"?ngModel",link:function(e,r,o,i){i&&(i.$render=function(){},r.bind("change",function(r){function o(e){var n=t.defer(),a=new FileReader;return a.onload=function(t){n.resolve(t.target.result)},a.onerror=function(t){n.reject(t)},a.readAsDataURL(e),n.promise}function l(t){var e=angular.element(document.querySelector("#tmp"))[0],n=e.getContext("2d"),a=new Image;a.onload=function(){EXIF.getData(a,function(){var t=EXIF.pretty(this),r=t?t.Orientation:1;n.drawImage(a,0,0);var o=new MegaPixImage(a);o.render(e,{maxWidth:1e3,quality:1,orientation:r},function(){var t=e.toDataURL("image/jpeg");i.$setViewValue(t)})})},a.src=t}var c=r.target;t.all(a.call(c.files,0).map(o)).then(function(t){t&&0!=t.length&&(c.multiple?angular.forEach(t,function(t,e){l(t)}):l(t[0]),n.cacheData("CameraImages",e.CameraImages))})}))}}}]),angular.module("Tjoys").directive("pageBack",["$state","$window","$rootScope","$stateParams","widget",function(t,e,n,a,r){return{restrict:"A",link:function(t,n,a){n.on("click",function(){e.history.back()})}}}]).directive("pageJump",["$window","$state","$rootScope","$stateParams","$ionicHistory","$ionicViewSwitcher",function(t,e,n,a,r,o){return{restrict:"A",link:function(t,e,n){e.on("click",function(t){})}}}]),angular.module("Tjoys").directive("selectCate",["$window","$location","$rootScope","widget",function(t,e,n,a){return{restrict:"E",replace:!0,require:"?ngModel",scope:{},templateUrl:"common/directives/select_cate.html",link:function(t,e,n,r){r&&(t.Child={CateId:[],tCateId:""},t.CateList=[],t.getCate=function(){a.ajaxRequest({scope:t,url:"getListCategory",data:{CateId:t.Child.tCateId},success:function(e){if(e.CategoryList.length>0){var n=t.CateList.length,a=t.Child.CateKey;e.CategoryList.unshift({CateName:"选择筛选栏目"}),t.Child.CateId.splice(a+1,n-a+1),t.CateList.splice(a+1,n-a+1),t.CateList.push(e)}}})},t.getCate(),t.changeCate=function(e){t.Child.tCateId=t.Child.CateId[e],t.Child.CateKey=e,r.$setViewValue(t.Child.tCateId),t.getCate()})}}}]),angular.module("Tjoys").directive("showConfirm",["$window","$rootScope",function(t,e){return{restrict:"E",replace:!0,templateUrl:"common/directives/show_page.html",controller:["$scope","$element","$attrs",function(t,e,n){t.changePage=function(e){var n=angular.element(e.delegationTarget);id=parseInt(n.text(),0),t.Page.pageIndex=id,t.Page.isAll=!1,t.loadMore()},t.$watch("DataList.Total",function(){t.DataList.Total&&(t.PageNum=Math.ceil(t.DataList.Total/t.Page.pageSize))})}]}}]),angular.module("Tjoys").directive("showPage",["$window","$location","$rootScope",function(t,e,n){return{restrict:"E",replace:!0,templateUrl:"common/directives/show_page.html",controller:["$scope","$element","$attrs",function(n,a,r){function o(){var n="",a=e.$$search;a.page=id,angular.forEach(a,function(t,e){n?n+="&"+e+"="+t:n="?"+e+"="+t}),t.history.replaceState(null,"","/#"+e.$$path+n)}n.changePage=function(t){var e=angular.element(t.delegationTarget);id=parseInt(e.text(),0),n.Page.pageIndex=id,n.Page.isAll=!1,o(),n.loadMore()},n.$watch("DataList.Total",function(){n.DataList.Total&&(n.PageNum=Math.ceil(n.DataList.Total/n.Page.pageSize))})}]}}]);