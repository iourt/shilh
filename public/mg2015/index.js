!function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/activity.html",'<section ng-show="!isModify">\n    <dl class="mod_path">\n        <dt>活动管理</dt>\n        <dd>您可以对活动进行管理</dd>\n    </dl>\n\n    <dl class="mod_list mb10">\n        <dt>\n            <!-- <div ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}"></div> -->\n            <div>编号</div>\n            <div>活动封面</div>\n            <div>活动标题</div>\n            <div style="width:250px;">活动描述</div>\n            <div>活动类型</div>\n            <div>创建时间</div>\n            <div>操作</div>\n        </dt>\n        <dd ng-repeat="(k, v) in DataList.ActivityList track by $index">\n            <!-- <div ng-click="setSelect($event)" data-id="{{v.ActivityId}}" data-key="{{k}}" class="t_checkbox" ng-class="{select: v.Check}"></div> -->\n            <div>{{v.ActivityId}}</div>\n            <div><a ui-sref="mange.activity-content({id: v.ActivityId})"><img ng-src="{{v.ImageUrl}}" /></a></div>\n            <div>{{v.ActivityName}}</div>\n            <div>{{v.Description}}</div>\n            <div>\n                <span ng-show="v.ActivityType == 1">文字活动</span>\n                <span ng-show="v.ActivityType == 2">图片活动</span>\n            </div>\n            <div>{{v.CreateTime}}</div>\n            <div>\n                <p ng-click="Edit(v.ActivityId)">编辑</p>\n                <p ng-click="Delete(v.ActivityId)">删除</p>\n            </div>\n        </dd>\n    </dl>\n\n    <div class="mod_nodata mb10" ng-if="!DataList.ActivityList || DataList.ActivityList.length == 0"></div>\n\n    <show-page></show-page>\n\n    <ul class="mod_btn_list mb10">\n        <!-- <li ng-click="delSubject()">批量删除</li> -->\n        <li><a ui-sref="mange.activity-add">添加活动</a></li>\n    </ul>\n</section>\n\n<section ng-show="isModify">\n    <ul class="mod_modify mb10">\n        <li>\n            <label>活动标题</label>\n            <input ng-model="tInput.ActivityName" type="text" placeholder="请输入活动标题" />\n        </li>\n        <li>\n            <label>活动类型</label>\n            <span ng-if="tInput.ActivityType == 1">文字类</span>\n            <span ng-if="tInput.ActivityType == 2">图片类</span>\n        </li>\n        <li>\n            <label>类别名称</label>\n            <input ng-model="tInput.ActivityLabel" type="text" placeholder="例如：手工控" />\n        </li>\n        <li>\n            <label>活动封面</label>\n            <div class="t_upload">\n                <input type="file" ng-model="tInput.ImageUrl" accept="image/*" app-filereader />\n                <img data-ng-src="{{tInput.ImageUrl}}" />\n            </div>\n        </li>\n        <li>\n            <label>一句话描述</label>\n            <textarea ng-model="tInput.Intro" placeholder="请输入一句话描述"></textarea>\n        </li>\n        <li>\n            <label>详细描述</label>\n            <textarea ng-model="tInput.Description" placeholder="请输入详细描述"></textarea>\n        </li>\n    </ul>\n\n    <ul class="mod_btn_list mb10">\n        <li ng-click="Submit()">保存</li>\n        <li ng-click="Cancel()" class="disable">取消</li>\n    </ul>\n\n    <canvas id="tmp" style="display:none;"></canvas>\n</section>\n\n<!-- <show-confirm></show-confirm> -->')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/activity_add.html",'<dl class="mod_path">\n    <dt>添加活动</dt>\n    <dd>您可以对活动进行管理</dd>\n</dl>\n\n<ul class="mod_add mb10">\n    <li>\n        <label>活动标题</label>\n        <input ng-model="tInput.ActivityName" type="text" placeholder="请输入活动标题" />\n    </li>\n    <li>\n        <label>活动类型</label>\n        <select ng-model="tInput.ActivityType">\n            <option value="2" selected>图片类</option>\n            <option value="1">文字类</option>\n        </select>\n    </li>\n    <li>\n        <label>类别名称</label>\n        <input ng-model="tInput.ActivityLabel" type="text" placeholder="例如：手工控" />\n    </li>\n    <li>\n        <label>活动封面</label>\n        <div class="t_upload">\n            <input type="file" ng-model="tInput.ImageUrl" accept="image/*" app-filereader />\n            <img data-ng-src="{{tInput.ImageUrl}}" />\n        </div>\n    </li>\n    <li>\n        <label>一句话描述</label>\n        <textarea ng-model="tInput.Intro" placeholder="请输入一句话描述"></textarea>\n    </li>\n    <li>\n        <label>详细描述</label>\n        <textarea ng-model="tInput.Description" placeholder="请输入详细描述"></textarea>\n    </li>\n</ul>\n\n<ul class="mod_btn_list mb10">\n    <li ng-click="addActivity()">保存</li>\n</ul>\n\n<canvas id="tmp" style="display:none;"></canvas>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/activity_content.html",'<!-- <dl class="mod_path">\n    <dt>活动管理</dt>\n    <dd>您可以对活动进行管理</dd>\n</dl> -->\n<ul class="mod_back">\n    <li page-back>Back</li>\n    <li>您可以对活动进行管理</li>\n</ul>\n\n<ul class="mod_modify mb10">\n    <li>\n        <label>活动标题</label>\n        <div class="t_text">{{tContent.ActivityName}}</div>\n    </li>\n    <li>\n        <label>活动类型</label>\n        <span ng-show="tContent.ActivityType == \'1\'">文字类</span>\n        <span ng-show="tContent.ActivityType == \'2\'">图片类</span>\n    </li>\n    <li>\n        <label>类别名称</label>\n        <div class="t_text">{{tContent.ActivityLabel}}</div>\n    </li>\n    <li>\n        <label>活动封面</label>\n        <div class="t_upload">\n            <img data-ng-src="{{tContent.ImageUrl}}" />\n        </div>\n    </li>\n    <li>\n        <label>一句话描述</label>\n        <div class="t_text">{{tContent.Intro}}</div>\n    </li>\n    <li>\n        <label>详细描述</label>\n        <div class="t_text">{{tContent.Description}}</div>\n    </li>\n</ul>\n\n\n<ul class="mod_btn_list">\n    <li ui-sref="mange.list-type({id:Page.Id, type:\'activity\', menu: \'club\', sub: \'activity\'})">添加活动帖子</li> \n</ul>\n\n<section class="list_article" ng-if="DataList.ArticleList.length > 0">\n    <h3 ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}">\n        全选\n    </h3>\n    <ul>\n        <li ng-repeat="(k, v) in DataList.ArticleList track by $index">\n            <div class="t_img" ui-sref="mange.list-detail({id: v.ArticleId, menu: \'club\', sub: \'activity\'})">\n                <img ng-src="{{v.Images[0].ImageUrl}}" />\n            </div>\n            <div class="t_cate">\n                <p ng-click="setSelect($event)" data-id="{{v.ArticleId}}" data-key="{{k}}" ng-class="{select: v.Check}"></p>\n                <i ng-repeat="(i, item) in v.CategoryList track by $index">#{{item.CateName}}</i>\n            </div>\n            <div class="t_time">{{v.CreateTime}}</div>\n            <div class="t_btn">\n                <p data-id="{{v.ArticleId}}" ng-click="Delete($event, v.ArticleId)">取消活动帖子</p>\n            </div>\n        </li>\n    </ul>\n</section>\n\n\n<div class="mod_nodata mb10" ng-if="DataList.ArticleList.length == 0"></div>\n\n<show-page></show-page>\n\n\n<ul class="mod_btn_list" ng-if="DataList.ArticleList && DataList.ArticleList.length>0">\n    <li ng-click="Delete($event)">批量取消活动帖子</li> \n</ul>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/banner.html",'<section ng-show="!isModify">\n    <dl class="mod_path">\n        <dt>广告管理</dt>\n        <dd>您可以对广告进行管理</dd>\n    </dl>\n\n    <dl class="mod_list mb10">\n        <dt>\n            <!-- <div ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}"></div> -->\n            <div>编号</div>\n            <div>广告图片</div>\n            <div>广告标题</div>\n            <div>广告位置</div>\n            <div>链接地址</div>\n            <div>操作</div>\n        </dt>\n        <dd ng-repeat="(k, v) in DataList.UserList track by $index">\n            <!-- <div ng-click="setSelect($event)" data-id="{{v.UserId}}" data-key="{{k}}" class="t_checkbox" ng-class="{select: v.Check}"></div> -->\n            <div>{{v.BannerId}}</div>\n            <div>{{v.ImageUrl}}</div>\n            <div>{{v.Title}}</div>\n            <div>{{v.PageName}}</div>\n            <div>{{v.Link}}</div>\n            <div>\n                <p ng-click="Edit(v.BannerId)">编辑</p>\n                <p ng-click="Delete(v.BannerId)">删除</p>\n            </div>\n        </dd>\n    </dl>\n\n    <div class="mod_nodata mb10" ng-if="!DataList.BannerList || DataList.BannerList.length == 0"></div>\n\n    <ul class="mod_btn_list mb10">\n        <!-- <li ng-click="Delete()">批量删除</li> -->\n        <li><a ui-sref="mange.banner-add">添加广告</a></li>\n    </ul>\n</section>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/banner_add.html",'<dl class="mod_path">\n    <dt>广告添加</dt>\n    <dd>您可以对广告进行管理</dd>\n</dl>\n\n<ul class="mod_add mb10">\n    <li>\n        <label>广告标题</label>\n        <input ng-model="tInput.Title" type="text" placeholder="请输入广告标题" />\n    </li>\n    <li>\n        <label>广告位置</label>\n        <select ng-model="tInput.Page">\n            <option value="home">首页</option>\n            <option value="guess">猜你喜欢</option>\n        </select>\n    <li>\n        <label>\n            广告图片<br>\n            <i>图片尺寸保持一样大小600px*300px</i>\n        </label>\n        <div class="t_upload">\n            <input type="file" ng-model="tInput.ImageUrl" accept="image/*" app-filereader />\n            <img data-ng-src="{{tInput.ImageUrl}}" />\n        </div>\n    </li>\n    <li>\n        <label>广告链接</label>\n        <textarea ng-model="tInput.Link" placeholder="请输入广告链接"></textarea>\n    </li>\n</ul>\n\n<ul class="mod_btn_list mb10">\n    <li ng-click="addBanner()">保存</li>\n</ul>\n\n<canvas id="tmp" style="display:none;"></canvas>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/cate.html",'<dl class="mod_path">\n    <dt>标签管理</dt>\n    <dd>您可以对标签进行管理</dd>\n</dl>\n\n<dl class="mod_cate_list">\n    <dt>\n        <div></div>\n        <!-- <div><input type="checkbox" /></div> -->\n        <div>ID</div>\n        <div>标签名称</div>\n        <div>操作</div>\n    </dt>\n    <list class="b_0" ng-repeat="(k, v) in CateList track by $index">\n        <dd>\n            <div ng-class="{sum: v.HasSub && !v.ShowSub, minus: v.ShowSub}" ng-click="showCate({e: $event, id: v.CateId, sub: v.HasSub, key: k})"></div>\n			<!--\n            <div>\n                <input type="checkbox" ng-click="toggle(v.CateId)" ng-if="!v.HasSub" />\n            </div>\n			-->\n            <div>{{v.CateId}}</div>\n            <div>{{v.CateName}}</div>\n            <div>\n                <i ng-click="modify(v.CateId)">修改</i>\n                <i ng-click="add(v.CateId)">增加子类</i>\n                <i ng-click="delete(v.CateId)" ng-if="!v.HasSub">删除</i>\n            </div>\n        </dd>\n\n        <list class="b_1" ng-repeat="(ik, iv) in CateList[k].Sub track by $index">\n            <dd>\n                <div ng-class="{sum: iv.HasSub && !iv.ShowSub, minus: iv.ShowSub}" ng-click="showCate({e: $event,id: iv.CateId, sub: iv.HasSub, key: ik, pid: v.CateId, pkey: k})"></div>\n				<!--\n                <div><input type="checkbox" ng-click="toggle(iv.CateId)" ng-if="!iv.HasSub" /></div>\n				-->\n                <div>{{iv.CateId}}</div>\n                <div class="t_1">{{iv.CateName}}</div>\n                <div>\n                    <i ng-click="modify(iv.CateId)">修改</i>\n                    <i ng-click="add(iv.CateId)">增加子类</i>\n                    <i ng-click="del(iv.CateId)" ng-if="!iv.HasSub">删除</i>\n                </div>\n            </dd>\n\n            <list class="b_2" ng-repeat="(jk, jv) in CateList[k].Sub[ik].Sub track by $index">\n                <dd>\n                    <div></div>\n               <!--      <div>\n                        <input type="checkbox" ng-click="toggle(jv.CateId)" ng-if="!jv.HasSub" />\n                    </div> -->\n                    <div>{{jv.CateId}}</div>\n                    <div class="t_2">{{jv.CateName}}</div>\n                    <div>\n                        <i ng-click="modify(jv.CateId)">修改</i>\n                        <!-- <i>增加子类</i> -->\n                        <i ng-click="del(jv.CateId)" ng-if="!jv.HasSub">删除</i>\n                    </div>\n                </dd>\n            </list>\n        </list>\n    </list>\n</dl>\n<!-- <input type="file" ng-model="Deploy.currentImage" accept="image/*" app-filereader /> -->\n')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/club.html",'<section ng-show="!isModify">\n    <dl class="mod_path">\n        <dt>圈子管理</dt>\n        <dd>您可以对圈子进行管理</dd>\n    </dl>\n\n    <dl class="mod_list mb10">\n        <dt>\n            <!-- <div ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}"></div> -->\n            <div>编号</div>\n            <div>圈子图片</div>\n            <div>圈子名称</div>\n            <div style="width:250px;">圈子简介</div>\n            <div>圈子标签</div>\n            <div>帖子数</div>\n            <div>成员数</div>\n            <div>创建时间</div>\n            <div>操作</div>\n        </dt>\n        <dd ng-repeat="(k, v) in DataList.ClubList track by $index">\n            <!-- <div ng-click="setSelect($event)" data-id="{{v.ClubId}}" data-key="{{k}}" class="t_checkbox" ng-class="{select: v.Check}"></div> -->\n            <div>{{v.ClubId}}</div>\n            <div>\n                <a ui-sref="mange.club-content({id: v.ClubId})">\n                    <img ng-src="{{v.ImageUrl}}" />\n                </a>\n            </div>\n            <div>{{v.ClubName}}</div>\n            <div>{{v.Description}}</div>\n            <div>\n                <span style="padding-right:5px;" ng-repeat="(key, item) in v.CategoryList track by $index">{{item.CateName}}</span>\n            </div>\n            <div>{{v.TotalArticle}}</div>\n            <div>{{v.TotalUser}}</div>\n            <div>{{v.CreateTime}}</div>\n            <div>\n                <p ng-click="Edit(v.ClubId)">编辑</p>\n                <p ng-click="Delete(v.ClubId)">删除</p>\n            </div>\n        </dd>\n    </dl>\n\n    <div class="mod_nodata mb10" ng-if="!DataList.ClubList || DataList.ClubList.length == 0"></div>\n\n    <ul class="mod_btn_list mb10">\n        <!-- <li ng-click="Delete()">批量删除</li> -->\n        <li><a ui-sref="mange.club-add">添加圈子</a></li>\n    </ul>\n</section>\n\n<section ng-show="isModify">\n    <ul class="mod_modify mb10">\n        <li>\n            <label>圈子名称</label>\n            <input ng-model="tInput.ClubName" type="text" placeholder="请输入圈子名称" />\n        </li>\n        <li>\n            <label>圈子图片</label>\n            <div class="t_upload">\n                <input type="file" ng-model="tInput.ImageUrl" accept="image/*" app-filereader />\n                <img data-ng-src="{{tInput.ImageUrl}}" />\n            </div>\n        </li>\n        <li>\n            <label>圈子简介</label>\n            <textarea ng-model="tInput.Description" placeholder="请输入圈子简介"></textarea>\n        </li>\n        <li>\n            <label>圈子字母</label>\n            <input type="text" ng-model="tInput.Letter" placeholder="请输入圈子所在的字母" />\n        </li>\n        <li>\n            <label>圈子标签</label>\n        </li>\n    </ul>\n\n    <ul class="mod_btn_list mb10">\n        <li ng-click="Submit()">保存</li>\n        <li ng-click="Cancel()" class="disable">取消</li>\n    </ul>\n\n    <canvas id="tmp" style="display:none;"></canvas>\n</section>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/club_add.html",'<dl class="mod_path">\n    <dt>圈子添加</dt>\n    <dd>您可以对圈子进行管理</dd>\n</dl>\n\n<ul class="mod_add mb10">\n    <li>\n        <label>圈子名称</label>\n        <input ng-model="tInput.ClubName" type="text" placeholder="请输入圈子名称" />\n    </li>\n    <li>\n        <label>圈子图片</label>\n        <div class="t_upload">\n            <input type="file" ng-model="tInput.ImageUrl" accept="image/*" app-filereader />\n            <img data-ng-src="{{tInput.ImageUrl}}" />\n        </div>\n    </li>\n    <li>\n        <label>圈子简介</label>\n        <textarea ng-model="tInput.Description" placeholder="请输入圈子简介"></textarea>\n    </li>\n    <li>\n        <label>圈子字母</label>\n        <input type="text" ng-model="tInput.Letter" placeholder="请输入圈子所在的字母" />\n    </li>\n    <li>\n        <label>圈子标签</label>\n    </li>\n</ul>\n\n<ul class="mod_btn_list mb10">\n    <li ng-click="addClub()">保存</li>\n</ul>\n\n<canvas id="tmp" style="display:none;"></canvas>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/club_content.html",'<ul class="mod_back">\n    <li page-back>Back</li>\n    <li>您可以对圈子进行管理</li>\n</ul>\n\n<!-- <dl class="mod_path">\n    <dt>圈子管理</dt>\n    <dd>您可以对圈子进行管理</dd>\n</dl>\n -->\n<ul class="mod_modify mb10">\n    <li>\n        <label>圈子名称</label>\n        <div class="t_text">{{tContent.ClubName}}</div>\n    </li>\n    <li>\n        <label>圈子图片</label>\n        <div class="t_upload">\n            <img data-ng-src="{{tContent.ImageUrl}}" />\n        </div>\n    </li>\n    <li>\n        <label>圈子简介</label>\n        <div class="t_text">{{tContent.Description}}</div>\n    </li>\n    <li>\n        <label>圈子字母</label>\n        <div class="t_text">{{tContent.Letter}}</div>\n    </li>\n    <li>\n        <label>圈子标签</label>\n    </li>\n</ul>\n\n\n<ul class="mod_btn_list">\n    <li ui-sref="mange.list-type({id:Page.Id, type:\'club\', menu: \'club\', sub: \'club\'})">添加圈子帖子</li> \n</ul>\n\n<section class="list_article" ng-if="DataList.ArticleList.length > 0">\n    <h3 ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}">\n        全选\n    </h3>\n    <ul>\n        <li ng-repeat="(k, v) in DataList.ArticleList track by $index">\n            <div class="t_img" ui-sref="mange.list-detail({id: v.ArticleId, menu: \'club\', sub: \'activity\'})">\n                <img ng-src="{{v.Images[0].ImageUrl}}" />\n            </div>\n            <div class="t_cate">\n                <p ng-click="setSelect($event)" data-id="{{v.ArticleId}}" data-key="{{k}}" ng-class="{select: v.Check}"></p>\n                <i ng-repeat="(i, item) in v.CategoryList track by $index">#{{item.CateName}}</i>\n            </div>\n            <div class="t_time">{{v.CreateTime}}</div>\n            <div class="t_btn">\n                <p data-id="{{v.ArticleId}}" ng-click="Delete($event, v.ArticleId)">取消圈子帖子</p>\n            </div>\n        </li>\n    </ul>\n</section>\n\n\n<div class="mod_nodata mb10" ng-if="DataList.ArticleList.length == 0"></div>\n\n<show-page></show-page>\n\n\n<ul class="mod_btn_list" ng-if="DataList.ArticleList && DataList.ArticleList.length>0">\n    <li ng-click="Delete($event)">批量取消活动帖子</li> \n</ul>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/comment.html",'<dl class="mod_path">\n    <dt>评论管理</dt>\n    <dd>您可以对评论进行删除</dd>\n</dl>\n\n<dl class="mod_list mb10">\n    <dt>\n        <div ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}"></div>\n        <div>编号</div>\n        <div style="width:300px;">评论内容</div>\n        <div>评论者</div>\n        <div>评论时间</div>\n        <div>操作</div>\n    </dt>\n    <dd ng-repeat="(k, v) in DataList.CommentList track by $index">\n        <div ng-click="setSelect($event)" data-id="{{v.CommentId}}" data-key="{{k}}" class="t_checkbox" ng-class="{select: v.Check}"></div>\n        <div>{{v.CommentId}}</div>\n        <div><a ui-sref="mange.list-detail({id: v.ArticleId})">{{v.Content}}</a></div>\n        <div>{{v.Author.UserName}}</div>\n        <div>{{v.UpdateTime}}</div>\n        <div>\n            <p ng-click="Delete(v.CommentId)">删除</p>\n        </div>\n    </dd>\n</dl>\n\n<div class="mod_nodata mb10" ng-if="!DataList.CommentList || DataList.CommentList.length==0"></div>\n\n<show-page></show-page>\n\n<ul class="mod_btn_list mb10" ng-class="DataList.CommentList && DataList.CommentList.length>0">\n    <li ng-click="Delete()">批量删除</li>\n</ul>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/feedback.html",'<dl class="mod_path">\n    <dt>反馈管理</dt>\n    <dd>您可以对反馈进行删除</dd>\n</dl>\n\n<dl class="mod_list mb10">\n    <dt>\n        <div ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}"></div>\n        <div>编号</div>\n        <div style="width:300px;">意见内容</div>\n        <div>联系方式</div>\n        <div>反馈时间</div>\n        <div>操作</div>\n    </dt>\n    <dd ng-repeat="(k, v) in DataList.FeedbackList track by $index">\n        <div ng-click="setSelect($event)" data-id="{{v.FeedbackId}}" data-key="{{k}}" class="t_checkbox" ng-class="{select: v.Check}"></div>\n        <div>{{v.FeedbackId}}</div>\n        <div>{{v.Content}}</div>\n        <div>{{v.Contact}}</div>\n        <div>{{v.CreateTime}}</div>\n        <div>\n            <p ng-click="Delete(v.FeedbackId)">删除</p>\n        </div>\n    </dd>\n</dl>\n\n<div class="mod_nodata mb10" ng-if="!DataList.FeedbackList || DataList.FeedbackList.length==0"></div>\n\n<show-page></show-page>\n\n<ul class="mod_btn_list mb10" ng-class="DataList.FeedbackList && DataList.FeedbackList.length>0">\n    <li ng-click="Delete()">批量删除</li>\n</ul>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/list.html",'<dl class="mod_path">\n    <dt>标签管理</dt>\n    <dd>您可以对标签进行管理</dd>\n</dl>\n\n<section class="filter_cate" ng-if="CateList.length > 0">\n    <select ng-repeat="(k, v) in CateList track by $index" ng-options="option.CateId as option.CateName for option in v.CategoryList" ng-model="Page.CateId[k]" ng-change="changeCate(k)">\n        <!-- <option ng-repeat="(i, item) in v.CategoryList track by $index" id="{{item.CateId}}">{{item.CateName}}</option> -->\n    </select>\n </section>\n\n<section class="list_article" ng-if="DataList.ArticleList.length > 0">\n    <h3 ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}">\n        全选\n    </h3>\n    <ul>\n        <li ng-repeat="(k, v) in DataList.ArticleList track by $index">\n            <div class="t_img" ui-sref="mange.list-detail({id: v.ArticleId, menu: \'article\', sub: SubMenu})">\n                <img ng-src="{{v.Images[0].ImageUrl}}" />\n            </div>\n            <div class="t_cate">\n                <p ng-click="setSelect($event)" data-id="{{v.ArticleId}}" data-key="{{k}}" ng-class="{select: v.Check}"></p>\n                <i ng-repeat="(i, item) in v.CategoryList track by $index">#{{item.CateName}}</i>\n            </div>\n            <div class="t_time">{{v.CreateTime}}</div>\n            <div class="t_btn">\n                <p data-id="{{v.ArticleId}}" ng-click="setCheck($event, v.ArticleId)" data-type="yCate" ng-if="v.EditState==\'nCate\'">\n                    推荐栏目页\n                </p>\n                <p data-id="{{v.ArticleId}}" ng-click="setCheck($event, v.ArticleId)" data-type="nCate" ng-if="v.EditState==\'yCate\'" class="t_color">\n                    取消栏目页\n                </p>\n                <p data-id="{{v.ArticleId}}" ng-click="setCheck($event, v.ArticleId)" data-type="yHome" ng-if="v.HomeState==\'nHome\'">\n                    推荐首页\n                </p>\n                <p data-id="{{v.ArticleId}}" ng-click="setCheck($event, v.ArticleId)" data-type="nHome" ng-if="v.HomeState==\'yHome\'" class="t_color">\n                    取消首页\n                </p>\n                <p data-id="{{v.ArticleId}}" ng-click="delData($event, v.ArticleId)">删除</p>\n            </div>\n        </li>\n    </ul>\n</section>\n\n\n<div class="mod_nodata mb10" ng-if="DataList.ArticleList.length == 0"></div>\n\n<!-- <ul ngd-click="changePage($event)" selector="li" class="mod_page mb10">\n    <li data-id="1">1</li>\n    <li data-id="2">2</li>\n    <li data-id="3">3</li>\n    <li data-id="4">4</li>\n</ul> -->\n<show-page></show-page>\n\n\n<ul class="mod_btn_list mb10" ng-if="DataList.ArticleList && DataList.ArticleList.length>0">\n<!--     <li class="t_select">\n        <select>\n            <option>选择栏目</option>\n            <option>1123</option>\n            <option>1123</option>\n            <option>1123</option>\n            <option>1231</option>\n        </select>\n        <select>\n            <option>11232</option>\n            <option>21231</option>\n            <option>31231</option>\n            <option>41231</option>\n        </select>\n        <select>\n            <option>121231231232</option>\n            <option>21</option>\n            <option>31</option>\n            <option>41</option>\n        </select>\n    </li>\n\n    <li ng-click="setCate($event)">批量归类</li>\n    <li ng-click="delData($event)">批量删除</li> -->\n\n    <li ng-click="setCheck($event)" data-type="yCate">推荐栏目页</li>\n    <li ng-click="setCheck($event)" data-type="nCate">取消推荐栏目页</li>\n    <li ng-click="setCheck($event)" data-type="yHome">推荐首页</li>\n    <li ng-click="setCheck($event)" data-type="nHome">取消推荐首页</li>\n</ul>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/list_detail.html",'<ul class="mod_back">\n    <li page-back>Back</li>\n    <li>浏览：{{DataList.Total.TotalHit}}</li>\n    <li>收藏：{{DataList.Total.TotalCollect}}</li>\n    <li>赞：{{DataList.Total.TotalPraise}}</li>\n</ul>\n\n<section class="article_detail">\n    <ul class="t_content">\n        <li ng-repeat="(k, v) in DataList.Images track by $index">\n            <img ng-src="{{v.ImageUrl}}" />\n            <div data-ng-bind-html="v.Description">{{v.Description}}</div>\n        </li>\n    </ul>\n\n    <div class="t_author">\n        <img ng-src="{{DataList.Author.ImageUrl}}" />\n        <div>\n            <h4>{{DataList.Author.UserName}}</h4>\n            发布到：<i ng-repeat="(k, v) in DataList.CategoryList track by $index">#{{v.CateName}}</i>\n        </div>\n    </div>\n</section>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/list_type.html",'<!-- <dl class="mod_path">\n    <dt>关联{{Page.TypeName}}帖子管理</dt>\n    <dd>您可以对关联{{Page.TypeName}}帖子管理</dd>\n</dl> -->\n<ul class="mod_back">\n    <li page-back>Back</li>\n    <li>您可以对关联{{Page.TypeName}}帖子管理</li>\n</ul>\n\n<section class="filter_cate" ng-if="CateList.length > 0">\n    <select ng-repeat="(k, v) in CateList track by $index" ng-options="option.CateId as option.CateName for option in v.CategoryList" ng-model="Page.CateId[k]" ng-change="changeCate(k)">\n        <!-- <option ng-repeat="(i, item) in v.CategoryList track by $index" id="{{item.CateId}}">{{item.CateName}}</option> -->\n    </select>\n </section>\n\n<section class="list_article" ng-if="DataList.ArticleList.length > 0">\n    <h3 ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}">\n        全选\n    </h3>\n    <ul>\n        <li ng-repeat="(k, v) in DataList.ArticleList track by $index">\n            <div class="t_img" ui-sref="mange.list-detail({id: v.ArticleId, menu: Menu, sub: SubMenu})">\n                <img ng-src="{{v.Images[0].ImageUrl}}" />\n            </div>\n            <div class="t_cate">\n                <p ng-click="setSelect($event)" data-id="{{v.ArticleId}}" data-key="{{k}}" ng-class="{select: v.Check}"></p>\n                <i ng-repeat="(i, item) in v.CategoryList track by $index">#{{item.CateName}}</i>\n            </div>\n            <div class="t_time">{{v.CreateTime}}</div>\n            <div class="t_btn">\n                <p data-id="{{v.ArticleId}}" ng-click="Add($event, v.ArticleId)">\n                    加入{{Page.TypeName}}\n                </p>\n            </div>\n        </li>\n    </ul>\n</section>\n\n\n<div class="mod_nodata mb10" ng-if="DataList.ArticleList.length == 0"></div>\n<show-page></show-page>\n\n<ul class="mod_btn_list mb10" ng-if="DataList.ArticleList && DataList.ArticleList.length>0">\n    <li ng-click="Add($event)" data-type="yCate">批量加入{{Page.TypeName}}</li>\n</ul>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/login.html",'\n\n<!-- <input type="file" ng-model="Deploy.currentImage" accept="image/*" app-filereader /> -->\n\n<ul class="mod_login">\n    <li>\n        <label>手机号：</label>\n        <input ng-model="cInput.Phone" type="text" placeholder="手机号" />\n    </li>\n    <li>\n        <label>密码：</label>\n        <input ng-model="cInput.Password" type="password" placeholder="输入用户密码" />\n    </li>\n<!--     <li>\n        <label>验证码：</label>\n        <input ng-model="cInput.Code" type="text" placeholder="验证码" />\n        <div>1234</div>\n    </li> -->\n    <li ng-click="toLogin()">登录</li>\n</ul>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/main.html",'<header-bar></header-bar>\n\n<section class="mod_wrapper">\n    <menu-bar></menu-bar>\n    <div class="mod_right" ui-view></div>\n</section>\n')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/password.html",'<section class="mod_password">\n    <ul>\n        <li>\n            <label>旧密码：</label>\n            <input type="password" />\n        </li>\n        <li>\n            <label>新密码：</label>\n            <input type="password" />\n        </li>\n        <li>\n            <label>确认新密码：</label>\n            <input type="password" />\n        </li>\n    </ul>\n\n    <button ng-click="setModify()">提交</button>\n</section>\n')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/report.html",'<dl class="mod_path">\n    <dt>举报管理</dt>\n    <dd>您可以对举报进行管理</dd>\n</dl>\n\n<dl class="mod_list mb10">\n    <dt>\n        <div ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}"></div>\n        <div>编号</div>\n        <div>被举报人</div>\n        <div>处理状态</div>\n        <div>内容</div>\n        <div>举报人</div>\n        <div>联系方式</div>\n        <div>举报时间</div>\n        <div>操作</div>\n    </dt>\n    <dd ng-repeat="(k, v) in DataList.ReportList track by $index">\n        <div ng-click="setSelect($event)" data-id="{{v.ReportId}}" data-key="{{k}}" class="t_checkbox" ng-class="{select: v.Check}"></div>\n        <div>{{v.ReportId}}</div>\n        <div>{{v.Content}}</div>\n        <div>{{v.UserName}}</div>\n        <div>{{v.CreateTime}}</div>\n        <div>\n            <p ng-click="Delete(v.ReportId)">删除</p>\n        </div>\n    </dd>\n</dl>\n\n<div class="mod_nodata mb10" ng-if="!DataList.ReportList || DataList.ReportList.length==0"></div>\n\n<show-page></show-page>\n\n<ul class="mod_btn_list mb10" ng-class="DataList.ReportList && DataList.ReportList.length>0">\n    <li ng-click="Delete()">批量删除</li>\n</ul>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/role.html",'<dl class="mod_path">\n    <dt>管理员管理</dt>\n    <dd>您可以对管理员进行管理</dd>\n</dl>\n\n<dl class="mod_list mb10">\n    <dt>\n        <div>编号</div>\n        <div>用户名</div>\n        <div>操作</div>\n    </dt>\n    <dd ng-repeat="(k, v) in DataList.UserList track by $index">\n        <div>{{v.UserId}}</div>\n        <div>{{v.UserName}}</div>\n        <div>\n            <p ng-click="delRole(v.UserId)">删除</p>\n        </div>\n    </dd>\n</dl>\n\n<div class="mod_nodata" ng-if="!DataList.UserList || DataList.UserList.length == 0"></div>');
}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/role_add.html",'<dl class="mod_path">\n    <dt>管理员添加</dt>\n    <dd>您可以对管理员进行管理</dd>\n</dl>\n\n<ul class="mod_add mb10">\n    <li>\n        <label>用户名：</label>\n        <input ng-model="tInput.UserName" type="text" placeholder="请输入用户名称" />\n    </li>\n    <li>\n        <label>用户角色：</label>\n        <select ng-options="option.id as option.name for option in RoleList" ng-model="tInput.Type">\n             <!-- ng-change="changeRole(k)" -->\n        </select>\n    </li>\n</ul>\n\n<ul class="mod_btn_list mb10">\n    <li ng-click="addRole()">保存</li>\n</ul>\n\n')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/subject.html",'<section ng-show="!isModify">\n    <dl class="mod_path">\n        <dt>专题管理</dt>\n        <dd>您可以对专题进行管理</dd>\n    </dl>\n\n    <dl class="mod_list mb10">\n        <dt>\n            <!-- <div ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}"></div> -->\n            <div>编号</div>\n            <div>专题封面</div>\n            <div>专题标题</div>\n            <div>标题简写</div>\n            <div style="width:250px;">专题描述</div>\n            <div>帖子数</div>\n            <div>创建时间</div>\n            <div>操作</div>\n        </dt>\n        <dd ng-repeat="(k, v) in DataList.SubjectList track by $index">\n            <!-- <div ng-click="setSelect($event)" data-id="{{v.SubjectId}}" data-key="{{k}}" class="t_checkbox" ng-class="{select: v.Check}"></div> -->\n            <div>{{v.SubjectId}}</div>\n            <div>\n                <a ui-sref="mange.subject-content({id: v.SubjectId})">\n                    <img ng-src="{{v.ImageUrl}}" />\n                </a>\n            </div>\n            <div>{{v.LongName}}</div>\n            <div>{{v.ShortName}}</div>\n            <div>{{v.Description}}</div>\n            <div>{{v.TotalArticle}}</div>\n            <div>{{v.CreateTime}}</div>\n            <div>\n                <p ng-click="Edit(v.SubjectId)">编辑</p>\n                <p ng-click="Delete(v.SubjectId)">删除</p>\n            </div>\n        </dd>\n    </dl>\n\n    <div class="mod_nodata mb10" ng-if="!DataList.SubjectList || DataList.SubjectList.length == 0"></div>\n\n    <show-page></show-page>\n\n    <ul class="mod_btn_list mb10">\n        <!-- <li ng-click="Delete()">批量删除</li> -->\n        <li><a ui-sref="mange.subject-add">新建专题</a></li>\n    </ul>\n</section>\n\n\n<section ng-show="isModify">\n    <ul class="mod_modify mb10">\n        <li>\n            <label>专题标题（长标题）</label>\n            <input ng-model="tInput.LongName" type="text" placeholder="请输入专题标题（长标题）" />\n        </li>\n        <li>\n            <label>标题简写（短标题）</label>\n            <input ng-model="tInput.ShortName" type="text" placeholder="请输入标题简写（短标题）" />\n        </li>\n        <li>\n            <label>专题封面</label>\n            <div class="t_upload">\n                <input type="file" ng-model="tInput.ImageUrl" accept="image/*" app-filereader />\n                <img data-ng-src="{{tInput.ImageUrl}}" />\n            </div>\n        </li>\n        <li>\n            <label>专题描述</label>\n            <textarea ng-model="tInput.Description" placeholder="请输入专题描述"></textarea>\n        </li>\n        <li>\n            <label>推荐圈子</label>\n            <input ng-model="tInput.ClubId" type="text" placeholder="请输入圈子ID" />\n        </li>\n    </ul>\n\n    <ul class="mod_btn_list mb10">\n        <li ng-click="Submit()">保存</li>\n        <li ng-click="Cancel()" class="disable">取消</li>\n    </ul>\n\n    <canvas id="tmp" style="display:none;"></canvas>\n</section>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/subject_add.html",'<dl class="mod_path">\n    <dt>添加专题</dt>\n    <dd>您可以对专题进行管理</dd>\n</dl>\n\n<ul class="mod_add mb10">\n    <li>\n        <label>专题标题（长标题）</label>\n        <input ng-model="tInput.LongName" type="text" placeholder="请输入专题标题（长标题）" />\n    </li>\n    <li>\n        <label>标题简写（短标题）</label>\n        <input ng-model="tInput.ShortName" type="text" placeholder="请输入标题简写（短标题）" />\n    </li>\n    <li>\n        <label>专题封面</label>\n        <div class="t_upload">\n            <input type="file" ng-model="tInput.ImageUrl" accept="image/*" app-filereader />\n            <img data-ng-src="{{tInput.ImageUrl}}" />\n        </div>\n    </li>\n    <li>\n        <label>专题描述</label>\n        <textarea ng-model="tInput.Description" placeholder="请输入专题描述"></textarea>\n    </li>\n    <li>\n        <label>推荐圈子</label>\n        <input ng-model="tInput.ClubId" type="text" placeholder="请输入圈子ID" />\n    </li>\n</ul>\n\n<ul class="mod_btn_list mb10">\n    <li ng-click="addSubject()">保存</li>\n</ul>\n\n<canvas id="tmp" style="display:none;"></canvas>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/subject_content.html",'<!-- <dl class="mod_path">\n    <dt>专题管理</dt>\n    <dd>您可以对专题进行管理</dd>\n</dl> -->\n<ul class="mod_back">\n    <li page-back>Back</li>\n    <li>您可以对专题进行管理</li>\n</ul>\n\n<ul class="mod_modify mb10">\n    <li>\n        <label>专题标题（长标题）</label>\n        <div class="t_text">{{tContent.LongName}}</div>\n    </li>\n    <li>\n        <label>标题简写（短标题）</label>\n        <div class="t_text">{{tContent.ShortName}}</div>\n    </li>\n    <li>\n        <label>专题封面</label>\n        <div class="t_upload">\n            <img data-ng-src="{{tContent.ImageUrl}}" />\n        </div>\n    </li>\n    <li>\n        <label>专题描述</label>\n        <div class="t_text">{{tContent.Description}}</div>\n    </li>\n    <li>\n        <label>推荐圈子</label>\n        <div class="t_text">{{tContent.ClubId}}</div>\n    </li>\n</ul>\n\n\n<ul class="mod_btn_list">\n    <li ui-sref="mange.list-type({id:Page.Id, type:\'subject\', menu: \'club\', sub: \'subject\'})">添加专题帖子</li> \n</ul>\n\n<section class="list_article" ng-if="DataList.ArticleList.length > 0">\n    <h3 ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}">\n        全选\n    </h3>\n    <ul>\n        <li ng-repeat="(k, v) in DataList.ArticleList track by $index">\n            <div class="t_img" ui-sref="mange.list-detail({id: v.ArticleId, menu: \'club\', sub: \'subject\'})">\n                <img ng-src="{{v.Images[0].ImageUrl}}" />\n            </div>\n            <div class="t_cate">\n                <p ng-click="setSelect($event)" data-id="{{v.ArticleId}}" data-key="{{k}}" ng-class="{select: v.Check}"></p>\n                <i ng-repeat="(i, item) in v.CategoryList track by $index">#{{item.CateName}}</i>\n            </div>\n            <div class="t_time">{{v.CreateTime}}</div>\n            <div class="t_btn">\n                <p data-id="{{v.ArticleId}}" ng-click="Delete($event, v.ArticleId)">取消专题帖子</p>\n            </div>\n        </li>\n    </ul>\n</section>\n\n\n<div class="mod_nodata mb10" ng-if="DataList.ArticleList.length == 0"></div>\n\n<show-page></show-page>\n\n\n<ul class="mod_btn_list" ng-if="DataList.ArticleList && DataList.ArticleList.length>0">\n    <li ng-click="Delete($event)">批量取消专题帖子</li> \n</ul>')}])}(),function(t){try{t=angular.module("Tjoys")}catch(e){t=angular.module("Tjoys",[])}t.run(["$templateCache",function(t){t.put("code/tp/user.html",'<dl class="mod_path">\n    <dt>用户管理</dt>\n    <dd>您可以对用户进行管理</dd>\n</dl>\n\n<dl class="mod_list mb10">\n    <dt>\n        <!-- <div ng-click="setSelect($event, \'all\')" class="t_checkbox" ng-class="{select: Page.isAll}"></div> -->\n        <div>编号</div>\n        <div>头像</div>\n        <div>用户昵称</div>\n        <div>性别</div>\n        <div>城市</div>\n        <div>手机号</div>\n        <div>经验值</div>\n        <div>注册时间</div>\n        <div>操作</div>\n    </dt>\n    <dd ng-repeat="(k, v) in DataList.UserList track by $index">\n        <!-- <div ng-click="setSelect($event)" data-id="{{v.UserId}}" data-key="{{k}}" class="t_checkbox" ng-class="{select: v.Check}"></div> -->\n        <div>{{v.UserId}}</div>\n        <div><img ng-src="{{v.UserImage || Thumb}}" /></div>\n        <div>{{v.UserName}}</div>\n        <div>{{v.SexName}}</div>\n        <div>{{v.AreaName}}</div>\n        <div>{{v.Phone}}</div>\n        <div>{{v.Exper}}</div>\n        <div>{{v.CreateTime}}</div>\n        <div>\n            <p ng-click="Delete(v.UserId)">删除</p>\n        </div>\n    </dd>\n</dl>\n\n<div class="mod_nodata mb10" ng-if="!DataList.UserList || DataList.UserList.length == 0"></div>\n\n<show-page></show-page>')}])}(),angular.module("Tjoys").controller("tActivity",["$scope","$location","$rootScope","$stateParams","widget",function(t,e,n,a,i){n.Menu="club",n.SubMenu="activity",t.Page={pageIndex:parseInt(e.search().page,0)||1,pageSize:20,isAll:!1,SelectId:[]},t.DataList={},t.loadMore=function(){t.Page.isAll=!1,i.ajaxRequest({scope:t,url:"getListActivity",data:{ActivityType:0,PageIndex:t.Page.pageIndex,PageSize:t.Page.pageSize},success:function(e){t.DataList=e},error:function(t){i.msgToast("获取活动失败")}})},t.loadMore(),t.setSelect=function(e,n){if(n&&"all"==n)t.Page.isAll?(angular.forEach(t.DataList.ActivityList,function(t,e){t.Check=!1}),t.Page.isAll=!1):(angular.forEach(t.DataList.ActivityList,function(t,e){t.Check=!0}),t.Page.isAll=!0);else{var a=angular.element(e.target),i=!0,l=a.attr("data-key");a.attr("data-id");t.DataList.ActivityList[l].Check&&(t.Page.isAll=!1),t.DataList.ActivityList[l].Check=!t.DataList.ActivityList[l].Check,angular.forEach(t.DataList.ActivityList,function(t,e){t.Check||(i=!1)}),i?t.Page.isAll=!0:t.Page.isAll=!1}},t.getSelect=function(){t.Page.SelectId=[],angular.forEach(t.DataList.ActivityList,function(e,n){e.Check&&t.Page.SelectId.push(e.ActivityId)})},t.Delete=function(e){return e?t.Page.SelectId=[e]:t.getSelect(),0==t.Page.SelectId.length?void i.msgToast("请选择要删除的活动"):void i.ajaxRequest({scope:t,url:"delActivity",data:{ActivityId:t.Page.SelectId},success:function(e){t.loadMore(),i.msgToast("删除活动成功")},error:function(t){i.msgToast("删除活动失败")}})},t.Edit=function(e){t.isModify=!0,angular.forEach(t.DataList.ActivityList,function(n,a){n.ActivityId==e&&(t.tInput={ActivityId:n.ActivityId,ActivityName:n.ActivityName,ActivityLabel:n.ActivityLabel,ActivityType:n.ActivityType,ImageUrl:n.ImageUrl,Intro:n.Intro,Description:n.Description,CateId:n.CateId})})},t.Submit=function(){if(!t.tInput.ActivityName)return void i.msgToast("专题标题（长标题）不能为空");if(!t.tInput.ImageUrl)return void i.msgToast("请上传图片");if(!t.tInput.Description)return void i.msgToast("请输入专题描述");var e=angular.extend({},t.tInput);i.ajaxRequest({scope:t,url:"modifyActivity",data:e,success:function(e){i.msgToast("修改活动成功"),t.tInput={},t.isModify=!1},error:function(t){i.msgToast("修改活动失败")}})},t.Cancel=function(){t.isModify=!1}}]),angular.module("Tjoys").controller("tActivityAdd",["$scope","$rootScope","widget",function(t,e,n){e.Menu="club",e.SubMenu="activity-add",t.tInput={ActivityType:"2"},t.addActivity=function(){if(!t.tInput.ActivityName)return void n.msgToast("专题标题（长标题）不能为空");if(!t.tInput.ImageUrl)return void n.msgToast("请上传图片");if(!t.tInput.Description)return void n.msgToast("请输入专题描述");var e=angular.extend({},t.tInput);e.ActivityType=parseInt(e.ActivityType,0),n.ajaxRequest({scope:t,url:"addActivity",data:e,success:function(e){n.msgToast("添加活动成功"),t.tInput={ActivityType:"2"}},error:function(t){n.msgToast("添加活动失败")}})}}]),angular.module("Tjoys").controller("tActivityContent",["$state","$scope","$rootScope","$stateParams","widget",function(t,e,n,a,i){n.Menu="club",n.SubMenu="activity",e.Page={pageIndex:parseInt(a.index,0)||1,pageSize:20,Id:parseInt(a.id,0),SelectId:[],isAll:!1},e.tContent={},e.DataList={},e.getContent=function(){i.ajaxRequest({scope:e,url:"getContentActivity",data:{ActivityId:e.Page.Id},success:function(t){angular.extend(e.tContent,t.Content)}})},e.getContent(),e.loadMore=function(){e.Page.isAll=!1,i.ajaxRequest({scope:e,url:"getListArticle",data:{ActivityId:e.Page.Id,PageIndex:e.Page.pageIndex,PageSize:e.Page.pageSize},success:function(t){angular.extend(e.DataList,t)}})},e.loadMore(),e.setSelect=function(t,n){if(n&&"all"==n)e.Page.isAll?(angular.forEach(e.DataList.ArticleList,function(t,e){t.Check=!1}),e.Page.isAll=!1):(angular.forEach(e.DataList.ArticleList,function(t,e){t.Check=!0}),e.Page.isAll=!0);else{var a=angular.element(t.target),i=!0,l=a.attr("data-key");a.attr("data-id");e.DataList.ArticleList[l].Check&&(e.Page.isAll=!1),e.DataList.ArticleList[l].Check=!e.DataList.ArticleList[l].Check,angular.forEach(e.DataList.ArticleList,function(t,e){t.Check||(i=!1)}),i?e.Page.isAll=!0:e.Page.isAll=!1}},e.getSelect=function(){e.Page.SelectId=[],angular.forEach(e.DataList.ArticleList,function(t,n){t.Check&&e.Page.SelectId.push(t.ArticleId)})},e.Delete=function(t,n){var a=angular.element(t.target);a.attr("data-type");return n?e.Page.SelectId=[n]:e.getSelect(),0==e.Page.SelectId.length?void i.msgToast("选择删除的图片"):void i.ajaxRequest({scope:e,url:"delArticle",data:{ArticleId:e.Page.SelectId},success:function(t){i.msgToast("删除成功"),e.loadMore()},error:function(t){i.msgToast("删除失败")}})}}]),angular.module("Tjoys").controller("tBanner",["$scope","$rootScope","$stateParams","widget",function(t,e,n,a){e.Menu="web",e.SubMenu="banner",t.DataList={},t.loadMore=function(){a.ajaxRequest({scope:t,url:"getBannerList",data:{},success:function(e){angular.forEach(e.BannerList,function(t,e){switch(t.Page){case"home":t.PageName="首页";break;case"guess":t.PageName="猜你喜欢"}}),t.DataList=e}})},t.loadMore(),t.Delete=function(e){a.ajaxRequest({scope:t,url:"delBanner",data:{BannerId:e},success:function(e){a.msgToast("删除成功"),t.loadMore()},error:function(t){a.msgToast("删除失败")}})}}]),angular.module("Tjoys").controller("tBannerAdd",["$scope","$rootScope","widget",function(t,e,n){e.Menu="web",e.SubMenu="banner",t.tInput={Page:"home"},t.addBanner=function(){if(!t.tInput.Title)return void n.msgToast("广告标题不能为空");if(!t.tInput.ImageUrl)return void n.msgToast("请上传图片");var e=angular.extend({},t.tInput);n.ajaxRequest({scope:t,url:"addBanner",data:e,success:function(e){n.msgToast("添加广告成功"),t.tInput={}},error:function(t){n.msgToast("添加广告失败")}})}}]),angular.module("Tjoys").controller("tCate",["$scope","$rootScope","widget",function(t,e,n){e.Menu="article",e.SubMenu="cate",t.showCate=function(e){t.getData(e)},t.getData=function(e){return e||(e={}),e.e&&angular.element(e.e.target).attr("data-show")?void(e.pid?(angular.element(e.e.target).attr("data-show",""),t.CateList[e.pkey].Sub[e.key].ShowSub=!1,t.CateList[e.pkey].Sub[e.key].Sub=[]):(angular.element(e.e.target).attr("data-show",""),t.CateList[e.key].ShowSub=!1,t.CateList[e.key].Sub=[])):void n.ajaxRequest({scope:t,url:"getListCategory",data:{CateId:e.id||""},success:function(n){e.id?e.pid?(angular.element(e.e.target).attr("data-show",!0),t.CateList[e.pkey].Sub[e.key].ShowSub=!0,t.CateList[e.pkey].Sub[e.key].Sub=n.CategoryList):(angular.element(e.e.target).attr("data-show",!0),t.CateList[e.key].ShowSub=!0,t.CateList[e.key].Sub=n.CategoryList):t.CateList=n.CategoryList}})},t.getData(),t.cInput=[],t.toggle=function(e){var n,a=!1;angular.forEach(t.cInput,function(t,i){a||t==e&&(n=i,a=!0)}),a?t.cInput.splice(n,n):t.cInput.push(e),console.log(t.cInput)},t.modify=function(t){alert(t)},t["delete"]=function(t){alert(t)},t.add=function(t){alert(t)}}]),angular.module("Tjoys").controller("tClub",["$scope","$rootScope","widget",function(t,e,n){e.Menu="club",e.SubMenu="club",t.isModify=!1,t.Page={isAll:!1,SelectId:[]},t.DataList={},t.loadMore=function(){t.Page.isAll=!1,n.ajaxRequest({scope:t,url:"getListClub",data:{},success:function(e){t.DataList=e},error:function(t){n.msgToast("获取圈子失败")}})},t.loadMore(),t.setSelect=function(e,n){if(n&&"all"==n)t.Page.isAll?(angular.forEach(t.DataList.ClubList,function(t,e){t.Check=!1}),t.Page.isAll=!1):(angular.forEach(t.DataList.ClubList,function(t,e){t.Check=!0}),t.Page.isAll=!0);else{var a=angular.element(e.target),i=!0,l=a.attr("data-key");a.attr("data-id");t.DataList.ClubList[l].Check&&(t.Page.isAll=!1),t.DataList.ClubList[l].Check=!t.DataList.ClubList[l].Check,angular.forEach(t.DataList.ClubList,function(t,e){t.Check||(i=!1)}),i?t.Page.isAll=!0:t.Page.isAll=!1}},t.getSelect=function(){t.Page.SelectId=[],angular.forEach(t.DataList.ClubList,function(e,n){e.Check&&t.Page.SelectId.push(e.ClubId)})},t.Delete=function(e){return e?t.Page.SelectId=[e]:t.getSelect(),0==t.Page.SelectId.length?void n.msgToast("请选择要删除的圈子"):void n.ajaxRequest({scope:t,url:"delClub",data:{ClubId:t.Page.SelectId},success:function(e){t.loadMore(),n.msgToast("删除圈子成功")},error:function(t){n.msgToast("删除圈子失败")}})},t.Edit=function(e){t.isModify=!0,angular.forEach(t.DataList.ClubList,function(n,a){n.ClubId==e&&(t.tInput={ClubId:n.ClubId,ClubName:n.ClubName,ImageUrl:n.ImageUrl,Description:n.Description,Letter:n.Letter})})},t.Submit=function(){if(!t.tInput.ClubName)return void n.msgToast("圈子名称不能为空");if(!t.tInput.ImageUrl)return void n.msgToast("请上传图片");if(!t.tInput.Description)return void n.msgToast("请输入圈子介绍");if(!t.tInput.Letter)return void n.msgToast("请输入圈子所在字母");var e=angular.extend({},t.tInput);n.ajaxRequest({scope:t,url:"modifyClub",data:e,success:function(e){n.msgToast("修改圈子成功"),t.tInput={},t.isModify=!1},error:function(t){n.msgToast("修改圈子失败")}})},t.Cancel=function(){t.isModify=!1}}]),angular.module("Tjoys").controller("tClubAdd",["$scope","$rootScope","widget",function(t,e,n){e.Menu="club",e.SubMenu="club-add",t.tInput={},t.addClub=function(){if(!t.tInput.ClubName)return void n.msgToast("圈子名称不能为空");if(!t.tInput.ImageUrl)return void n.msgToast("请上传图片");if(!t.tInput.Description)return void n.msgToast("请输入圈子介绍");if(!t.tInput.Letter)return void n.msgToast("请输入圈子所在字母");var e=angular.extend({},t.tInput);n.ajaxRequest({scope:t,url:"addClub",data:e,success:function(e){n.msgToast("添加圈子成功"),t.tInput={}},error:function(t){n.msgToast("添加圈子失败")}})}}]),angular.module("Tjoys").controller("tClubContent",["$state","$scope","$rootScope","$stateParams","widget",function(t,e,n,a,i){n.Menu="club",n.SubMenu="club",e.Page={pageIndex:parseInt(a.index,0)||1,pageSize:20,Id:parseInt(a.id,0),SelectId:[],isAll:!1},e.tContent={},e.DataList={},e.getContent=function(){i.ajaxRequest({scope:e,url:"getContentClub",data:{ClubId:e.Page.Id},success:function(t){angular.extend(e.tContent,t)}})},e.getContent(),e.loadMore=function(){e.Page.isAll=!1,i.ajaxRequest({scope:e,url:"getListArticle",data:{ClubId:e.Page.Id,PageIndex:e.Page.pageIndex,PageSize:e.Page.pageSize},success:function(t){angular.extend(e.DataList,t)}})},e.loadMore(),e.setSelect=function(t,n){if(n&&"all"==n)e.Page.isAll?(angular.forEach(e.DataList.ArticleList,function(t,e){t.Check=!1}),e.Page.isAll=!1):(angular.forEach(e.DataList.ArticleList,function(t,e){t.Check=!0}),e.Page.isAll=!0);else{var a=angular.element(t.target),i=!0,l=a.attr("data-key");a.attr("data-id");e.DataList.ArticleList[l].Check&&(e.Page.isAll=!1),e.DataList.ArticleList[l].Check=!e.DataList.ArticleList[l].Check,angular.forEach(e.DataList.ArticleList,function(t,e){t.Check||(i=!1)}),i?e.Page.isAll=!0:e.Page.isAll=!1}},e.getSelect=function(){e.Page.SelectId=[],angular.forEach(e.DataList.ArticleList,function(t,n){t.Check&&e.Page.SelectId.push(t.ArticleId)})},e.Delete=function(t,n){var a=angular.element(t.target);a.attr("data-type");return n?e.Page.SelectId=[n]:e.getSelect(),0==e.Page.SelectId.length?void i.msgToast("选择删除的图片"):void i.ajaxRequest({scope:e,url:"delArticle",data:{ArticleId:e.Page.SelectId},success:function(t){i.msgToast("删除成功"),e.loadMore()},error:function(t){i.msgToast("删除失败")}})}}]),angular.module("Tjoys").controller("tComment",["$scope","$rootScope","$stateParams","widget",function(t,e,n,a){e.Menu="article",e.SubMenu="comment",t.Page={pageIndex:parseInt(n.index,0)||1,pageSize:20,SelectId:[],isAll:!1},t.DataList={},t.loadMore=function(){a.ajaxRequest({scope:t,url:"getCommentList",data:{PageIndex:t.Page.pageIndex,PageSize:t.Page.pageSize},success:function(e){t.DataList=e}})},t.loadMore(),t.setSelect=function(e,n){if(n&&"all"==n)t.Page.isAll?(angular.forEach(t.DataList.CommentList,function(t,e){t.Check=!1}),t.Page.isAll=!1):(angular.forEach(t.DataList.CommentList,function(t,e){t.Check=!0}),t.Page.isAll=!0);else{var a=angular.element(e.target),i=!0,l=a.attr("data-key");a.attr("data-id");t.DataList.CommentList[l].Check&&(t.Page.isAll=!1),t.DataList.CommentList[l].Check=!t.DataList.CommentList[l].Check,angular.forEach(t.DataList.CommentList,function(t,e){t.Check||(i=!1)}),i?t.Page.isAll=!0:t.Page.isAll=!1}},t.getSelect=function(){t.Page.SelectId=[],angular.forEach(t.DataList.CommentList,function(e,n){e.Check&&t.Page.SelectId.push(e.CommentId)})},t.Delete=function(e){return e?t.Page.SelectId=[e]:t.getSelect(),0==t.Page.SelectId.length?void a.msgToast("请选择要删除的评论"):void a.ajaxRequest({scope:t,url:"delComment",data:{CommentId:t.Page.SelectId},success:function(e){t.loadMore(),a.msgToast("评论删除成功")},error:function(t){a.msgToast("评论删除失败")}})}}]),angular.module("Tjoys").controller("tFeedback",["$scope","$rootScope","$stateParams","widget",function(t,e,n,a){e.Menu="web",e.SubMenu="feedback",t.Page={pageIndex:parseInt(n.index,0)||1,pageSize:20,SelectId:[],isAll:!1},t.DataList={},t.loadMore=function(){a.ajaxRequest({scope:t,url:"getFeedbackList",data:{PageIndex:t.Page.pageIndex,PageSize:t.Page.pageSize},success:function(e){t.DataList=e}})},t.loadMore(),t.setSelect=function(e,n){if(n&&"all"==n)t.Page.isAll?(angular.forEach(t.DataList.FeedbackList,function(t,e){t.Check=!1}),t.Page.isAll=!1):(angular.forEach(t.DataList.FeedbackList,function(t,e){t.Check=!0}),t.Page.isAll=!0);else{var a=angular.element(e.target),i=!0,l=a.attr("data-key");a.attr("data-id");t.DataList.FeedbackList[l].Check&&(t.Page.isAll=!1),t.DataList.FeedbackList[l].Check=!t.DataList.FeedbackList[l].Check,angular.forEach(t.DataList.FeedbackList,function(t,e){t.Check||(i=!1)}),i?t.Page.isAll=!0:t.Page.isAll=!1}},t.getSelect=function(){t.Page.SelectId=[],angular.forEach(t.DataList.FeedbackList,function(e,n){e.Check&&t.Page.SelectId.push(e.FeedbackId)})},t.Delete=function(e){return e?t.Page.SelectId=[e]:t.getSelect(),0==t.Page.SelectId.length?void a.msgToast("请选择要删除的评论"):void a.ajaxRequest({scope:t,url:"delFeedback",data:{FeedbackId:t.Page.SelectId},success:function(e){t.loadMore(),a.msgToast("删除反馈成功")},error:function(t){a.msgToast("删除反馈失败")}})}}]),angular.module("Tjoys").controller("tList",["$state","$scope","$location","$rootScope","$stateParams","widget",function(t,e,n,a,i,l){switch(a.Menu="article",a.SubMenu=i.type?"list-"+i.type:"list",e.Page={pageIndex:parseInt(n.search().page,0)||1,pageSize:20,CateId:[],tCateId:"",Type:"",SelectId:[],isAll:!1},e.tmpType=i.type||"",e.tmpType){case"yes":e.Page.Type="yCate";break;case"no":e.Page.Type="nCate";break;case"home":e.Page.Type="yHome";break;default:e.Page.Type=""}e.DataList={},e.loadMore=function(){e.Page.isAll=!1,l.ajaxRequest({scope:e,url:"getArticleList",data:{CateId:e.Page.tCateId,Type:e.Page.Type,PageIndex:e.Page.pageIndex,PageSize:e.Page.pageSize},success:function(t){angular.extend(e.DataList,t)}})},e.loadMore(),e.$watch("Page.tCateId",function(){e.loadMore()}),e.CateList=[],e.getCate=function(){l.ajaxRequest({scope:e,url:"getListCategory",data:{CateId:e.Page.tCateId},success:function(t){if(t.CategoryList.length>0){var n=e.CateList.length,a=e.Page.CateKey;t.CategoryList.unshift({CateName:"选择筛选栏目"}),e.Page.CateId.splice(a+1,n-a+1),e.CateList.splice(a+1,n-a+1),e.CateList.push(t)}}})},e.getCate(),e.changeCate=function(t){e.Page.tCateId=e.Page.CateId[t],e.Page.CateKey=t,e.getCate()},e.setCate=function(t){return 0==e.Page.SelectId.length?void l.msgToast("选择归类的图片"):void 0},e.setCheck=function(t,n){var a=angular.element(t.target),i="",s=a.attr("data-type");if(n?e.Page.SelectId=[n]:e.getSelect(),0==e.Page.SelectId.length)return void l.msgToast("选择推荐的图片");switch(s){case"nCate":i="取消栏目推荐";break;case"nHome":i="取消首页推荐";break;case"yCate":i="栏目推荐";break;case"yHome":i="首页推荐"}l.ajaxRequest({scope:e,url:"setArticleCheck",errmsg:i+"失败",data:{ArticleId:e.Page.SelectId,Type:s},success:function(t){l.msgToast(i+"成功"),e.loadMore()},error:function(t){l.msgToast(i+"失败")}})},e.setSelect=function(t,n){if(n&&"all"==n)e.Page.isAll?(angular.forEach(e.DataList.ArticleList,function(t,e){t.Check=!1}),e.Page.isAll=!1):(angular.forEach(e.DataList.ArticleList,function(t,e){t.Check=!0}),e.Page.isAll=!0);else{var a=angular.element(t.target),i=!0,l=a.attr("data-key");a.attr("data-id");e.DataList.ArticleList[l].Check&&(e.Page.isAll=!1),e.DataList.ArticleList[l].Check=!e.DataList.ArticleList[l].Check,angular.forEach(e.DataList.ArticleList,function(t,e){t.Check||(i=!1)}),i?e.Page.isAll=!0:e.Page.isAll=!1}},e.getSelect=function(){e.Page.SelectId=[],angular.forEach(e.DataList.ArticleList,function(t,n){t.Check&&e.Page.SelectId.push(t.ArticleId)})},e.delData=function(t,n){var a=angular.element(t.target);a.attr("data-type");return n?e.Page.SelectId=[n]:e.getSelect(),0==e.Page.SelectId.length?void l.msgToast("选择删除的图片"):void l.ajaxRequest({scope:e,url:"delArticle",data:{ArticleId:e.Page.SelectId},success:function(t){l.msgToast("删除成功"),e.loadMore()},error:function(t){l.msgToast("删除失败")}})}}]),angular.module("Tjoys").controller("tListDetail",["$sce","$scope","$state","$window","$location","$rootScope","$stateParams","widget",function(t,e,n,a,i,l,s,c){l.Menu=s.menu,l.SubMenu=s.sub,e.DataList={},c.ajaxRequest({scope:e,url:"getContentArticle",data:{ArticleId:parseInt(s.id,0)},success:function(n){angular.extend(e.DataList,n),angular.forEach(e.DataList.Images,function(e,n){e.Description=t.trustAsHtml(e.Description)}),console.log(e.DataList)}})}]),angular.module("Tjoys").controller("tListType",["$state","$scope","$rootScope","$stateParams","widget",function(t,e,n,a,i){switch(n.Menu=a.menu,n.SubMenu=a.sub,e.Page={pageIndex:parseInt(a.page,0)||1,pageSize:20,CateId:[],tCateId:"",Id:parseInt(a.id,0),Type:a.type,TypeName:"",SelectId:[],isAll:!1},e.DataList={},e.Page.Type){case"club":e.Page.TypeName="圈子";break;case"activity":e.Page.TypeName="活动";break;case"subject":e.Page.TypeName="专题"}e.loadMore=function(){e.Page.isAll=!1,i.ajaxRequest({scope:e,url:"getArticleList",data:{CateId:e.Page.tCateId,PageIndex:e.Page.pageIndex,PageSize:e.Page.pageSize},success:function(t){angular.extend(e.DataList,t)}})},e.loadMore(),e.$watch("Page.tCateId",function(){e.loadMore()}),e.CateList=[],e.getCate=function(){i.ajaxRequest({scope:e,url:"getListCategory",data:{CateId:e.Page.tCateId},success:function(t){if(t.CategoryList.length>0){var n=e.CateList.length,a=e.Page.CateKey;t.CategoryList.unshift({CateName:"选择筛选栏目"}),e.Page.CateId.splice(a+1,n-a+1),e.CateList.splice(a+1,n-a+1),e.CateList.push(t)}}})},e.getCate(),e.changeCate=function(t){e.Page.tCateId=e.Page.CateId[t],e.Page.CateKey=t,e.getCate()},e.setCate=function(t){return 0==e.Page.SelectId.length?void i.msgToast("选择归类的图片"):void 0},e.setSelect=function(t,n){if(n&&"all"==n)e.Page.isAll?(angular.forEach(e.DataList.ArticleList,function(t,e){t.Check=!1}),e.Page.isAll=!1):(angular.forEach(e.DataList.ArticleList,function(t,e){t.Check=!0}),e.Page.isAll=!0);else{var a=angular.element(t.target),i=!0,l=a.attr("data-key");a.attr("data-id");e.DataList.ArticleList[l].Check&&(e.Page.isAll=!1),e.DataList.ArticleList[l].Check=!e.DataList.ArticleList[l].Check,angular.forEach(e.DataList.ArticleList,function(t,e){t.Check||(i=!1)}),i?e.Page.isAll=!0:e.Page.isAll=!1}},e.getSelect=function(){e.Page.SelectId=[],angular.forEach(e.DataList.ArticleList,function(t,n){t.Check&&e.Page.SelectId.push(t.ArticleId)})},e.Add=function(t,n){var a=angular.element(t.target);a.attr("data-type");return n?e.Page.SelectId=[n]:e.getSelect(),0==e.Page.SelectId.length?void i.msgToast("选择"+e.Page.TypeName+"图片"):void i.ajaxRequest({scope:e,url:"setArticleType",data:{ArticleId:e.Page.SelectId,Id:e.Page.Id,Type:e.Page.Type},success:function(t){i.msgToast("关联"+e.Page.TypeName+"成功"),e.Page.SelectId=[],e.loadMore()},error:function(t){i.msgToast("关联"+e.Page.TypeName+"失败")}})}}]),angular.module("Tjoys").controller("tLogin",["$state","$scope","$rootScope","widget",function(t,e,n,a){n.showHeader=!1,e.cInput={},e.toLogin=function(){return e.cInput.Phone?e.cInput.Password?void a.ajaxRequest({scope:e,url:"getLogin",data:{Phone:e.cInput.Phone,Password:md5(e.cInput.Password)},success:function(e){a.setLogin({UserId:e.UserId,Auth:e.Auth}),t.go("mange.list")},error:function(t){a.msgToast("登录失败")}}):void a.msgToast("请输入登录密码!"):void a.msgToast("请输入手机号!")}}]),angular.module("Tjoys").controller("tPassword",["$scope","$rootScope","widget",function(t,e,n){e.Menu="web",e.SubMenu="password"}]),angular.module("Tjoys").controller("tReport",["$scope","$rootScope","$stateParams","widget",function(t,e,n,a){e.Menu="web",e.SubMenu="report",t.Page={pageIndex:parseInt(n.index,0)||1,pageSize:20,SelectId:[],isAll:!1},t.DataList={},t.loadMore=function(){a.ajaxRequest({scope:t,url:"getCommentList",data:{PageIndex:t.Page.pageIndex,PageSize:t.Page.pageSize},success:function(e){t.DataList=e}})},t.loadMore(),t.setSelect=function(e,n){if(n&&"all"==n)t.Page.isAll?(angular.forEach(t.DataList.CommentList,function(t,e){t.Check=!1}),t.Page.isAll=!1):(angular.forEach(t.DataList.CommentList,function(t,e){t.Check=!0}),t.Page.isAll=!0);else{var a=angular.element(e.target),i=!0,l=a.attr("data-key");a.attr("data-id");t.DataList.CommentList[l].Check&&(t.Page.isAll=!1),t.DataList.CommentList[l].Check=!t.DataList.CommentList[l].Check,angular.forEach(t.DataList.CommentList,function(t,e){t.Check||(i=!1)}),i?t.Page.isAll=!0:t.Page.isAll=!1}},t.getSelect=function(){t.Page.SelectId=[],angular.forEach(t.DataList.CommentList,function(e,n){e.Check&&t.Page.SelectId.push(e.CommentId)})},t.delComment=function(e){return e?t.Page.SelectId=[e]:t.getSelect(),0==t.Page.SelectId.length?void a.msgToast("请选择要删除的评论"):void a.ajaxRequest({scope:t,url:"delComment",data:{CommentId:t.Page.SelectId},success:function(e){t.loadMore(),a.msgToast("评论删除成功")},error:function(t){a.msgToast("评论删除失败")}})}}]),angular.module("Tjoys").controller("tRole",["$scope","$rootScope","widget",function(t,e,n){e.Menu="user",e.SubMenu="role",t.loadMore=function(){n.ajaxRequest({scope:t,url:"getAdminList",success:function(e){t.DataList=e}})},t.loadMore(),t.delRole=function(e){return e?void n.ajaxRequest({scope:t,url:"setRole",data:{UserId:e,Type:"user"},success:function(e){n.msgToast("删除管理员成功"),t.loadMore()}}):void n.msgToast("你没有选择用户")}}]),angular.module("Tjoys").controller("tRoleAdd",["$scope","$rootScope","widget",function(t,e,n){e.Menu="user",e.SubMenu="role-add",t.tInput={UserName:"",Type:"admin"},t.RoleList=[{id:"admin",name:"管理员"},{id:"user",name:"普通用户"}],t.addRole=function(){if(!t.tInput.UserName)return void n.msgToast("请输入用户名");if(!t.tInput.Type)return void n.msgToast("请选择角色");var e=angular.extend({},t.tInput);n.ajaxRequest({scope:t,url:"setRole",data:e,success:function(e){n.msgToast("用户设置成功"),t.tInput={UserName:"",Type:"admin"}},error:function(t){n.msgToast("用户设置失败")}})}}]),angular.module("Tjoys").controller("tSubject",["$scope","$rootScope","$stateParams","widget",function(t,e,n,a){e.Menu="club",e.SubMenu="subject",t.isModify=!1,t.Page={pageIndex:parseInt(n.page,0)||1,pageSize:20,isAll:!1,SelectId:[]},t.DataList={},t.loadMore=function(){t.Page.isAll=!1,a.ajaxRequest({scope:t,url:"getListSubject",data:{SortType:3,PageIndex:t.Page.pageIndex,PageSize:t.Page.pageSize},success:function(e){t.DataList=e},error:function(t){a.msgToast("获取专题失败")}})},t.loadMore(),t.setSelect=function(e,n){if(n&&"all"==n)t.Page.isAll?(angular.forEach(t.DataList.SubjectList,function(t,e){t.Check=!1}),t.Page.isAll=!1):(angular.forEach(t.DataList.SubjectList,function(t,e){t.Check=!0}),t.Page.isAll=!0);else{var a=angular.element(e.target),i=!0,l=a.attr("data-key");a.attr("data-id");t.DataList.SubjectList[l].Check&&(t.Page.isAll=!1),t.DataList.SubjectList[l].Check=!t.DataList.SubjectList[l].Check,angular.forEach(t.DataList.SubjectList,function(t,e){t.Check||(i=!1)}),i?t.Page.isAll=!0:t.Page.isAll=!1}},t.getSelect=function(){t.Page.SelectId=[],angular.forEach(t.DataList.SubjectList,function(e,n){
e.Check&&t.Page.SelectId.push(e.SubjectId)})},t.Delete=function(e){return e?t.Page.SelectId=[e]:t.getSelect(),0==t.Page.SelectId.length?void a.msgToast("请选择要删除的专题"):void a.ajaxRequest({scope:t,url:"delSubject",data:{SubjectId:t.Page.SelectId},success:function(e){t.loadMore(),a.msgToast("删除专题成功")},error:function(t){a.msgToast("删除专题失败")}})},t.Edit=function(e){t.isModify=!0,angular.forEach(t.DataList.SubjectList,function(n,a){n.SubjectId==e&&(t.tInput={SubjectId:n.SubjectId,LongName:n.LongName,ShortName:n.ShortName,ImageUrl:n.ImageUrl,Description:n.Description,ClubId:n.ClubId})})},t.Submit=function(){if(!t.tInput.LongName)return void a.msgToast("专题标题（长标题）不能为空");if(!t.tInput.ShortName)return void a.msgToast("标题简写（短标题）不能为空");if(!t.tInput.ImageUrl)return void a.msgToast("请上传图片");if(!t.tInput.Description)return void a.msgToast("请输入专题描述");var e=angular.extend({},t.tInput);a.ajaxRequest({scope:t,url:"modifySubject",data:e,success:function(e){a.msgToast("修改专题成功"),t.tInput={},t.isModify=!1},error:function(t){a.msgToast("修改专题失败")}})},t.Cancel=function(){t.isModify=!1}}]),angular.module("Tjoys").controller("tSubjectAdd",["$scope","$rootScope","widget",function(t,e,n){e.Menu="club",e.SubMenu="subject-add",t.tInput={},t.addSubject=function(){if(!t.tInput.LongName)return void n.msgToast("专题标题（长标题）不能为空");if(!t.tInput.ShortName)return void n.msgToast("标题简写（短标题）不能为空");if(!t.tInput.ImageUrl)return void n.msgToast("请上传图片");if(!t.tInput.Description)return void n.msgToast("请输入专题描述");var e=angular.extend({},t.tInput);n.ajaxRequest({scope:t,url:"addSubject",data:e,success:function(e){n.msgToast("添加专题成功"),t.tInput={}},error:function(t){n.msgToast("添加专题失败")}})}}]),angular.module("Tjoys").controller("tSubjectContent",["$state","$scope","$rootScope","$stateParams","widget",function(t,e,n,a,i){n.Menu="club",n.SubMenu="subject",e.Page={pageIndex:parseInt(a.index,0)||1,pageSize:20,Id:parseInt(a.id,0),SelectId:[],isAll:!1},e.tContent={},e.DataList={},e.getContent=function(){i.ajaxRequest({scope:e,url:"getContentSubject",data:{SubjectId:e.Page.Id},success:function(t){angular.extend(e.tContent,t)}})},e.getContent(),e.loadMore=function(){e.Page.isAll=!1,i.ajaxRequest({scope:e,url:"getListArticle",data:{SubjectId:e.Page.Id,PageIndex:e.Page.pageIndex,PageSize:e.Page.pageSize},success:function(t){angular.extend(e.DataList,t)}})},e.loadMore(),e.setSelect=function(t,n){if(n&&"all"==n)e.Page.isAll?(angular.forEach(e.DataList.ArticleList,function(t,e){t.Check=!1}),e.Page.isAll=!1):(angular.forEach(e.DataList.ArticleList,function(t,e){t.Check=!0}),e.Page.isAll=!0);else{var a=angular.element(t.target),i=!0,l=a.attr("data-key");a.attr("data-id");e.DataList.ArticleList[l].Check&&(e.Page.isAll=!1),e.DataList.ArticleList[l].Check=!e.DataList.ArticleList[l].Check,angular.forEach(e.DataList.ArticleList,function(t,e){t.Check||(i=!1)}),i?e.Page.isAll=!0:e.Page.isAll=!1}},e.getSelect=function(){e.Page.SelectId=[],angular.forEach(e.DataList.ArticleList,function(t,n){t.Check&&e.Page.SelectId.push(t.ArticleId)})},e.Delete=function(t,n){var a=angular.element(t.target);a.attr("data-type");return n?e.Page.SelectId=[n]:e.getSelect(),0==e.Page.SelectId.length?void i.msgToast("选择删除的图片"):void i.ajaxRequest({scope:e,url:"delArticle",data:{ArticleId:e.Page.SelectId},success:function(t){i.msgToast("删除成功"),e.loadMore()},error:function(t){i.msgToast("删除失败")}})}}]),angular.module("Tjoys").controller("tUser",["$scope","$rootScope","$stateParams","widget",function(t,e,n,a){e.Menu="user",e.SubMenu="user",t.Page={pageIndex:parseInt(n.index,0)||1,pageSize:20,SelectId:[],isAll:!1},t.DataList={},t.loadMore=function(){t.Page.isAll=!1,a.ajaxRequest({scope:t,url:"getUserList",data:{PageIndex:t.Page.pageIndex,PageSize:t.Page.pageSize},success:function(n){angular.forEach(n.UserList,function(t,n){switch(t.Sex){case 1:t.SexName="男";break;case 2:t.SexName="女"}e.CityList?t.AreaName=a.getCityName(t.Area):a.getCityName(t.Area).then(function(e){t.AreaName=e})}),t.DataList=n}})},t.loadMore(),t.Delete=function(e){return e?t.Page.SelectId=[e]:t.getSelect(),0==t.Page.SelectId.length?void a.msgToast("选择删除的用户"):void a.ajaxRequest({scope:t,url:"delUser",data:{UserId:t.Page.SelectId},success:function(e){a.msgToast("删除成功"),t.loadMore()},error:function(t){a.msgToast("删除失败")}})}}]);